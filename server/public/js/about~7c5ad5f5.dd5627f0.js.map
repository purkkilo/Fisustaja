{"version":3,"sources":["webpack:///./src/views/Signing.vue?9615","webpack:///./src/views/Weighting.vue?bc69","webpack:///src/views/Weighting.vue","webpack:///./src/views/Weighting.vue?b4eb","webpack:///./src/views/Weighting.vue","webpack:///./src/views/Signing.vue?1726","webpack:///src/views/Signing.vue","webpack:///./src/views/Signing.vue?c2b8","webpack:///./src/views/Signing.vue?898a","webpack:///./src/views/Results.vue?951d","webpack:///src/views/Results.vue","webpack:///./src/views/Results.vue?bcd9","webpack:///./src/views/Results.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","class","$store","getters","getTheme","staticClass","attrs","_v","scopedSlots","_u","key","fn","ref","on","_g","_b","model","value","callback","$$v","dialog","expression","$event","tab","inputarea","loading_site","signees","_s","notification","_e","loading","sortedArray","undefined","boat_number_input","fetchFromDatabase","boat_number","data","item","domProps","captain_name","competition_boat","searched","clearInputs","getCompetitionFishes","loading_fish","competition_fishes","selected_fish","name","number_rules","preventDefault","isNumber","biggest_fish","saveBiggestFish","_l","input","index","$set","parseInt","addition","refreshing","saveToDatabase","refreshCompetition","competition_id","result_signees","search","headers","sortedCompetition","rowClick","getColor","placement","getColorPoints","total_points","toLocaleString","selected_id","length","searchSelected","still_on_water","search_on_water","headers_on_water","allFinished","staticRenderFns","components","Timedate","Header","ProgressBarQuery","calculated_total_weights","calculated_fish_weights","selected_boat_number","biggest_fishes","biggest_amounts","timer_refresh","interval","inputs","computed","forEach","last_points","signee","last_placement","created","localStorage","getItem","competition","mounted","checkLogin","collabs","document","querySelectorAll","location","href","beforeDestroy","methods","state","logged_in","isDark","user","preferences","lang","is_admin","evt","window","event","charCode","which","keyCode","searchBoatNumber","getSigneeByBoatNumber","points","id","row","select","selected_row","setInputWeights","fish_weights","$nextTick","console","log","calculateNormalResults","filter","sort","a","b","cup_points_total","normal_points","cup_placement_points","cup_participation_points","push","temp_captain_name","locality","cup_points_multiplier","counter","temp_dict","weights","weight","normal_weights","tied_competitors","output","calculateTeamResults","team_names","team","members","member","team_points","team_results","team_name","captain_name_1","captain_name_2","captain_name_3","calculateTotalWeights","i","finished_boats","total_weights","component","VAlert","VAutocomplete","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCol","VContainer","VDataTable","VDialog","VDivider","VIcon","VListItemContent","VList","VListItemIcon","VListItemSubtitle","VListItemTitle","VRow","VSelect","VSpacer","VTab","VTabItem","VTabs","VTabsItems","VTabsSlider","VTextField","errors","error","old_info","starting_place","overwriteSignee","searchFromCup","maxlength","teams","JSON","stringify","selected","disabled","parent","selectItem","slice","toUpperCase","deleteSignee","validateInfo","new_signee","cup","isTeamCompetition","capitalize_words","str","replace","overwrite","commit","temp_team","showError","indexOf","temp_boat_number","search_id","found_signee","getSigneeById","searchId","o","temp_boat","html","element","fish","returned","VAvatar","VCombobox","dialog_clock","intervalSwitch","biggest_fishes_results","biggest_amounts_results","selected_print","choosePrints","saveStatsAsPDF","multiplier","minsize","Math","round","Number","EPSILON","getPointSignees","normal_options","switchNormalResults","selected_normal","saveAsPDF","results","search_team","team_headers","fish_names","calculateBiggestFishes","selected_biggest_fish","results_found_fishes","search_fishes","biggest_fishes_headers","fish_amount_names","calculateBiggestAmounts","selected_biggest_amount","results_found_amounts","search_amounts","biggest_amounts_headers","isPublic","updating","publishCompetition","_id","isFinished","endCompetition","table_fish_names","fishes_chart","signees_chart","normal_headers","signee_headers","winner_headers","biggest_headers","watch","newValue","setInterval","clearInterval","saveAllAsPDF","drawCharts","temp_weights","colors","color","signee_data","point_signees","no_points_signees","type","labels","datasets","options","maintainAspectRatio","responsive","plugins","fontSize","fontStyle","textShadow","position","textmargin","fontColor","fontFamily","title","display","text","precision","fishes_ctx","signees_ctx","charts_drawn","setTimeout","current_tab","getSignees","sortDict","fishes","temp_results","all_results","fish_results","last_weight","result","results_found_amount","replaceAll","string","split","join","dictToArray","temp_arr","values","String","temp_placement","temp_bnumber","temp_captain","temp_points","place","captain_1","captain_2","captain_3","b_number","captain","startin_place","arr","formatDate","start_date","$moment","formatted_date","doc","setFontSize","cup_name","time","line","table_id","pdf_competition_type","columns","rows","competition_type","autoTable","head","body","styles","overflow","cellWidth","rowPageBreak","halign","lineColor","lineWidth","columnStyles","theme","pageBreak","tableWidth","startY","margin","save","onbeforeprint","fishesImg","signeeImg","addImage","previous","finalY","align","onafterprint","includes","addPage","start_coord","charts_loaded","temp_selected_biggest_fish","temp_selected_biggest_amount","temp_selected_normal","Chart","instances","chart","canvas","parentNode","style","height","width","resize","VCheckbox","VSwitch"],"mappings":"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","file":"js/about~7c5ad5f5.dd5627f0.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signing.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signing.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{staticStyle:{\"margin-bottom\":\"60px\"}}),_c('div',{class:{\n      'container-transparent': !_vm.$store.getters.getTheme,\n      'container-transparent-dark': _vm.$store.getters.getTheme,\n    }},[_c('v-row',{staticClass:\"valign-wrapper\"},[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h1',[_vm._v(\"Punnitus\")])]),_c('v-col',{attrs:{\"md\":\"3\"}},[_c('div',{staticClass:\"text-center\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('p',{class:{\n                  'black-text': !_vm.$store.getters.getTheme,\n                  'white-text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Kello/Kilpailuaika \")]),_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\",\"outlined\":\"\",\"color\":\"red darken-4\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-timer\")])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',{staticClass:\"headline\"}),_c('Timedate'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Sulje \")])],1)],1)],1)],1)])],1),_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"order\":\"first\"}},[_c('router-link',{attrs:{\"to\":\"/signing\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"blue\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"edit\")]),_vm._v(\"Ilmoittautuminen\")])],1)],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('router-link',{attrs:{\"to\":\"/overview\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"primary\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"info\")]),_vm._v(\"Kilpailun yleisnäkymä\")])],1)],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"order\":\"last\"}},[_c('router-link',{attrs:{\"to\":\"/results\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"green\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"emoji_events\")]),_vm._v(\"Tulokset\")])],1)],1)],1),_c('v-tabs',{attrs:{\"background-color\":\"blue lighten-2\",\"color\":\"blue darken-4\",\"grow\":\"\",\"show-arrows\":\"\",\"next-icon\":\"mdi-arrow-right-bold-box-outline\",\"prev-icon\":\"mdi-arrow-left-bold-box-outline\",\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"blue darken-4\"}}),_c('v-tab',{attrs:{\"href\":\"#weighting\"}},[_vm._v(\"Punnitus\")]),_c('v-tab',{attrs:{\"href\":\"#situation\"}},[_vm._v(\"Tilannekatsaus\")]),_c('v-tab',{attrs:{\"href\":\"#onwater\"}},[_vm._v(\"Vielä vesillä\")])],1),_c('v-tabs-items',{staticStyle:{\"background\":\"rgba(0,0,0,0.4)\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'weighting'}},[(!_vm.loading_site)?_c('v-row',[_c('v-col',[(_vm.signees.length)?_c('v-row',[_c('v-col',[_c('v-row',[_c('v-col',[_c('p',{staticClass:\"flow-text center\",class:{\n                        'white--text': _vm.$store.getters.getTheme,\n                      }},[_vm._v(\" Punnitus \")])])],1),(_vm.notification)?_c('v-row',[_c('v-col',[_c('v-alert',{attrs:{\"type\":\"success\"}},[_vm._v(\" \"+_vm._s(_vm.notification)+\" \")])],1)],1):_vm._e(),(!_vm.loading)?_c('v-row',[_c('v-col',{class:{\n                      'grey darken-4': _vm.$store.getters.getTheme,\n                      'input-fields': !_vm.$store.getters.getTheme,\n                    },staticStyle:{\"padding\":\"20px\"},attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n                          'white--text': _vm.$store.getters.getTheme,\n                        }},[_vm._v(\" Venekunta \")])]),_c('v-col',{staticClass:\"d-flex\"},[_c('v-autocomplete',{attrs:{\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"dark\":_vm.$store.getters.getTheme,\"items\":_vm.sortedArray,\"item-text\":\"select\",\"label\":\"Valitse tai hae venekunta\",\"hint\":_vm.boat_number_input['boat_number'] !== undefined\n                            ? (\"(\" + (_vm.boat_number_input.boat_number) + \")\\n                        \" + (_vm.boat_number_input.captain_name) + \",\\n                        \" + (_vm.boat_number_input.temp_captain_name))\n                            : \"Valitse tai hae venekunta\",\"disabled\":_vm.loading_site,\"outlined\":\"\",\"return-object\":\"\",\"single-line\":\"\"},on:{\"input\":function($event){return _vm.fetchFromDatabase(\n                            _vm.boat_number_input\n                              ? _vm.boat_number_input.boat_number\n                              : -1\n                          )}},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [(typeof data.item !== 'object')?[_c('v-list-item-icon',[(data.item.returned)?_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-checkbox-marked-circle\")]):_c('v-icon',{attrs:{\"color\":\"yellow\"}},[_vm._v(\"mdi-progress-question\")])],1),_c('v-list-item-content',{domProps:{\"textContent\":_vm._s(data.item)}})]:[_c('v-list-item-icon',[(data.item.returned)?_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-checkbox-marked-circle\")]):_c('v-icon',{attrs:{\"color\":\"yellow darken-2\"}},[_vm._v(\"mdi-account-question\")])],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"innerHTML\":_vm._s(data.item.boat_number)}}),_c('v-list-item-subtitle',{domProps:{\"innerHTML\":_vm._s(data.item.captain_name)}})],1)]]}}],null,false,554738487),model:{value:(_vm.boat_number_input),callback:function ($$v) {_vm.boat_number_input=$$v},expression:\"boat_number_input\"}})],1)],1)],1):_vm._e(),(!_vm.competition_boat)?_c('v-row',[_c('v-col',[(_vm.loading)?_c('v-alert',{attrs:{\"type\":\"info\"}}):_vm._e(),(!_vm.searched)?_c('v-alert',{attrs:{\"type\":\"warning\"}},[_vm._v(\" Venekuntaa ei valittuna \")]):_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Numerolla ei löytynyt venekuntaa tietokannasta! \")])],1)],1):_vm._e(),(_vm.competition_boat)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[(!_vm.loading)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"block\":\"\",\"color\":\"yellow\"},on:{\"click\":_vm.clearInputs}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"backspace\")]),_vm._v(\"Peruuta valinta\")])],1)],1):_vm._e()],1),_c('v-col',{staticStyle:{\"margin-bottom\":\"30px\"},attrs:{\"md\":\"12\"}},[_c('v-divider',{staticClass:\"black\"})],1),_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-col',[(_vm.$store.getters.getCompetitionFishes.length)?_c('ul',{attrs:{\"id\":\"fish_weights\"}},[_c('li',{staticStyle:{\"padding\":\"10px\",\"margin-bottom\":\"10px\"}},[(!_vm.loading_fish)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"3\"}},[_c('p',{staticClass:\"flow-text\",class:{\n                                  'white--text': _vm.$store.getters.getTheme,\n                                }},[_vm._v(\" Suurin kala? \")])]),_c('v-col',{attrs:{\"md\":\"4\"}},[_c('v-select',{staticClass:\"flow-text\",attrs:{\"outlined\":\"\",\"label\":\"Valitse kalalaji painamalla\",\"item-text\":\"name\",\"items\":_vm.competition_fishes,\"dark\":_vm.$store.getters.getTheme},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',{attrs:{\"color\":\"primary\",\"close\":\"\"},on:{\"click:close\":function($event){_vm.selected_fish = null}}},[_vm._v(\" \"+_vm._s(data.item.name)+\" \")])]}}],null,false,4227073677),model:{value:(_vm.selected_fish),callback:function ($$v) {_vm.selected_fish=$$v},expression:\"selected_fish\"}})],1),_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Paino grammoina\",\"type\":\"number\",\"value\":\"0\",\"step\":\"50\",\"min\":\"0\",\"rules\":_vm.number_rules,\"loading\":_vm.loading_fish},on:{\"paste\":function($event){$event.preventDefault();},\"keypress\":function($event){return _vm.isNumber($event)}},model:{value:(_vm.biggest_fish),callback:function ($$v) {_vm.biggest_fish=$$v},expression:\"biggest_fish\"}})],1),_c('v-col',{attrs:{\"md\":\"2\"}},[(_vm.selected_fish && _vm.biggest_fish)?_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green\"},on:{\"click\":_vm.saveBiggestFish}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"add_box\")]),_vm._v(\"Tallenna\")]):_vm._e()],1)],1):_c('v-row',[_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n                                  'white--text': _vm.$store.getters.getTheme,\n                                }},[_vm._v(\" Lisätään kala tietokantaan... \")]),_c('ProgressBarQuery')],1)],1)],1),_vm._l((_vm.inputs),function(input,index){return _c('li',{key:index},[_c('v-row',[_c('v-col',{attrs:{\"md\":\"12\"}},[_c('v-divider',{staticClass:\"black\"})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\"}},[_c('span',{staticClass:\"flow-text\",class:{\n                                  'white--text': _vm.$store.getters.getTheme,\n                                }},[_vm._v(\" \"+_vm._s(index + 1)+\". \")]),_c('span',{staticClass:\"flow-text\",class:{\n                                  'white--text': _vm.$store.getters.getTheme,\n                                }},[_vm._v(\" \"+_vm._s(input.name)+\" \")])]),_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Paino grammoina\",\"type\":\"number\",\"value\":\"0\",\"step\":\"50\",\"min\":\"0\",\"rules\":_vm.number_rules,\"loading\":_vm.loading_fish},on:{\"paste\":function($event){$event.preventDefault();},\"keypress\":function($event){return _vm.isNumber($event)}},model:{value:(input.value),callback:function ($$v) {_vm.$set(input, \"value\", $$v)},expression:\"input.value\"}})],1),_c('v-col',{attrs:{\"md\":\"2\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                                var on = ref.on;\n                                var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"add\")]),_vm._v(\"Plussaa\")])]}}],null,true),model:{value:(input.dialog),callback:function ($$v) {_vm.$set(input, \"dialog\", $$v)},expression:\"input.dialog\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Yhteenlaske summat\")])]),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('v-text-field',{staticClass:\"title\",attrs:{\"label\":\"Alkuperäinen arvo\",\"value\":input.value,\"disabled\":\"\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"md\":\"6 \",\"offset-md\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"Lisättävä arvo\",\"type\":\"number\",\"step\":\"50\",\"min\":\"0\",\"single-line\":\"\",\"outlined\":\"\"},on:{\"paste\":function($event){$event.preventDefault();},\"keypress\":function($event){return _vm.isNumber($event)}},model:{value:(input.addition),callback:function ($$v) {_vm.$set(input, \"addition\", $$v)},expression:\"input.addition\"}})],1)],1),_c('v-row',[_c('v-col',{staticClass:\"title red--text\",attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('v-text-field',{attrs:{\"value\":parseInt(input.value) +\n                                              parseInt(\n                                                input.addition\n                                                  ? input.addition\n                                                  : 0\n                                              ),\"label\":\"Summa\",\"disabled\":\"\"}})],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"red darken-1\"},on:{\"click\":function($event){input.addition = null;\n                                        input.dialog = false;}}},[_vm._v(\"Peruuta\")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"green darken-1\"},on:{\"click\":function($event){input.value =\n                                          parseInt(input.value) +\n                                          parseInt(\n                                            input.addition\n                                              ? input.addition\n                                              : 0\n                                          );\n                                        input.dialog = false;\n                                        input.addition = 0;}}},[_vm._v(\"Tallenna\")])],1)],1)],1)],1)],1)],1)})],2):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"md\":\"12\"}},[_c('v-divider',{staticClass:\"black\"})],1)],1),(!_vm.loading)?_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"red\",\"loading\":_vm.refreshing},on:{\"click\":function($event){return _vm.saveToDatabase(true)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"delete_forever\")]),_vm._v(\"Nollaa\")])],1),_c('v-col',[(_vm.refreshing)?_c('p',{staticClass:\"flow-text\",class:{\n                              'white--text': _vm.$store.getters.getTheme,\n                            }},[_vm._v(\" Synkronoidaan tietokannan kanssa... \")]):_vm._e()]),_c('v-col',[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green\",\"loading\":_vm.refreshing},on:{\"click\":function($event){return _vm.saveToDatabase(false)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"check\")]),_vm._v(\"Tallenna\")])],1)],1):_vm._e(),(!_vm.loading)?_c('v-row',[_c('v-col',[_c('v-btn',{staticClass:\"white--text\",attrs:{\"id\":\"updatebtn\",\"large\":\"\",\"tile\":\"\",\"color\":\"blue darken-4\"},on:{\"click\":function($event){return _vm.refreshCompetition(_vm.competition_id)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"update\")]),_vm._v(\"Päivitä kilpailun tiedot \")])],1)],1):_c('v-row',[_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n                              'white--text': _vm.$store.getters.getTheme,\n                            }},[_vm._v(\" Päivitetään tiedot tietokantaan... \")]),_c('ProgressBarQuery')],1)],1)],1)],1)],1):_vm._e()],1)],1):_c('v-row',[_c('v-col',{staticStyle:{\"padding\":\"30px\"}},[_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Kilpailussa ei vielä ilmoittautuneita! \")])])],1)],1)],1):_c('v-row',[_c('v-col',[_c('h2',{class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Haetaan veneitä... \")]),_c('ProgressBarQuery')],1)],1)],1),_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'situation'}},[_c('v-row',[_c('v-col',[(_vm.result_signees.length)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Tilannekatsaus \")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.sortedCompetition,\"search\":_vm.search},on:{\"click:row\":_vm.rowClick},scopedSlots:_vm._u([{key:\"item.placement\",fn:function(ref){\n        var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.placement)}},[_vm._v(_vm._s(item.placement)+\".\")])]}},{key:\"item.total_points\",fn:function(ref){\n        var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":_vm.getColorPoints(item.total_points)}},[_vm._v(_vm._s(item.total_points.toLocaleString())+\" p\")])]}}],null,true)})],1)],1)],1):_vm._e(),(_vm.selected_id && _vm.result_signees.length)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"30px\",\"margin-bottom\":\"30px\"},attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"blue\"},on:{\"click\":_vm.searchSelected}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"assignment_return\")]),_vm._v(\"Siirry punnitukseen\")])],1)],1):_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"30px\",\"margin-bottom\":\"30px\"},attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[(_vm.result_signees.length)?_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Voit siirtyä punnitukseen myös klikkaamalla haluamaasi riviä taulukosta ja painamalla ilmestyvää nappulaa \")]):_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Ei vielä tuloksia! \")])])],1)],1)],1)],1),_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'onwater'}},[_c('v-row',[_c('v-col',[(!_vm.signees.length || !_vm.still_on_water.length)?_c('v-row',[_c('v-col',{staticClass:\"input-fields\",staticStyle:{\"margin-top\":\"100px\"},attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[(!_vm.signees.length)?_c('p',{staticClass:\"flow-text red--text\"},[_vm._v(\" Kilpailussa ei vielä ilmoittautuneita! \")]):_vm._e(),(!_vm.still_on_water.length && _vm.signees.length)?_c('p',{staticClass:\"flow-text green--text\"},[_vm._v(\" Kaikki venekunnat palanneet maaliin! \")]):_vm._e()])],1):_vm._e(),(_vm.still_on_water.length)?_c('v-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Venekunnat, jotka ovat vielä vesillä \")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search_on_water),callback:function ($$v) {_vm.search_on_water=$$v},expression:\"search_on_water\"}}),_vm._v(\" >\")],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers_on_water,\"items\":_vm.still_on_water,\"search\":_vm.search_on_water,\"loading\":_vm.loading},on:{\"click:row\":_vm.rowClick},scopedSlots:_vm._u([{key:\"item.boat_number\",fn:function(ref){\n        var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.boat_number)+\".\")])]}}],null,true)})],1)],1)],1):_vm._e(),(_vm.selected_id && _vm.still_on_water.length)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"30px\",\"margin-bottom\":\"30px\"},attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"blue\"},on:{\"click\":_vm.searchSelected}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"assignment_return\")]),_vm._v(\"Siirry punnitukseen\")])],1)],1):_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"30px\",\"margin-bottom\":\"30px\"},attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[(_vm.still_on_water.length)?_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Voit siirtyä punnitukseen myös klikkaamalla haluamaasi riviä taulukosta ja painamalla ilmestyvää nappulaa \")]):_vm._e(),(_vm.still_on_water.length)?_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"grey darken-4\",\"loading\":_vm.loading},on:{\"click\":_vm.allFinished}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"check_circle_outline\")]),_vm._v(\"Kaikki saapuneet maaliin\")]):_vm._e()],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /weighting -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <v-container>\r\n    <Header style=\"margin-bottom:60px\" />\r\n    <div\r\n      v-bind:class=\"{\r\n        'container-transparent': !$store.getters.getTheme,\r\n        'container-transparent-dark': $store.getters.getTheme,\r\n      }\"\r\n    >\r\n      <v-row class=\"valign-wrapper\">\r\n        <v-col md=\"6\" offset-md=\"3\">\r\n          <h1>Punnitus</h1>\r\n        </v-col>\r\n        <v-col md=\"3\">\r\n          <div class=\"text-center\">\r\n            <v-dialog v-model=\"dialog\">\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <p\r\n                  v-bind:class=\"{\r\n                    'black-text': !$store.getters.getTheme,\r\n                    'white-text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Kello/Kilpailuaika\r\n                </p>\r\n                <v-btn\r\n                  text\r\n                  outlined\r\n                  color=\"red darken-4\"\r\n                  dark\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                >\r\n                  <v-icon>mdi-timer</v-icon>\r\n                </v-btn>\r\n              </template>\r\n\r\n              <v-card :dark=\"$store.getters.getTheme\">\r\n                <v-card-title class=\"headline\"> </v-card-title>\r\n                <Timedate />\r\n\r\n                <v-card-actions>\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn color=\"primary\" outlined @click=\"dialog = false\">\r\n                    Sulje\r\n                  </v-btn>\r\n                </v-card-actions>\r\n              </v-card>\r\n            </v-dialog>\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n      <!-- Navigation to other competition pages -->\r\n\r\n      <v-row>\r\n        <v-col order=\"first\" style=\"margin-top:20px\">\r\n          <router-link to=\"/signing\">\r\n            <v-btn large rounded color=\"blue\" class=\"white--text\"\r\n              ><i class=\"material-icons left\">edit</i>Ilmoittautuminen</v-btn\r\n            >\r\n          </router-link>\r\n        </v-col>\r\n        <v-col style=\"margin-top:20px\">\r\n          <router-link to=\"/overview\">\r\n            <v-btn large rounded color=\"primary\"\r\n              ><i class=\"material-icons left\">info</i>Kilpailun\r\n              yleisnäkymä</v-btn\r\n            >\r\n          </router-link>\r\n        </v-col>\r\n        <v-col order=\"last\" style=\"margin-top:20px\">\r\n          <router-link to=\"/results\">\r\n            <v-btn large rounded color=\"green\" class=\"white--text\"\r\n              ><i class=\"material-icons left\">emoji_events</i>Tulokset</v-btn\r\n            >\r\n          </router-link>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <!-- Tabs -->\r\n      <v-tabs\r\n        v-model=\"tab\"\r\n        background-color=\"blue lighten-2\"\r\n        color=\"blue darken-4\"\r\n        grow\r\n        show-arrows\r\n        next-icon=\"mdi-arrow-right-bold-box-outline\"\r\n        prev-icon=\"mdi-arrow-left-bold-box-outline\"\r\n        center-active\r\n      >\r\n        <v-tabs-slider color=\"blue darken-4\"></v-tabs-slider>\r\n        <v-tab href=\"#weighting\">Punnitus</v-tab>\r\n        <v-tab href=\"#situation\">Tilannekatsaus</v-tab>\r\n        <v-tab href=\"#onwater\">Vielä vesillä</v-tab>\r\n      </v-tabs>\r\n      <v-tabs-items v-model=\"tab\" style=\"background: rgba(0,0,0,0.4);\">\r\n        <!-- \"Punnitus\" tab -->\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'weighting'\"\r\n        >\r\n          <v-row v-if=\"!loading_site\">\r\n            <v-col>\r\n              <v-row v-if=\"signees.length\">\r\n                <v-col>\r\n                  <v-row>\r\n                    <v-col>\r\n                      <p\r\n                        class=\"flow-text center\"\r\n                        v-bind:class=\"{\r\n                          'white--text': $store.getters.getTheme,\r\n                        }\"\r\n                      >\r\n                        Punnitus\r\n                      </p>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row v-if=\"notification\">\r\n                    <v-col>\r\n                      <v-alert type=\"success\">\r\n                        {{ notification }}\r\n                      </v-alert>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row v-if=\"!loading\">\r\n                    <v-col\r\n                      v-bind:class=\"{\r\n                        'grey darken-4': $store.getters.getTheme,\r\n                        'input-fields': !$store.getters.getTheme,\r\n                      }\"\r\n                      md=\"6\"\r\n                      offset-md=\"3\"\r\n                      style=\"padding:20px;\"\r\n                    >\r\n                      <v-col>\r\n                        <p\r\n                          class=\"flow-text\"\r\n                          v-bind:class=\"{\r\n                            'white--text': $store.getters.getTheme,\r\n                          }\"\r\n                        >\r\n                          Venekunta\r\n                        </p>\r\n                      </v-col>\r\n                      <v-col class=\"d-flex\">\r\n                        <v-autocomplete\r\n                          :menu-props=\"\r\n                            $store.getters.getTheme ? 'dark' : 'light'\r\n                          \"\r\n                          :dark=\"$store.getters.getTheme\"\r\n                          v-model=\"boat_number_input\"\r\n                          :items=\"sortedArray\"\r\n                          item-text=\"select\"\r\n                          label=\"Valitse tai hae venekunta\"\r\n                          :hint=\"\r\n                            boat_number_input['boat_number'] !== undefined\r\n                              ? `(${boat_number_input.boat_number})\r\n                          ${boat_number_input.captain_name},\r\n                          ${boat_number_input.temp_captain_name}`\r\n                              : `Valitse tai hae venekunta`\r\n                          \"\r\n                          :disabled=\"loading_site\"\r\n                          outlined\r\n                          return-object\r\n                          single-line\r\n                          @input=\"\r\n                            fetchFromDatabase(\r\n                              boat_number_input\r\n                                ? boat_number_input.boat_number\r\n                                : -1\r\n                            )\r\n                          \"\r\n                        >\r\n                          <template v-slot:item=\"data\">\r\n                            <template v-if=\"typeof data.item !== 'object'\">\r\n                              <v-list-item-icon>\r\n                                <v-icon v-if=\"data.item.returned\" color=\"green\"\r\n                                  >mdi-checkbox-marked-circle</v-icon\r\n                                >\r\n                                <v-icon v-else color=\"yellow\"\r\n                                  >mdi-progress-question</v-icon\r\n                                >\r\n                              </v-list-item-icon>\r\n                              <v-list-item-content\r\n                                v-text=\"data.item\"\r\n                              ></v-list-item-content>\r\n                            </template>\r\n                            <template v-else>\r\n                              <v-list-item-icon>\r\n                                <v-icon v-if=\"data.item.returned\" color=\"green\"\r\n                                  >mdi-checkbox-marked-circle</v-icon\r\n                                >\r\n                                <v-icon v-else color=\"yellow darken-2\"\r\n                                  >mdi-account-question</v-icon\r\n                                >\r\n                              </v-list-item-icon>\r\n                              <v-list-item-content>\r\n                                <v-list-item-title\r\n                                  v-html=\"data.item.boat_number\"\r\n                                ></v-list-item-title>\r\n                                <v-list-item-subtitle\r\n                                  v-html=\"data.item.captain_name\"\r\n                                ></v-list-item-subtitle>\r\n                              </v-list-item-content>\r\n                            </template>\r\n                          </template>\r\n                        </v-autocomplete>\r\n                      </v-col>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row v-if=\"!competition_boat\">\r\n                    <v-col>\r\n                      <v-alert v-if=\"loading\" type=\"info\"> </v-alert>\r\n                      <v-alert v-if=\"!searched\" type=\"warning\">\r\n                        Venekuntaa ei valittuna\r\n                      </v-alert>\r\n                      <v-alert v-else type=\"error\">\r\n                        Numerolla ei löytynyt venekuntaa tietokannasta!\r\n                      </v-alert>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row v-if=\"competition_boat\">\r\n                    <v-col md=\"8\" offset-md=\"2\">\r\n                      <v-row v-if=\"!loading\">\r\n                        <v-col md=\"4\" offset-md=\"4\">\r\n                          <v-btn large block color=\"yellow\" @click=\"clearInputs\"\r\n                            ><i class=\"material-icons left\">backspace</i>Peruuta\r\n                            valinta</v-btn\r\n                          >\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-col>\r\n                    <v-col md=\"12\" style=\"margin-bottom:30px\">\r\n                      <v-divider class=\"black\"></v-divider>\r\n                    </v-col>\r\n                    <v-col md=\"10\" offset-md=\"1\">\r\n                      <v-col>\r\n                        <ul\r\n                          id=\"fish_weights\"\r\n                          v-if=\"$store.getters.getCompetitionFishes.length\"\r\n                        >\r\n                          <li style=\"padding:10px;margin-bottom:10px\">\r\n                            <v-row v-if=\"!loading_fish\">\r\n                              <v-col md=\"3\">\r\n                                <p\r\n                                  class=\"flow-text\"\r\n                                  v-bind:class=\"{\r\n                                    'white--text': $store.getters.getTheme,\r\n                                  }\"\r\n                                >\r\n                                  Suurin kala?\r\n                                </p>\r\n                              </v-col>\r\n                              <v-col md=\"4\">\r\n                                <v-select\r\n                                  outlined\r\n                                  class=\"flow-text\"\r\n                                  label=\"Valitse kalalaji painamalla\"\r\n                                  v-model=\"selected_fish\"\r\n                                  item-text=\"name\"\r\n                                  :items=\"competition_fishes\"\r\n                                  :dark=\"$store.getters.getTheme\"\r\n                                >\r\n                                  <template v-slot:selection=\"data\">\r\n                                    <v-chip\r\n                                      color=\"primary\"\r\n                                      close\r\n                                      @click:close=\"selected_fish = null\"\r\n                                    >\r\n                                      {{ data.item.name }}\r\n                                    </v-chip>\r\n                                  </template>\r\n                                </v-select>\r\n                              </v-col>\r\n                              <v-col class=\"input-fields\" md=\"3\">\r\n                                <v-text-field\r\n                                  :dark=\"$store.getters.getTheme\"\r\n                                  label=\"Paino grammoina\"\r\n                                  v-model=\"biggest_fish\"\r\n                                  type=\"number\"\r\n                                  @paste.prevent\r\n                                  @keypress=\"isNumber($event)\"\r\n                                  value=\"0\"\r\n                                  step=\"50\"\r\n                                  min=\"0\"\r\n                                  :rules=\"number_rules\"\r\n                                  :loading=\"loading_fish\"\r\n                                />\r\n                              </v-col>\r\n                              <v-col md=\"2\">\r\n                                <v-btn\r\n                                  v-if=\"selected_fish && biggest_fish\"\r\n                                  large\r\n                                  tile\r\n                                  color=\"green\"\r\n                                  @click=\"saveBiggestFish\"\r\n                                  ><i class=\"material-icons left\">add_box</i\r\n                                  >Tallenna</v-btn\r\n                                >\r\n                              </v-col>\r\n                            </v-row>\r\n                            <v-row v-else>\r\n                              <v-col>\r\n                                <p\r\n                                  class=\"flow-text\"\r\n                                  v-bind:class=\"{\r\n                                    'white--text': $store.getters.getTheme,\r\n                                  }\"\r\n                                >\r\n                                  Lisätään kala tietokantaan...\r\n                                </p>\r\n                                <ProgressBarQuery />\r\n                              </v-col>\r\n                            </v-row>\r\n                          </li>\r\n                          <li v-for=\"(input, index) in inputs\" :key=\"index\">\r\n                            <v-row>\r\n                              <v-col md=\"12\">\r\n                                <v-divider class=\"black\"></v-divider>\r\n                              </v-col>\r\n                            </v-row>\r\n                            <v-row>\r\n                              <v-col md=\"6\">\r\n                                <span\r\n                                  class=\"flow-text\"\r\n                                  v-bind:class=\"{\r\n                                    'white--text': $store.getters.getTheme,\r\n                                  }\"\r\n                                >\r\n                                  {{ index + 1 }}.\r\n                                </span>\r\n                                <span\r\n                                  class=\"flow-text\"\r\n                                  v-bind:class=\"{\r\n                                    'white--text': $store.getters.getTheme,\r\n                                  }\"\r\n                                >\r\n                                  {{ input.name }}\r\n                                </span>\r\n                              </v-col>\r\n                              <v-col md=\"4\" class=\"input-fields\">\r\n                                <v-text-field\r\n                                  :dark=\"$store.getters.getTheme\"\r\n                                  label=\"Paino grammoina\"\r\n                                  v-model=\"input.value\"\r\n                                  type=\"number\"\r\n                                  @paste.prevent\r\n                                  @keypress=\"isNumber($event)\"\r\n                                  value=\"0\"\r\n                                  step=\"50\"\r\n                                  min=\"0\"\r\n                                  :rules=\"number_rules\"\r\n                                  :loading=\"loading_fish\"\r\n                                />\r\n                              </v-col>\r\n                              <v-col md=\"2\">\r\n                                <v-dialog\r\n                                  v-model=\"input.dialog\"\r\n                                  persistent\r\n                                  max-width=\"600px\"\r\n                                >\r\n                                  <template v-slot:activator=\"{ on, attrs }\">\r\n                                    <v-btn\r\n                                      color=\"primary\"\r\n                                      dark\r\n                                      v-bind=\"attrs\"\r\n                                      v-on=\"on\"\r\n                                      ><i class=\"material-icons left\">add</i\r\n                                      >Plussaa</v-btn\r\n                                    >\r\n                                  </template>\r\n                                  <v-card :dark=\"$store.getters.getTheme\">\r\n                                    <v-card-title>\r\n                                      <span class=\"headline\"\r\n                                        >Yhteenlaske summat</span\r\n                                      >\r\n                                    </v-card-title>\r\n                                    <v-card-text>\r\n                                      <v-row>\r\n                                        <v-col md=\"6\" offset-md=\"3\">\r\n                                          <v-text-field\r\n                                            class=\"title\"\r\n                                            label=\"Alkuperäinen arvo\"\r\n                                            :value=\"input.value\"\r\n                                            disabled\r\n                                          ></v-text-field>\r\n                                        </v-col>\r\n                                      </v-row>\r\n                                      <v-row>\r\n                                        <v-col md=\"6 \" offset-md=\"3\">\r\n                                          <v-text-field\r\n                                            v-model=\"input.addition\"\r\n                                            label=\"Lisättävä arvo\"\r\n                                            type=\"number\"\r\n                                            @paste.prevent\r\n                                            @keypress=\"isNumber($event)\"\r\n                                            step=\"50\"\r\n                                            min=\"0\"\r\n                                            single-line\r\n                                            outlined\r\n                                          ></v-text-field>\r\n                                        </v-col>\r\n                                      </v-row>\r\n                                      <v-row>\r\n                                        <v-col\r\n                                          md=\"6\"\r\n                                          offset-md=\"3\"\r\n                                          class=\"title red--text\"\r\n                                        >\r\n                                          <v-text-field\r\n                                            :value=\"\r\n                                              parseInt(input.value) +\r\n                                                parseInt(\r\n                                                  input.addition\r\n                                                    ? input.addition\r\n                                                    : 0\r\n                                                )\r\n                                            \"\r\n                                            label=\"Summa\"\r\n                                            disabled\r\n                                          ></v-text-field>\r\n                                        </v-col>\r\n                                      </v-row>\r\n                                    </v-card-text>\r\n                                    <v-card-actions>\r\n                                      <v-spacer></v-spacer>\r\n                                      <v-btn\r\n                                        outlined\r\n                                        color=\"red darken-1\"\r\n                                        @click=\"\r\n                                          input.addition = null;\r\n                                          input.dialog = false;\r\n                                        \"\r\n                                        >Peruuta</v-btn\r\n                                      >\r\n                                      <v-btn\r\n                                        outlined\r\n                                        color=\"green darken-1\"\r\n                                        @click=\"\r\n                                          input.value =\r\n                                            parseInt(input.value) +\r\n                                            parseInt(\r\n                                              input.addition\r\n                                                ? input.addition\r\n                                                : 0\r\n                                            );\r\n                                          input.dialog = false;\r\n                                          input.addition = 0;\r\n                                        \"\r\n                                        >Tallenna</v-btn\r\n                                      >\r\n                                    </v-card-actions>\r\n                                  </v-card>\r\n                                </v-dialog>\r\n                              </v-col>\r\n                            </v-row>\r\n                          </li>\r\n                        </ul>\r\n                        <v-row>\r\n                          <v-col md=\"12\">\r\n                            <v-divider class=\"black\"></v-divider>\r\n                          </v-col>\r\n                        </v-row>\r\n                        <v-row v-if=\"!loading\">\r\n                          <v-col>\r\n                            <v-btn\r\n                              large\r\n                              tile\r\n                              color=\"red\"\r\n                              @click=\"saveToDatabase(true)\"\r\n                              :loading=\"refreshing\"\r\n                              ><i class=\"material-icons left\">delete_forever</i\r\n                              >Nollaa</v-btn\r\n                            >\r\n                          </v-col>\r\n                          <v-col>\r\n                            <p\r\n                              class=\"flow-text\"\r\n                              v-if=\"refreshing\"\r\n                              v-bind:class=\"{\r\n                                'white--text': $store.getters.getTheme,\r\n                              }\"\r\n                            >\r\n                              Synkronoidaan tietokannan kanssa...\r\n                            </p>\r\n                          </v-col>\r\n                          <v-col>\r\n                            <v-btn\r\n                              large\r\n                              tile\r\n                              color=\"green\"\r\n                              @click=\"saveToDatabase(false)\"\r\n                              :loading=\"refreshing\"\r\n                              ><i class=\"material-icons left\">check</i\r\n                              >Tallenna</v-btn\r\n                            >\r\n                          </v-col>\r\n                        </v-row>\r\n                        <v-row v-if=\"!loading\">\r\n                          <v-col>\r\n                            <v-btn\r\n                              id=\"updatebtn\"\r\n                              large\r\n                              tile\r\n                              color=\"blue darken-4\"\r\n                              @click=\"refreshCompetition(competition_id)\"\r\n                              class=\"white--text\"\r\n                            >\r\n                              <i class=\"material-icons left\">update</i>Päivitä\r\n                              kilpailun tiedot\r\n                            </v-btn>\r\n                          </v-col>\r\n                        </v-row>\r\n                        <v-row v-else>\r\n                          <v-col>\r\n                            <p\r\n                              class=\"flow-text\"\r\n                              v-bind:class=\"{\r\n                                'white--text': $store.getters.getTheme,\r\n                              }\"\r\n                            >\r\n                              Päivitetään tiedot tietokantaan...\r\n                            </p>\r\n                            <ProgressBarQuery />\r\n                          </v-col>\r\n                        </v-row>\r\n                      </v-col>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-else>\r\n                <v-col style=\"padding:30px\">\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    Kilpailussa ei vielä ilmoittautuneita!\r\n                  </p>\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-else>\r\n            <v-col>\r\n              <h2 v-bind:class=\"{ 'white--text': $store.getters.getTheme }\">\r\n                Haetaan veneitä...\r\n              </h2>\r\n              <ProgressBarQuery />\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n\r\n        <!-- \"Tilannekatsaus\" tab -->\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'situation'\"\r\n        >\r\n          <v-row>\r\n            <v-col>\r\n              <v-row v-if=\"result_signees.length\">\r\n                <v-col md=\"8\" offset-md=\"2\" style=\"margin-top:20px;\">\r\n                  <v-card :dark=\"$store.getters.getTheme\">\r\n                    <v-card-title>\r\n                      <p class=\"flow-text\">\r\n                        Tilannekatsaus\r\n                      </p>\r\n                      <v-spacer></v-spacer>\r\n                      <v-text-field\r\n                        v-model=\"search\"\r\n                        append-icon=\"mdi-magnify\"\r\n                        label=\"Hae kilpailijaa\"\r\n                        single-line\r\n                        hide-details\r\n                      ></v-text-field>\r\n                    </v-card-title>\r\n                    <v-data-table\r\n                      @click:row=\"rowClick\"\r\n                      :headers=\"headers\"\r\n                      :items=\"sortedCompetition\"\r\n                      :search=\"search\"\r\n                    >\r\n                      <template v-slot:[`item.placement`]=\"{ item }\">\r\n                        <v-chip\r\n                          :outlined=\"$store.getters.getTheme\"\r\n                          :color=\"getColor(item.placement)\"\r\n                          >{{ item.placement }}.</v-chip\r\n                        >\r\n                      </template>\r\n                      <template v-slot:[`item.total_points`]=\"{ item }\">\r\n                        <v-chip :color=\"getColorPoints(item.total_points)\"\r\n                          >{{ item.total_points.toLocaleString() }} p</v-chip\r\n                        >\r\n                      </template>\r\n                    </v-data-table>\r\n                  </v-card>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"selected_id && result_signees.length\">\r\n                <v-col\r\n                  md=\"8\"\r\n                  offset-md=\"2\"\r\n                  style=\"margin-top:30px;margin-bottom:30px\"\r\n                >\r\n                  <v-btn large tile color=\"blue\" @click=\"searchSelected\"\r\n                    ><i class=\"material-icons left\">assignment_return</i>Siirry\r\n                    punnitukseen</v-btn\r\n                  >\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-else>\r\n                <v-col\r\n                  md=\"8\"\r\n                  offset-md=\"2\"\r\n                  style=\"margin-top:30px;margin-bottom:30px\"\r\n                >\r\n                  <p\r\n                    v-if=\"result_signees.length\"\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    Voit siirtyä punnitukseen myös klikkaamalla haluamaasi riviä\r\n                    taulukosta ja painamalla ilmestyvää nappulaa\r\n                  </p>\r\n                  <p\r\n                    v-else\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    Ei vielä tuloksia!\r\n                  </p>\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n\r\n        <!-- \"Vielä vesillä\" tab -->\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'onwater'\"\r\n        >\r\n          <v-row>\r\n            <v-col>\r\n              <v-row v-if=\"!signees.length || !still_on_water.length\">\r\n                <v-col\r\n                  md=\"8\"\r\n                  offset-md=\"2\"\r\n                  class=\"input-fields\"\r\n                  style=\"margin-top:100px;\"\r\n                >\r\n                  <p v-if=\"!signees.length\" class=\"flow-text red--text\">\r\n                    Kilpailussa ei vielä ilmoittautuneita!\r\n                  </p>\r\n                  <p\r\n                    v-if=\"!still_on_water.length && signees.length\"\r\n                    class=\"flow-text green--text\"\r\n                  >\r\n                    Kaikki venekunnat palanneet maaliin!\r\n                  </p>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"still_on_water.length\" style=\"margin-top:20px\">\r\n                <v-col md=\"8\" offset-md=\"2\">\r\n                  <v-card :dark=\"$store.getters.getTheme\">\r\n                    <v-card-title>\r\n                      <p class=\"flow-text\">\r\n                        Venekunnat, jotka ovat vielä vesillä\r\n                      </p>\r\n                      <v-spacer></v-spacer>\r\n                      <v-text-field\r\n                        v-model=\"search_on_water\"\r\n                        append-icon=\"mdi-magnify\"\r\n                        label=\"Hae kilpailijaa\"\r\n                        single-line\r\n                        hide-details\r\n                      ></v-text-field>\r\n                      ></v-card-title\r\n                    >\r\n\r\n                    <v-data-table\r\n                      @click:row=\"rowClick\"\r\n                      :headers=\"headers_on_water\"\r\n                      :items=\"still_on_water\"\r\n                      :search=\"search_on_water\"\r\n                      :loading=\"loading\"\r\n                    >\r\n                      <template v-slot:[`item.boat_number`]=\"{ item }\">\r\n                        <v-chip>{{ item.boat_number }}.</v-chip>\r\n                      </template>\r\n                    </v-data-table>\r\n                  </v-card>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"selected_id && still_on_water.length\">\r\n                <v-col\r\n                  md=\"8\"\r\n                  offset-md=\"2\"\r\n                  style=\"margin-top:30px;margin-bottom:30px\"\r\n                >\r\n                  <v-btn large tile color=\"blue\" @click=\"searchSelected\"\r\n                    ><i class=\"material-icons left\">assignment_return</i>Siirry\r\n                    punnitukseen</v-btn\r\n                  >\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-else>\r\n                <v-col\r\n                  md=\"8\"\r\n                  offset-md=\"2\"\r\n                  style=\"margin-top:30px;margin-bottom:30px\"\r\n                >\r\n                  <p\r\n                    v-if=\"still_on_water.length\"\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    Voit siirtyä punnitukseen myös klikkaamalla haluamaasi riviä\r\n                    taulukosta ja painamalla ilmestyvää nappulaa\r\n                  </p>\r\n                  <v-btn\r\n                    v-if=\"still_on_water.length\"\r\n                    large\r\n                    tile\r\n                    color=\"grey darken-4\"\r\n                    class=\"white--text\"\r\n                    @click=\"allFinished\"\r\n                    :loading=\"loading\"\r\n                    ><i class=\"material-icons left\">check_circle_outline</i\r\n                    >Kaikki saapuneet maaliin</v-btn\r\n                  >\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n<script>\r\n\"use strict\";\r\nimport M from \"materialize-css\";\r\nimport { options_picker } from \"../i18n\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport Timedate from \"../components/layout/Timedate\";\r\nimport Header from \"../components/layout/Header\";\r\nimport ProgressBarQuery from \"../components/layout/ProgressBarQuery\";\r\n\r\nexport default {\r\n  name: \"Weighting\",\r\n  components: {\r\n    Timedate,\r\n    Header,\r\n    ProgressBarQuery,\r\n  },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      tab: null,\r\n      competition_id: null,\r\n      boat_number_input: {},\r\n      competition_boat: null,\r\n      calculated_total_weights: null,\r\n      calculated_fish_weights: null,\r\n      searched: false,\r\n      selected_id: null,\r\n      selected_boat_number: null,\r\n      loading: false,\r\n      refreshing: false,\r\n      loading_fish: false,\r\n      loading_site: true,\r\n      notification: null,\r\n      biggest_fish: null,\r\n      selected_fish: null,\r\n      competition_fishes: [],\r\n      biggest_fishes: {},\r\n      biggest_amounts: {},\r\n      signees: [],\r\n      result_signees: [],\r\n      headers: [\r\n        { text: \"Sijoitus\", value: \"placement\" },\r\n        { text: \"Kilp. Numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Pisteet\", value: \"total_points\" },\r\n      ],\r\n      headers_on_water: [\r\n        { text: \"Kilp. Numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Varakippari\", value: \"temp_captain_name\" },\r\n        { text: \"Lähtöpaikka\", value: \"starting_place\" },\r\n      ],\r\n      search_on_water: \"\",\r\n      search: \"\",\r\n      still_on_water: [],\r\n      number_rules: [\r\n        (value) => !isNaN(value || \"\") || \"Ei ole numero!\",\r\n        (value) => (value || \"\") >= 0 || \"Numeron pitää olla positiivinen!\",\r\n      ],\r\n      timer_refresh: null,\r\n      interval: 60000,\r\n      inputs: [],\r\n    };\r\n  },\r\n  computed: {\r\n    // Keep array sorted based on boat number in \"Punnitus\" tab\r\n    sortedArray() {\r\n      return [...this.signees].sort((a, b) => a.boat_number - b.boat_number);\r\n    },\r\n    sortedCompetition() {\r\n      let signees = [...this.signees].sort(\r\n        (a, b) => b.total_points - a.total_points\r\n      );\r\n      let placement = 1;\r\n      let last_points = -1;\r\n      let last_placement = -1;\r\n      signees.forEach((signee) => {\r\n        if (last_points === signee.total_points) {\r\n          signee.placement = last_placement;\r\n        } else {\r\n          signee.placement = placement;\r\n          last_points = signee.total_points;\r\n          last_placement = signee.placement;\r\n        }\r\n        placement++;\r\n      });\r\n      return signees;\r\n    },\r\n  },\r\n  created() {\r\n    if (localStorage.getItem(\"competition\") != null) {\r\n      const competition = JSON.parse(localStorage.getItem(\"competition\"));\r\n      this.competition_id = competition[\"id\"];\r\n      this.loading_site = true;\r\n      this.refreshCompetition(this.competition_id);\r\n      /*\r\n      this.timer_refresh = setInterval(\r\n        () => this.refreshCompetition(competition_id),\r\n        this.interval\r\n      );\r\n      */\r\n    }\r\n  },\r\n  mounted() {\r\n    this.checkLogin();\r\n    //Init materialize elements\r\n    M.AutoInit();\r\n    /* eslint-disable no-unused-vars */\r\n    var collabs = document.querySelectorAll(\".collapsible\");\r\n    var instances2 = M.Collapsible.init(collabs, options_picker);\r\n    /* eslint-enable no-unused-vars */\r\n    if (!this.competition_id) {\r\n      const competition = JSON.parse(localStorage.getItem(\"competition\"));\r\n      this.competition_id = competition[\"id\"];\r\n      this.loading_site = true;\r\n      this.refreshCompetition(this.competition_id);\r\n    }\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n  },\r\n  beforeDestroy() {\r\n    // Clear timer\r\n    //clearInterval(this.timer_refresh);\r\n  },\r\n  methods: {\r\n    // Fetch competition from database, and update variables\r\n    async refreshCompetition(competition_id) {\r\n      this.refreshing = true;\r\n      try {\r\n        let competition = await CompetitionService.getCompetitions({\r\n          _id: competition_id,\r\n        });\r\n        if (competition) {\r\n          // Update to vuex, Assing variables and arrays from vuex (see client/store/index.js)\r\n          let comp = competition;\r\n          let normal_results = this.calculateNormalResults(comp);\r\n          comp.normal_points = normal_results.normal_points;\r\n          comp.normal_weights = normal_results.normal_weights;\r\n          this.$store.commit(\"refreshCompetition\", comp);\r\n          this.competition_fishes = this.$store.getters.getCompetitionFishes;\r\n          this.signees = this.$store.getters.getCompetitionSignees;\r\n          let placement = 1;\r\n          let last_points = -1;\r\n          let last_placement = -1;\r\n          this.signees.forEach((signee) => {\r\n            signee.select = `${signee.boat_number}, ${signee.captain_name}`;\r\n            if (last_points === signee.total_points) {\r\n              signee.placement = last_placement;\r\n            } else {\r\n              signee.placement = placement;\r\n              last_points = signee.total_points;\r\n              last_placement = signee.placement;\r\n            }\r\n            placement++;\r\n          });\r\n          this.result_signees = this.$store.getters.getResultSignees;\r\n          this.still_on_water = this.$store.getters.getStillOnWaterSignees;\r\n          this.competition_fishes.forEach((fish) => {\r\n            this.inputs.push({\r\n              name: fish.name,\r\n              value: 0,\r\n              dialog: false,\r\n              addition: null,\r\n            });\r\n          });\r\n        } else {\r\n          console.log(\"No competition found on database...\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      this.loading_site = false;\r\n      this.refreshing = false;\r\n    },\r\n    //Check if user is logged in has admin status, update values to vuex (Header.vue updates based on these values)\r\n    checkLogin: function() {\r\n      // If login token present --> user is logged in\r\n      if (localStorage.getItem(\"jwt\") != null) {\r\n        this.$store.state.logged_in = true;\r\n        let user = JSON.parse(localStorage.getItem(\"user\"));\r\n        // Set preferences to vuex\r\n        this.$store.state.isDark = user.preferences.isDark;\r\n        this.$store.state.lang = user.preferences.lang;\r\n        // Check if user is admin\r\n        //TODO safer way to check this than use localstorage?\r\n        user.is_admin == true\r\n          ? (this.$store.state.is_admin = true)\r\n          : (this.$store.state.is_admin = false);\r\n      } else {\r\n        //Not logger in, so not admin either\r\n        this.$store.state.logged_in = false;\r\n        this.$store.state.is_admin = false;\r\n      }\r\n    },\r\n    // \"Kaikki päässeet maaliin\" button pressed\r\n    async allFinished() {\r\n      // Mark all signees as returned\r\n      this.signees.forEach((signee) => {\r\n        signee.returned = true;\r\n      });\r\n      // Update signees array to database/vuex\r\n      let comp = this.$store.getters.getCompetition;\r\n      let normal_results = this.calculateNormalResults(comp);\r\n      comp.normal_points = normal_results.normal_points;\r\n      comp.normal_weights = normal_results.normal_weights;\r\n      comp.signees = this.signees;\r\n      this.$store.commit(\"refreshCompetition\", comp);\r\n      try {\r\n        this.loading = true;\r\n        let newvalues = {\r\n          $set: {\r\n            normal_points: comp.normal_points,\r\n            normal_weights: comp.normal_weights,\r\n            signees: comp.signees,\r\n          },\r\n        };\r\n        //await CompetitionService.updateCompetition(comp._id, comp);\r\n        await CompetitionService.updateValues(comp._id, newvalues);\r\n        this.loading = false;\r\n        this.still_on_water = this.$store.getters.getStillOnWaterSignees;\r\n        M.toast({ html: \"Kaikki kilpailijat merkattu maaliin saapuneeksi!\" });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    },\r\n    // Check if input value is number, and only accept numbers to inputs\r\n    isNumber: function(evt) {\r\n      evt = evt ? evt : window.event;\r\n      var charCode = evt.which ? evt.which : evt.keyCode;\r\n      if (\r\n        charCode > 31 &&\r\n        (charCode < 48 || charCode > 57) &&\r\n        charCode !== 46\r\n      ) {\r\n        evt.preventDefault();\r\n      } else {\r\n        if (charCode == 46) {\r\n          evt.preventDefault();\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    },\r\n    // Fetch signee from vuex based on boat number\r\n    // Check client\\src\\store\\index.js for implementation\r\n    searchBoatNumber: function(boat_number) {\r\n      return this.$store.getters.getSigneeByBoatNumber(parseInt(boat_number));\r\n    },\r\n    getColor(placement) {\r\n      if (placement > 30) return \"red\";\r\n      if (placement > 20) return \"orange\";\r\n      else if (placement > 5) return \"yellow\";\r\n      else return \"green\";\r\n    },\r\n    getColorPoints(points) {\r\n      if (points > 0) return \"indigo\";\r\n      else return \"grey\";\r\n    },\r\n    // Select row from table, if selected --> unselect\r\n    // selected_id bound to selected css class (on App.vue)\r\n    rowClick: function(item, row) {\r\n      if (item.id == this.selected_id) {\r\n        this.selected_id = null;\r\n        this.selected_boat_number = null;\r\n        row.select(false);\r\n      } else {\r\n        if (this.selected_row) {\r\n          this.selected_row.select(false);\r\n        }\r\n        this.selected_id = item.id;\r\n        this.selected_boat_number = item.boat_number;\r\n        row.select(true);\r\n        this.selected_row = row;\r\n      }\r\n    },\r\n    // Set input weights for each fish for the signee\r\n    setInputWeights: function() {\r\n      // Loop trhough all the competition fishes\r\n      this.inputs.forEach((input) => {\r\n        let fish_name = input.name;\r\n        // find the fish weights based on the fish_name, from signees weights array\r\n        let fish_weights = this.competition_boat.weights.find(\r\n          (fish) => fish.name === fish_name\r\n        ).weights;\r\n        // Assign the value to input\r\n        input.value = fish_weights;\r\n      });\r\n    },\r\n    // Search signee from database when selected from table\r\n    searchSelected: function() {\r\n      // Change tab to \"Punnitus\" and fetch\r\n      this.tab = \"weighting\";\r\n      this.fetchFromDatabase(this.selected_boat_number);\r\n    },\r\n\r\n    fetchFromDatabase: function(boat_number) {\r\n      this.selected_id = null;\r\n      this.selected_boat_number = null;\r\n      // If boat_number_input is empty, boat_number = -1\r\n      // If boat_number selected on input\r\n      if (boat_number !== -1) {\r\n        this.searched = true;\r\n        this.notification = null;\r\n        this.competition_boat = this.searchBoatNumber(boat_number);\r\n        if (this.competition_boat) {\r\n          //Wait for render to set weights to inputs\r\n          this.$nextTick(() => this.setInputWeights());\r\n          this.boat_number_input = this.competition_boat;\r\n        } else {\r\n          console.log(\"No such boat in list!\");\r\n        }\r\n      } else {\r\n        // No boat selected, clear inputs\r\n        this.clearInputs();\r\n      }\r\n    },\r\n\r\n    // Save biggest fish to database\r\n    async saveBiggestFish() {\r\n      // If name for biggest fish, boat number and weight for biggest fish all have been selected\r\n      if (this.selected_fish && this.boat_number_input && this.biggest_fish) {\r\n        // Create fish object\r\n        let fish = {\r\n          name: this.selected_fish,\r\n          boat_number: this.boat_number_input.boat_number,\r\n          captain_name: this.boat_number_input.captain_name,\r\n          weight: this.biggest_fish,\r\n        };\r\n        this.$store.commit(\"addBiggestFish\", fish);\r\n        this.biggest_fishes = this.$store.getters.getBiggestFishes;\r\n        // Create competition object and update it to database\r\n        let comp = this.$store.getters.getCompetition;\r\n        comp.biggest_fishes = this.biggest_fishes;\r\n        this.$store.commit(\"refreshCompetition\", comp);\r\n        try {\r\n          this.loading_fish = true;\r\n          let newvalues = {\r\n            $set: {\r\n              biggest_fishes: comp.biggest_fishes,\r\n            },\r\n          };\r\n          //await CompetitionService.updateCompetition(comp._id, comp);\r\n          await CompetitionService.updateValues(comp._id, newvalues);\r\n          this.notification = `Tiedot päivitetty tietokantaan!`;\r\n          this.loading_fish = false;\r\n          (this.selected_fish = null), (this.biggest_fish = null);\r\n        } catch (err) {\r\n          console.log(err.message);\r\n        }\r\n        M.toast({ html: \"Isoin kala tallennettu listaan!\" });\r\n      } else {\r\n        console.log(\"Jokin input tyhjänä:\");\r\n        let fish = {\r\n          name: this.selected_fish,\r\n          boat_number: this.boat_number_input.boat_number,\r\n          captain_name: this.boat_number_input.captain_name,\r\n          weight: this.biggest_fish,\r\n        };\r\n        console.log(fish);\r\n      }\r\n    },\r\n    // Save all weights to database\r\n    async saveToDatabase(reset) {\r\n      let competition_fishes = this.$store.getters.getCompetitionFishes;\r\n      let fish_weights = [];\r\n      let total_weights = 0;\r\n      let total_points = 0;\r\n      let fish_weight = 0;\r\n      let fish_points = 0;\r\n      let fish_name;\r\n      this.biggest_fishes = this.$store.getters.getBiggestFishes;\r\n\r\n      // if biggest fish not yet saved, save it\r\n      if (this.selected_fish && this.boat_number_input && this.biggest_fish) {\r\n        let fish = {\r\n          name: this.selected_fish,\r\n          boat_number: this.boat_number_input.boat_number,\r\n          captain_name: this.boat_number_input.captain_name,\r\n          weight: this.biggest_fish,\r\n        };\r\n        this.$store.commit(\"addBiggestFish\", fish);\r\n        this.biggest_fishes = this.$store.getters.getBiggestFishes;\r\n        (this.selected_fish = null), (this.biggest_fish = null);\r\n      }\r\n      //if reset == true, reset current weights to 0, otherwise update weights from inputs\r\n      if (reset) {\r\n        this.competition_boat.returned = false;\r\n        // For every fish, reset weights/points and add them to array\r\n        this.inputs.forEach((input) => {\r\n          fish_name = input.name;\r\n          fish_weights.push({\r\n            name: fish_name,\r\n            weights: fish_weight,\r\n            points: fish_points,\r\n          });\r\n          // If there are biggest fishes in competition\r\n          if (this.biggest_fishes) {\r\n            // If there are biggest fishes from certain fish_name\r\n            if (this.biggest_fishes[fish_name]) {\r\n              // Check if signee has biggest fish there\r\n              let index = this.biggest_fishes[fish_name].findIndex((item) => {\r\n                return (\r\n                  parseInt(this.boat_number_input.boat_number) ===\r\n                  parseInt(item.boat_number)\r\n                );\r\n              });\r\n              // If fish found, delete it\r\n              if (index > -1) {\r\n                this.biggest_fishes[fish_name].splice(index, 1);\r\n              }\r\n            }\r\n          }\r\n          // If there are fish amounts in competition\r\n          if (this.biggest_amounts) {\r\n            // If there are fish amounts from certain fish_name\r\n            if (this.biggest_amounts[fish_name]) {\r\n              // Check if signee has biggest fish there\r\n              let index = this.biggest_amounts[fish_name].findIndex((item) => {\r\n                return (\r\n                  parseInt(this.boat_number_input.boat_number) ===\r\n                  parseInt(item.boat_number)\r\n                );\r\n              });\r\n              if (index > -1) {\r\n                // If fish found, delete it\r\n                this.biggest_amounts[fish_name].splice(index, 1);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // Don't reset points, add new values\r\n      else {\r\n        this.competition_boat.returned = true;\r\n        // For every fish, get values from inputs\r\n        this.inputs.forEach((input) => {\r\n          fish_name = input.name;\r\n          fish_weight = parseInt(input.value ? input.value : 0); // If input empty, replace with 0\r\n          // Get points multiplier for this certain fish for points calculation\r\n          let points_multiplier = competition_fishes.find(\r\n            (fish) => fish.name === fish_name\r\n          ).multiplier;\r\n          fish_points = fish_weight * points_multiplier;\r\n          // Add fish object to array\r\n          fish_weights.push({\r\n            name: fish_name,\r\n            weights: fish_weight,\r\n            points: fish_points,\r\n          });\r\n          // Create biggest fish amount object and store to vuex\r\n          let fish = {\r\n            name: fish_name,\r\n            boat_number: this.competition_boat.boat_number,\r\n            captain_name: this.competition_boat.captain_name,\r\n            weight: fish_weight,\r\n          };\r\n          this.$store.commit(\"addBiggestAmount\", fish);\r\n          this.biggest_amounts = this.$store.getters.getBiggestAmounts;\r\n          total_weights += fish_weight;\r\n          total_points += fish_points;\r\n        });\r\n      }\r\n\r\n      this.competition_boat.weights = fish_weights;\r\n      this.competition_boat.total_weights = total_weights;\r\n      this.competition_boat.total_points = total_points;\r\n      // If there is signee with save number, replace in vuex\r\n      // Check implementation from 'client\\src\\store\\index.js'\r\n      this.$store.commit(\"replaceSignee\", this.competition_boat);\r\n      let comp = this.$store.getters.getCompetition;\r\n      let normal_results = this.calculateNormalResults(comp);\r\n      let competition_total_weights = this.calculateTotalWeights();\r\n\r\n      // Store to database and vuex\r\n      comp.signees = this.$store.getters.getCompetitionSignees;\r\n      comp.normal_points = normal_results.normal_points;\r\n      comp.normal_weights = normal_results.normal_weights;\r\n      if (comp.team_competition) {\r\n        comp.team_results = this.calculateTeamResults();\r\n      }\r\n      comp.biggest_fishes = this.biggest_fishes;\r\n      comp.biggest_amounts = this.biggest_amounts;\r\n      comp.total_weights = competition_total_weights;\r\n\r\n      // Update competition state\r\n      if (this.still_on_water.length) {\r\n        comp.state = \"Punnitus\";\r\n      } else {\r\n        comp.state = \"Kaikki maalissa\";\r\n      }\r\n      // Refresh to vuex\r\n      this.$store.commit(\"refreshCompetition\", comp);\r\n      try {\r\n        this.loading = true;\r\n        this.loading_fish = true;\r\n        let newvalues = {\r\n          $set: {\r\n            signees: comp.signees,\r\n            normal_points: comp.normal_points,\r\n            normal_weights: comp.normal_weights,\r\n            team_results: comp.team_results,\r\n            biggest_fishes: comp.biggest_fishes,\r\n            biggest_amounts: comp.biggest_amounts,\r\n            total_weights: comp.total_weights,\r\n            state: comp.state,\r\n          },\r\n        };\r\n        //await CompetitionService.updateCompetition(comp._id, comp);\r\n        await CompetitionService.updateValues(comp._id, newvalues);\r\n        this.notification = `Tiedot päivitetty tietokantaan!`;\r\n        // Update values for next signee\r\n        this.boat_number_input = {};\r\n        this.competition_boat = null;\r\n        this.signees = comp.signees;\r\n        this.calculated_total_weights = this.$store.getters.getCompetitionTotalWeights;\r\n        this.result_signees = this.$store.getters.getResultSignees;\r\n        this.still_on_water = this.$store.getters.getStillOnWaterSignees;\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n      this.loading = false;\r\n      this.loading_fish = false;\r\n      this.searched = false;\r\n    },\r\n    // \"Normaalikilpailu\" results\r\n    calculateNormalResults: function(competition) {\r\n      const cup_points_multiplier = competition.cup_points_multiplier;\r\n      let cup_placement_points = competition.cup_placement_points;\r\n      const cup_participation_points = competition.cup_participation_points;\r\n      let last_points = 0;\r\n      let tied_competitors = 0;\r\n      let placement = 1;\r\n      let counter = 0;\r\n      let cup_points_total;\r\n\r\n      let normal_points = [];\r\n      let normal_weights = [];\r\n      this.signees = competition.signees.filter(\r\n        (signee) => signee.returned == true\r\n      );\r\n      this.signees = this.signees.sort(function compare(a, b) {\r\n        return parseInt(b.total_points) - parseInt(a.total_points);\r\n      });\r\n      // For every signee, calculate their cup points and placing\r\n      //TODO rework the structure, seems more complex than it should be\r\n      // Placements and points now saved in every competition to cup_placement_points_array, based on placement fetch from there?\r\n      this.signees.forEach((signee) => {\r\n        cup_points_total = 0;\r\n        // First competitor\r\n        if (!normal_points.length) {\r\n          // If no points --> no placement points\r\n          if (signee.total_points == 0) {\r\n            cup_placement_points = 0;\r\n          }\r\n          // Formula for cup points calculations, cup_points_multiplier only scales the placement points\r\n          last_points = signee.total_points;\r\n          cup_points_total =\r\n            cup_placement_points * cup_points_multiplier +\r\n            cup_participation_points;\r\n        }\r\n        // After first competitor\r\n        else {\r\n          // If competitor has same points as last competitor\r\n          if (signee.total_points == last_points) {\r\n            placement -= 1; // Keep the same placing (adds 1 later)\r\n            tied_competitors += 1; // remember amount of tied competitors for later to deduct more points from next not tied competitor\r\n          }\r\n          // If no tie, add tied_competitors to placement, to give correct placement to next not tied competitor\r\n          else {\r\n            placement += tied_competitors;\r\n          }\r\n\r\n          // If no points --> no placement points\r\n          if (signee.total_points == 0) {\r\n            cup_placement_points = 0;\r\n            // if there is a tie on points, increment tied competitors\r\n            if (signee.total_points === last_points) {\r\n              tied_competitors += 1;\r\n            }\r\n          }\r\n\r\n          // For the first 6 competitors, deduct 2 points, after the first 5 deductions, deduct 1\r\n          // tied_competitors makes sure that ties are taken into account\r\n          if (counter <= 5) {\r\n            // If there are no ties\r\n            if (\r\n              signee.total_points !== last_points &&\r\n              signee.total_points > 0\r\n            ) {\r\n              cup_placement_points -= 2 * (tied_competitors + 1);\r\n              tied_competitors = 0;\r\n            }\r\n          } else if (cup_placement_points <= 0) {\r\n            // make sure points won't go negative\r\n            cup_placement_points = 0;\r\n            tied_competitors = 0;\r\n          } else {\r\n            // If the points differ from last competitor, deduct placement points\r\n            if (signee.total_points !== last_points) {\r\n              //Normal point calculation\r\n              cup_placement_points -= 1 * (tied_competitors + 1);\r\n              tied_competitors = 0;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Calculate total cup points, cup points multiplier only scales the placement points\r\n        if (cup_placement_points > 0) {\r\n          cup_points_total =\r\n            cup_placement_points * cup_points_multiplier +\r\n            cup_participation_points;\r\n        } else {\r\n          cup_points_total = cup_participation_points;\r\n        }\r\n\r\n        //For showing cup points, \"Pisteet\" on v-select\r\n        normal_points.push({\r\n          placement: placement,\r\n          boat_number: signee.boat_number,\r\n          captain_name: signee.captain_name,\r\n          temp_captain_name: signee.temp_captain_name,\r\n          locality: signee.locality,\r\n          total_points: signee.total_points.toLocaleString(),\r\n          cup_placement_points: cup_placement_points * cup_points_multiplier,\r\n          cup_participation_points: cup_participation_points,\r\n          cup_points_total: cup_points_total,\r\n        });\r\n\r\n        counter++;\r\n\r\n        //For showing fish weights, \"Kalat\" on v-select\r\n        let temp_dict = {};\r\n        temp_dict.placement = placement;\r\n        temp_dict.boat_number = signee.boat_number;\r\n        temp_dict.captain_name = signee.captain_name;\r\n\r\n        // For each fish, get the weight and fish name\r\n        signee.weights.forEach((weights) => {\r\n          let name = weights.name;\r\n          let weight = weights.weights;\r\n          temp_dict[name] = weight;\r\n        });\r\n        temp_dict.total_points = signee.total_points;\r\n        normal_weights.push(temp_dict);\r\n        last_points = signee.total_points;\r\n        // Calculate next placement\r\n        if (tied_competitors > 0) {\r\n          placement += tied_competitors;\r\n        } else {\r\n          placement++;\r\n        }\r\n      });\r\n\r\n      let output = {\r\n        normal_points: normal_points,\r\n        normal_weights: normal_weights,\r\n      };\r\n\r\n      return output;\r\n    },\r\n    calculateTeamResults: function() {\r\n      var team_names = [];\r\n      let team_results = [];\r\n      // Get all the team names\r\n      this.signees.forEach((signee) => {\r\n        if (signee.team !== \"-\" && signee.team !== null) {\r\n          team_names.push(signee.team);\r\n        }\r\n      });\r\n      // Only unique ones needed\r\n      team_names = [...new Set(team_names)];\r\n\r\n      // Get all the members of each team and add up their points\r\n      team_names.forEach((team_name) => {\r\n        let team = this.signees.filter((signee) => signee.team == team_name);\r\n        let team_points = 0;\r\n        let members = [];\r\n\r\n        team.forEach((member) => {\r\n          members.push(member.captain_name);\r\n          team_points += member.total_points;\r\n        });\r\n\r\n        // If there aren't 3 members in a team, add \"-\"'s as members for nicer looking table\r\n        if (members.length === 1) {\r\n          members.push(\"-\");\r\n          members.push(\"-\");\r\n        }\r\n        if (members.length === 2) {\r\n          members.push(\"-\");\r\n        }\r\n        team_results.push({\r\n          name: team_name,\r\n          captain_name_1: members[0],\r\n          captain_name_2: members[1],\r\n          captain_name_3: members[2],\r\n          points: team_points.toLocaleString(),\r\n        });\r\n      });\r\n\r\n      return team_results;\r\n    },\r\n    // Calculate total weight of all the fishes in competition\r\n    calculateTotalWeights: function() {\r\n      let finished_boats = this.$store.getters.getFinishedSignees;\r\n      let competition_fishes = this.$store.getters.getCompetitionFishes;\r\n      let total_weights = 0;\r\n      // For each boat, get every fish weight and add them to competition_fishes and total_weights in competition\r\n      // For statistics\r\n      // First reset\r\n      for (let i = 0; i < competition_fishes.length; i++) {\r\n        competition_fishes[i].weights = 0;\r\n      }\r\n      //Then add\r\n      finished_boats.forEach((element) => {\r\n        for (let i = 0; i < competition_fishes.length; i++) {\r\n          let fish_weights = element.weights.find(\r\n            (fish) => competition_fishes[i].name == fish.name\r\n          ).weights;\r\n          competition_fishes[i].weights += parseInt(fish_weights);\r\n          //TODO update only this one variable to database, not the whole competition\r\n          total_weights += parseInt(fish_weights);\r\n        }\r\n      });\r\n      return total_weights;\r\n    },\r\n    // Clear all inputs and selections\r\n    clearInputs: function() {\r\n      M.toast({ html: \"Pyyhitään inputit ja valinnat...\" });\r\n      this.inputs.forEach((input) => {\r\n        input.value = 0;\r\n      });\r\n      this.competition_boat = null;\r\n      this.boat_number_input = {};\r\n      this.selected_fish = null;\r\n      this.biggest_fish = null;\r\n      this.searched = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Weighting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Weighting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Weighting.vue?vue&type=template&id=665097a0&\"\nimport script from \"./Weighting.vue?vue&type=script&lang=js&\"\nexport * from \"./Weighting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VAutocomplete,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VContainer,VDataTable,VDialog,VDivider,VIcon,VListItemContent,VListItemIcon,VListItemSubtitle,VListItemTitle,VRow,VSelect,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{staticStyle:{\"margin-bottom\":\"60px\"}}),(_vm.errors.length)?_c('div',{attrs:{\"id\":\"errordiv\"}},[_c('ul',{staticClass:\"collection with-header\",staticStyle:{\"border\":\"1px solid red\"}},[_c('li',{staticClass:\"collection-header\",staticStyle:{\"background\":\"rgba(0,0,0,0)\"}},[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Korjaa seuraavat virheet: \")])],1),_vm._l((_vm.errors),function(error,index){return _c('li',{key:index,staticClass:\"collection-item\",attrs:{\"id\":\"error\"}},[_c('p',{staticClass:\"flow-text\"},[_vm._v(_vm._s(index + 1)+\". \"+_vm._s(error))])])})],2)]):_vm._e(),_c('div',{class:{\n      'container-transparent': !_vm.$store.getters.getTheme,\n      'container-transparent-dark': _vm.$store.getters.getTheme,\n    }},[_c('v-row',{staticClass:\"valign-wrapper\"},[_c('v-col',{attrs:{\"md\":\"9\"}},[_c('h1',[_vm._v(\"Ilmoittautuminen\")])]),_c('v-col',{attrs:{\"md\":\"3\"}},[_c('div',{staticClass:\"text-center\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('p',{class:{\n                  'black-text': !_vm.$store.getters.getTheme,\n                  'white-text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Kello/Kilpailuaika \")]),_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\",\"outlined\":\"\",\"color\":\"red darken-4\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-timer\")])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',{staticClass:\"headline\"}),_c('Timedate'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Sulje \")])],1)],1)],1)],1)])],1),_c('v-row',[_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"order\":\"first\"}},[_c('router-link',{attrs:{\"to\":\"/comp-settings\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"grey\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"tune\")]),_vm._v(\"Määritykset\")])],1)],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('router-link',{attrs:{\"to\":\"/overview\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"primary\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"info\")]),_vm._v(\"Kilpailun yleisnäkymä\")])],1)],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"order\":\"last\"}},[_c('router-link',{attrs:{\"to\":\"/weighting\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"blue darken-4\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"fitness_center\")]),_vm._v(\"Punnitus\")])],1)],1)],1)],1),_c('v-tabs',{attrs:{\"background-color\":\"blue lighten-2\",\"color\":\"blue darken-4\",\"grow\":\"\",\"show-arrows\":\"\",\"next-icon\":\"mdi-arrow-right-bold-box-outline\",\"prev-icon\":\"mdi-arrow-left-bold-box-outline\",\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"blue darken-4\"}}),_c('v-tab',{attrs:{\"href\":\"#signing\"}},[_vm._v(\"Ilmoittautuminen\")]),_c('v-tab',{attrs:{\"href\":\"#signees\"}},[_vm._v(\"Ilmoittautuneet\")])],1),_c('v-tabs-items',{staticStyle:{\"background\":\"rgba(0,0,0,0.4)\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'signing'}},[(!_vm.loading_site)?_c('v-row',[_c('v-col',[_c('v-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Ilmoittautuminen \")])])],1),(_vm.notification)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-alert',{staticClass:\"flow-text\",attrs:{\"type\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.notification)+\" \")])],1)],1):_vm._e(),(_vm.old_info)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('h3',{class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Numeron (\"+_vm._s(_vm.old_info.boat_number)+\".) Vanhat tiedot \")]),_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Kippari:\")]),_vm._v(\" \"+_vm._s(_vm.old_info.captain_name)+\" \")]),_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Varakippari:\")]),_vm._v(\" \"+_vm._s(_vm.old_info.temp_captain_name)+\" \")]),_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Seura/Paikkakunta:\")]),_vm._v(\" \"+_vm._s(_vm.old_info.locality)+\" \")]),_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Lähtöpaikka:\")]),_vm._v(\" \"+_vm._s(_vm.old_info.starting_place)+\" \")]),(_vm.isTeamCompetition)?_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Joukkue:\")]),_vm._v(\" \"+_vm._s(_vm.old_info.team)+\" \")]):_vm._e()]),_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-divider',{staticClass:\"black\"})],1),_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('h3',{class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Numeron (\"+_vm._s(_vm.boat_number)+\".) Uudet tiedot \")]),_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Kippari:\")]),_vm._v(\" \"+_vm._s(_vm.captain_name)+\" \")]),_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Varakippari:\")]),_vm._v(\" \"+_vm._s(_vm.temp_captain_name)+\" \")]),_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Seura/Paikkakunta:\")]),_vm._v(\" \"+_vm._s(_vm.locality)+\" \")]),_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Lähtöpaikka:\")]),_vm._v(\" \"+_vm._s(_vm.starting_place)+\" \")]),(_vm.isTeamCompetition)?_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_c('b',[_vm._v(\"Joukkue:\")]),_vm._v(\" \"+_vm._s(_vm.team)+\" \")]):_vm._e()]),_c('v-col',{staticStyle:{\"margin-bottom\":\"50px\"},attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-divider',{staticClass:\"black\"})],1),_c('v-row',[_c('v-col',{attrs:{\"order\":\"first\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"yellow\"},on:{\"click\":function($event){return _vm.overwriteSignee(_vm.old_info, false)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"backspace\")]),_vm._v(\"Peruuta\")])],1),_c('v-col',{attrs:{\"order\":\"last\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green\"},on:{\"click\":function($event){return _vm.overwriteSignee(_vm.old_info, true)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"check\")]),_vm._v(\"Päällekirjoita\")])],1)],1)],1):_vm._e(),(!_vm.old_info)?_c('v-row',{attrs:{\"id\":\"signing-inputs\"}},[_c('v-col',[_c('v-row',[_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"3\",\"offset-md\":\"4\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Venekunnan numero\",\"append-outer-icon\":\"add\",\"maxlength\":\"6\",\"prepend-icon\":\"remove\",\"counter\":6,\"rules\":_vm.number_rules,\"loading\":_vm.loading},on:{\"click:append-outer\":function($event){_vm.boat_number > 0 ? _vm.boat_number++ : (_vm.boat_number = 1)},\"click:prepend\":function($event){_vm.boat_number > 1 ? _vm.boat_number-- : (_vm.boat_number = 1)},\"paste\":function($event){$event.preventDefault();},\"keypress\":function($event){return _vm.isNumber($event, true)}},model:{value:(_vm.boat_number),callback:function ($$v) {_vm.boat_number=$$v},expression:\"boat_number\"}})],1)],1),_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"md\":\"2\",\"offset-md\":\"2\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"block\":\"\",\"color\":\"blue\"},on:{\"click\":_vm.searchFromCup}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"find_replace\")]),_vm._v(\"Hae cupista\")])],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"md\":\"2\",\"offset-md\":\"2\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"block\":\"\",\"color\":\"indigo\"},on:{\"click\":_vm.searchSelected}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"find_replace\")]),_vm._v(\"Hae ilmoittautuneista\")])],1)],1),_c('v-row',[_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"5\",\"offset-md\":\"3\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Kippari\",\"maxlength\":_vm.maxlength,\"loading\":_vm.loading,\"counter\":_vm.maxlength},model:{value:(_vm.captain_name),callback:function ($$v) {_vm.captain_name=$$v},expression:\"captain_name\"}})],1)],1),_c('v-row',[_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"5\",\"offset-md\":\"3\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Varakippari\",\"maxlength\":_vm.maxlength,\"loading\":_vm.loading,\"counter\":_vm.maxlength},model:{value:(_vm.temp_captain_name),callback:function ($$v) {_vm.temp_captain_name=$$v},expression:\"temp_captain_name\"}})],1)],1),_c('v-row',[_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"5\",\"offset-md\":\"3\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Seura/Paikkakunta\",\"id\":\"locality\",\"maxlength\":_vm.maxlength,\"loading\":_vm.loading,\"counter\":_vm.maxlength},model:{value:(_vm.locality),callback:function ($$v) {_vm.locality=$$v},expression:\"locality\"}})],1)],1),_c('v-row',[_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"5\",\"offset-md\":\"3\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Lähtöpaikka\",\"id\":\"starting_place\",\"maxlength\":_vm.maxlength,\"loading\":_vm.loading,\"counter\":_vm.maxlength},model:{value:(_vm.starting_place),callback:function ($$v) {_vm.starting_place=$$v},expression:\"starting_place\"}})],1)],1),(_vm.isTeamCompetition)?_c('v-row',[_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"5\",\"offset-md\":\"3\"}},[_c('v-combobox',{attrs:{\"items\":_vm.teams,\"label\":\"Valitse, tai kirjoita tiimin nimi\",\"chips\":\"\",\"maxlength\":\"40\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',_vm._b({key:JSON.stringify(data.item),attrs:{\"input-value\":data.selected,\"disabled\":data.disabled},on:{\"click:close\":function($event){return data.parent.selectItem(data.item)}}},'v-chip',data.attrs,false),[_c('v-avatar',{staticClass:\"accent white--text\",attrs:{\"left\":\"\"},domProps:{\"textContent\":_vm._s(data.item.slice(0, 1).toUpperCase())}}),_vm._v(\" \"+_vm._s(data.item)+\" \")],1)]}}],null,false,3131936958),model:{value:(_vm.team),callback:function ($$v) {_vm.team=$$v},expression:\"team\"}})],1)],1):_vm._e(),(!_vm.old_info)?_c('v-row',[(_vm.loading)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"12\"}},[_c('p',{staticClass:\"flow-text\",class:{\n                          'white--text': _vm.$store.getters.getTheme,\n                        }},[_vm._v(\" Päivitetään tiedot tietokantaan... \")]),_c('ProgressBarQuery')],1)],1):_c('v-row',{staticStyle:{\"margin\":\"40px\"}},[_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"md\":\"4\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"red\",\"loading\":_vm.refreshing},on:{\"click\":function($event){return _vm.deleteSignee(false, -1)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"delete_forever\")]),_vm._v(\"Poista Venekunta\")])],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"md\":\"4\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"yellow\",\"loading\":_vm.refreshing},on:{\"click\":_vm.clearInputs}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"backspace\")]),_vm._v(\"Pyyhi Kentät\")])],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"md\":\"4\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green\",\"loading\":_vm.refreshing,\"id\":\"sbtn\"},on:{\"click\":_vm.validateInfo}},[_c('i',{staticClass:\"material-icons right\"},[_vm._v(\"save_alt\")]),_vm._v(\"Tallenna\")])],1)],1)],1)],1):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[(_vm.refreshing)?_c('p',{staticClass:\"flow-text\",class:{\n                        'white--text': _vm.$store.getters.getTheme,\n                      }},[_vm._v(\" Synkronoidaan tietokannan kanssa... \")]):_vm._e()])],1),_c('v-row',[_c('v-col',{attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[(_vm.competition_id)?_c('v-btn',{staticClass:\"white--text\",attrs:{\"id\":\"updatebtn\",\"large\":\"\",\"block\":\"\",\"color\":\"blue darken-4\"},on:{\"click\":function($event){return _vm.refreshCompetition(_vm.competition_id)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"update\")]),_vm._v(\"Päivitä kilpailun tiedot \")]):_vm._e()],1)],1)],1)],1):_vm._e()],1)],1):_c('v-row',[_c('v-col',[_c('h2',{class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Haetaan veneitä... \")]),_c('ProgressBarQuery')],1)],1)],1),_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'signees'}},[_c('v-row',[_c('v-col',[_c('v-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('v-col',{staticClass:\"title\",attrs:{\"offset-md\":\"4\",\"md\":\"4\"}},[_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Ilmoittautuneita yhteensä: \"),_c('b',[_vm._v(_vm._s(_vm.signees.length))])])])],1),_c('v-row',[_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\"},[_vm._v(\"Ilmoittautuneet\")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae ilmoittautunutta\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.signees,\"search\":_vm.search},on:{\"click:row\":_vm.rowClick}})],1)],1)],1),(_vm.selected_id)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\",\"margin-bottom\":\"20px\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"blue\"},on:{\"click\":_vm.searchSelected}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"info\")]),_vm._v(\"Näytä valitun ilmoittautumistiedot\")])],1)],1):_c('v-row',[_c('v-col',{staticStyle:{\"margin\":\"20px 50px\"}},[(_vm.signees.length)?_c('p',{staticClass:\"flow-text\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Voit katsella venekunnan tietoja myös klikkaamalla haluamaasi riviä taulukosta ja painamalla ilmestyvää nappulaa \")]):_c('h3',{staticClass:\"center-align\",class:{ 'white--text': _vm.$store.getters.getTheme }},[_vm._v(\" Ei ilmoittautuneita! \")])])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /signing -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <v-container>\r\n    <Header style=\"margin-bottom:60px\" />\r\n    <div id=\"errordiv\" v-if=\"errors.length\">\r\n      <ul class=\"collection with-header\" style=\"border:1px solid red;\">\r\n        <li class=\"collection-header\" style=\"background: rgba(0,0,0,0);\">\r\n          <v-alert type=\"error\">\r\n            Korjaa seuraavat virheet:\r\n          </v-alert>\r\n        </li>\r\n        <li\r\n          class=\"collection-item\"\r\n          id=\"error\"\r\n          v-for=\"(error, index) in errors\"\r\n          v-bind:key=\"index\"\r\n        >\r\n          <p class=\"flow-text\">{{ index + 1 }}. {{ error }}</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div\r\n      v-bind:class=\"{\r\n        'container-transparent': !$store.getters.getTheme,\r\n        'container-transparent-dark': $store.getters.getTheme,\r\n      }\"\r\n    >\r\n      <v-row class=\"valign-wrapper\">\r\n        <v-col md=\"9\">\r\n          <h1>Ilmoittautuminen</h1>\r\n        </v-col>\r\n        <v-col md=\"3\">\r\n          <div class=\"text-center\">\r\n            <v-dialog v-model=\"dialog\">\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <p\r\n                  v-bind:class=\"{\r\n                    'black-text': !$store.getters.getTheme,\r\n                    'white-text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Kello/Kilpailuaika\r\n                </p>\r\n                <v-btn\r\n                  text\r\n                  outlined\r\n                  color=\"red darken-4\"\r\n                  dark\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                >\r\n                  <v-icon>mdi-timer</v-icon>\r\n                </v-btn>\r\n              </template>\r\n\r\n              <v-card :dark=\"$store.getters.getTheme\">\r\n                <v-card-title class=\"headline\"> </v-card-title>\r\n                <Timedate />\r\n\r\n                <v-card-actions>\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn color=\"primary\" outlined @click=\"dialog = false\">\r\n                    Sulje\r\n                  </v-btn>\r\n                </v-card-actions>\r\n              </v-card>\r\n            </v-dialog>\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n      <!-- Navigation to other competition pages -->\r\n      <v-row>\r\n        <v-row>\r\n          <v-col order=\"first\" style=\"margin-top:20px\">\r\n            <router-link to=\"/comp-settings\">\r\n              <v-btn large rounded color=\"grey\" class=\"white--text\"\r\n                ><i class=\"material-icons left\">tune</i>Määritykset</v-btn\r\n              >\r\n            </router-link>\r\n          </v-col>\r\n          <v-col style=\"margin-top:20px\">\r\n            <router-link to=\"/overview\">\r\n              <v-btn large rounded color=\"primary\"\r\n                ><i class=\"material-icons left\">info</i>Kilpailun\r\n                yleisnäkymä</v-btn\r\n              >\r\n            </router-link>\r\n          </v-col>\r\n          <v-col order=\"last\" style=\"margin-top:20px\">\r\n            <router-link to=\"/weighting\">\r\n              <v-btn large rounded color=\"blue darken-4\" class=\"white--text\"\r\n                ><i class=\"material-icons left\">fitness_center</i\r\n                >Punnitus</v-btn\r\n              >\r\n            </router-link>\r\n          </v-col>\r\n        </v-row>\r\n      </v-row>\r\n      <!-- Tabs -->\r\n      <v-tabs\r\n        v-model=\"tab\"\r\n        background-color=\"blue lighten-2\"\r\n        color=\"blue darken-4\"\r\n        grow\r\n        show-arrows\r\n        next-icon=\"mdi-arrow-right-bold-box-outline\"\r\n        prev-icon=\"mdi-arrow-left-bold-box-outline\"\r\n        center-active\r\n      >\r\n        <v-tabs-slider color=\"blue darken-4\"></v-tabs-slider>\r\n        <v-tab href=\"#signing\">Ilmoittautuminen</v-tab>\r\n        <v-tab href=\"#signees\">Ilmoittautuneet</v-tab>\r\n      </v-tabs>\r\n\r\n      <v-tabs-items v-model=\"tab\" style=\"background: rgba(0,0,0,0.4);\">\r\n        <!-- Signing tab -->\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'signing'\"\r\n        >\r\n          <v-row v-if=\"!loading_site\">\r\n            <v-col>\r\n              <v-row style=\"margin-top:20px;\">\r\n                <v-col md=\"10\" offset-md=\"1\">\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    Ilmoittautuminen\r\n                  </p>\r\n                </v-col>\r\n              </v-row>\r\n\r\n              <v-row v-if=\"notification\">\r\n                <v-col md=\"8\" offset-md=\"2\">\r\n                  <v-alert type=\"info\" class=\"flow-text\">\r\n                    {{ notification }}\r\n                  </v-alert>\r\n                </v-col>\r\n              </v-row>\r\n              <!-- If there user is trying to overwrite data to other boat number, which is in use, show differences and ask are you sure -->\r\n              <v-row v-if=\"old_info\">\r\n                <v-col md=\"8\" offset-md=\"2\">\r\n                  <h3 v-bind:class=\"{ 'white--text': $store.getters.getTheme }\">\r\n                    Numeron ({{ old_info.boat_number }}.) Vanhat tiedot\r\n                  </h3>\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Kippari:</b> {{ old_info.captain_name }}\r\n                  </p>\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Varakippari:</b> {{ old_info.temp_captain_name }}\r\n                  </p>\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Seura/Paikkakunta:</b> {{ old_info.locality }}\r\n                  </p>\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Lähtöpaikka:</b> {{ old_info.starting_place }}\r\n                  </p>\r\n                  <p\r\n                    v-if=\"isTeamCompetition\"\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Joukkue:</b> {{ old_info.team }}\r\n                  </p>\r\n                </v-col>\r\n\r\n                <v-col md=\"8\" offset-md=\"2\">\r\n                  <v-divider class=\"black\"></v-divider>\r\n                </v-col>\r\n\r\n                <v-col md=\"8\" offset-md=\"2\">\r\n                  <h3 v-bind:class=\"{ 'white--text': $store.getters.getTheme }\">\r\n                    Numeron ({{ boat_number }}.) Uudet tiedot\r\n                  </h3>\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Kippari:</b> {{ captain_name }}\r\n                  </p>\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Varakippari:</b> {{ temp_captain_name }}\r\n                  </p>\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Seura/Paikkakunta:</b> {{ locality }}\r\n                  </p>\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Lähtöpaikka:</b> {{ starting_place }}\r\n                  </p>\r\n                  <p\r\n                    v-if=\"isTeamCompetition\"\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    <b>Joukkue:</b> {{ team }}\r\n                  </p>\r\n                </v-col>\r\n\r\n                <v-col md=\"8\" offset-md=\"2\" style=\"margin-bottom:50px\">\r\n                  <v-divider class=\"black\"></v-divider>\r\n                </v-col>\r\n                <v-row>\r\n                  <v-col order=\"first\">\r\n                    <v-btn\r\n                      large\r\n                      tile\r\n                      color=\"yellow\"\r\n                      @click=\"overwriteSignee(old_info, false)\"\r\n                      ><i class=\"material-icons left\">backspace</i\r\n                      >Peruuta</v-btn\r\n                    >\r\n                  </v-col>\r\n                  <v-col order=\"last\">\r\n                    <v-btn\r\n                      large\r\n                      tile\r\n                      color=\"green\"\r\n                      @click=\"overwriteSignee(old_info, true)\"\r\n                      ><i class=\"material-icons left\">check</i\r\n                      >Päällekirjoita</v-btn\r\n                    >\r\n                  </v-col>\r\n                </v-row>\r\n              </v-row>\r\n              <!-- Inputs -->\r\n              <v-row v-if=\"!old_info\" id=\"signing-inputs\">\r\n                <v-col>\r\n                  <v-row>\r\n                    <v-col md=\"3\" offset-md=\"4\" class=\"input-fields\">\r\n                      <v-text-field\r\n                        :dark=\"$store.getters.getTheme\"\r\n                        label=\"Venekunnan numero\"\r\n                        v-model=\"boat_number\"\r\n                        append-outer-icon=\"add\"\r\n                        maxlength=\"6\"\r\n                        @click:append-outer=\"\r\n                          boat_number > 0 ? boat_number++ : (boat_number = 1)\r\n                        \"\r\n                        prepend-icon=\"remove\"\r\n                        @click:prepend=\"\r\n                          boat_number > 1 ? boat_number-- : (boat_number = 1)\r\n                        \"\r\n                        @paste.prevent\r\n                        :counter=\"6\"\r\n                        @keypress=\"isNumber($event, true)\"\r\n                        :rules=\"number_rules\"\r\n                        :loading=\"loading\"\r\n                      />\r\n                    </v-col>\r\n                  </v-row>\r\n\r\n                  <v-row>\r\n                    <v-col md=\"2\" offset-md=\"2\" style=\"margin-top:20px;\">\r\n                      <v-btn large block color=\"blue\" @click=\"searchFromCup\"\r\n                        ><i class=\"material-icons left\">find_replace</i>Hae\r\n                        cupista</v-btn\r\n                      >\r\n                    </v-col>\r\n\r\n                    <v-col md=\"2\" offset-md=\"2\" style=\"margin-top:20px;\">\r\n                      <v-btn large block color=\"indigo\" @click=\"searchSelected\"\r\n                        ><i class=\"material-icons left\">find_replace</i>Hae\r\n                        ilmoittautuneista</v-btn\r\n                      >\r\n                    </v-col>\r\n                  </v-row>\r\n\r\n                  <v-row>\r\n                    <v-col md=\"5\" offset-md=\"3\" class=\"input-fields\">\r\n                      <v-text-field\r\n                        :dark=\"$store.getters.getTheme\"\r\n                        label=\"Kippari\"\r\n                        v-model=\"captain_name\"\r\n                        :maxlength=\"maxlength\"\r\n                        :loading=\"loading\"\r\n                        :counter=\"maxlength\"\r\n                      />\r\n                    </v-col>\r\n                  </v-row>\r\n\r\n                  <v-row>\r\n                    <v-col md=\"5\" offset-md=\"3\" class=\"input-fields\">\r\n                      <v-text-field\r\n                        :dark=\"$store.getters.getTheme\"\r\n                        label=\"Varakippari\"\r\n                        v-model=\"temp_captain_name\"\r\n                        :maxlength=\"maxlength\"\r\n                        :loading=\"loading\"\r\n                        :counter=\"maxlength\"\r\n                      />\r\n                    </v-col>\r\n                  </v-row>\r\n\r\n                  <v-row>\r\n                    <v-col md=\"5\" offset-md=\"3\" class=\"input-fields\">\r\n                      <v-text-field\r\n                        :dark=\"$store.getters.getTheme\"\r\n                        label=\"Seura/Paikkakunta\"\r\n                        v-model=\"locality\"\r\n                        id=\"locality\"\r\n                        :maxlength=\"maxlength\"\r\n                        :loading=\"loading\"\r\n                        :counter=\"maxlength\"\r\n                      />\r\n                    </v-col>\r\n                  </v-row>\r\n\r\n                  <v-row>\r\n                    <v-col md=\"5\" offset-md=\"3\" class=\"input-fields\">\r\n                      <v-text-field\r\n                        :dark=\"$store.getters.getTheme\"\r\n                        label=\"Lähtöpaikka\"\r\n                        v-model=\"starting_place\"\r\n                        id=\"starting_place\"\r\n                        :maxlength=\"maxlength\"\r\n                        :loading=\"loading\"\r\n                        :counter=\"maxlength\"\r\n                      />\r\n                    </v-col>\r\n                  </v-row>\r\n                  <!-- Ask team only if isTeamCompetition is true -->\r\n                  <v-row v-if=\"isTeamCompetition\">\r\n                    <v-col md=\"5\" offset-md=\"3\" class=\"input-fields\">\r\n                      <v-combobox\r\n                        v-model=\"team\"\r\n                        :items=\"teams\"\r\n                        label=\"Valitse, tai kirjoita tiimin nimi\"\r\n                        chips\r\n                        maxlength=\"40\"\r\n                      >\r\n                        <template v-slot:selection=\"data\">\r\n                          <v-chip\r\n                            :key=\"JSON.stringify(data.item)\"\r\n                            v-bind=\"data.attrs\"\r\n                            :input-value=\"data.selected\"\r\n                            :disabled=\"data.disabled\"\r\n                            @click:close=\"data.parent.selectItem(data.item)\"\r\n                          >\r\n                            <v-avatar\r\n                              class=\"accent white--text\"\r\n                              left\r\n                              v-text=\"data.item.slice(0, 1).toUpperCase()\"\r\n                            ></v-avatar>\r\n                            {{ data.item }}\r\n                          </v-chip>\r\n                        </template>\r\n                      </v-combobox>\r\n                    </v-col>\r\n                  </v-row>\r\n\r\n                  <v-row v-if=\"!old_info\">\r\n                    <v-row v-if=\"loading\">\r\n                      <v-col md=\"12\">\r\n                        <p\r\n                          class=\"flow-text\"\r\n                          v-bind:class=\"{\r\n                            'white--text': $store.getters.getTheme,\r\n                          }\"\r\n                        >\r\n                          Päivitetään tiedot tietokantaan...\r\n                        </p>\r\n                        <ProgressBarQuery />\r\n                      </v-col>\r\n                    </v-row>\r\n\r\n                    <v-row v-else style=\"margin:40px\">\r\n                      <v-row>\r\n                        <v-col md=\"4\" style=\"margin-top:20px\">\r\n                          <v-btn\r\n                            large\r\n                            tile\r\n                            color=\"red\"\r\n                            @click=\"deleteSignee(false, -1)\"\r\n                            :loading=\"refreshing\"\r\n                            ><i class=\"material-icons left\">delete_forever</i\r\n                            >Poista Venekunta</v-btn\r\n                          >\r\n                        </v-col>\r\n                        <v-col md=\"4\" style=\"margin-top:20px\">\r\n                          <v-btn\r\n                            large\r\n                            tile\r\n                            color=\"yellow\"\r\n                            @click=\"clearInputs\"\r\n                            :loading=\"refreshing\"\r\n                            ><i class=\"material-icons left\">backspace</i>Pyyhi\r\n                            Kentät</v-btn\r\n                          >\r\n                        </v-col>\r\n                        <v-col md=\"4\" style=\"margin-top:20px\">\r\n                          <v-btn\r\n                            large\r\n                            tile\r\n                            color=\"green\"\r\n                            @click=\"validateInfo\"\r\n                            :loading=\"refreshing\"\r\n                            id=\"sbtn\"\r\n                            ><i class=\"material-icons right\">save_alt</i\r\n                            >Tallenna</v-btn\r\n                          >\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-row>\r\n                  </v-row>\r\n                  <v-row>\r\n                    <v-col md=\"6\" offset-md=\"3\">\r\n                      <p\r\n                        class=\"flow-text\"\r\n                        v-if=\"refreshing\"\r\n                        v-bind:class=\"{\r\n                          'white--text': $store.getters.getTheme,\r\n                        }\"\r\n                      >\r\n                        Synkronoidaan tietokannan kanssa...\r\n                      </p>\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row>\r\n                    <v-col md=\"4\" offset-md=\"4\">\r\n                      <v-btn\r\n                        v-if=\"competition_id\"\r\n                        id=\"updatebtn\"\r\n                        large\r\n                        block\r\n                        color=\"blue darken-4\"\r\n                        @click=\"refreshCompetition(competition_id)\"\r\n                        class=\"white--text\"\r\n                      >\r\n                        <i class=\"material-icons left\">update</i>Päivitä\r\n                        kilpailun tiedot\r\n                      </v-btn>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-else>\r\n            <!-- Show progressbar if loading -->\r\n            <v-col>\r\n              <h2 v-bind:class=\"{ 'white--text': $store.getters.getTheme }\">\r\n                Haetaan veneitä...\r\n              </h2>\r\n              <ProgressBarQuery />\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'signees'\"\r\n        >\r\n          <v-row>\r\n            <v-col>\r\n              <v-row style=\"margin-top:20px;\">\r\n                <v-col class=\"title\" offset-md=\"4\" md=\"4\">\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    Ilmoittautuneita yhteensä: <b>{{ signees.length }}</b>\r\n                  </p>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col md=\"10\" offset-md=\"1\">\r\n                  <v-card :dark=\"$store.getters.getTheme\">\r\n                    <v-card-title>\r\n                      <p class=\"flow-text\">Ilmoittautuneet</p>\r\n                      <v-spacer></v-spacer>\r\n                      <v-text-field\r\n                        v-model=\"search\"\r\n                        append-icon=\"mdi-magnify\"\r\n                        label=\"Hae ilmoittautunutta\"\r\n                        single-line\r\n                        hide-details\r\n                      ></v-text-field>\r\n                    </v-card-title>\r\n                    <v-data-table\r\n                      @click:row=\"rowClick\"\r\n                      :headers=\"headers\"\r\n                      :items=\"signees\"\r\n                      :search=\"search\"\r\n                    >\r\n                    </v-data-table>\r\n                  </v-card>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"selected_id\">\r\n                <v-col style=\"margin-top:20px;margin-bottom:20px;\">\r\n                  <v-btn large tile color=\"blue\" @click=\"searchSelected\"\r\n                    ><i class=\"material-icons left\">info</i>Näytä valitun\r\n                    ilmoittautumistiedot</v-btn\r\n                  >\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-else>\r\n                <v-col style=\"margin:20px 50px;\">\r\n                  <p\r\n                    v-if=\"signees.length\"\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    Voit katsella venekunnan tietoja myös klikkaamalla\r\n                    haluamaasi riviä taulukosta ja painamalla ilmestyvää\r\n                    nappulaa\r\n                  </p>\r\n                  <h3\r\n                    v-else\r\n                    class=\"center-align\"\r\n                    v-bind:class=\"{ 'white--text': $store.getters.getTheme }\"\r\n                  >\r\n                    Ei ilmoittautuneita!\r\n                  </h3>\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n<script>\r\n\"use strict\";\r\nimport M from \"materialize-css\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport CupService from \"../CupService\";\r\nimport Timedate from \"../components/layout/Timedate\";\r\nimport Header from \"../components/layout/Header\";\r\nimport ProgressBarQuery from \"../components/layout/ProgressBarQuery\";\r\n\r\nexport default {\r\n  name: \"Signing\",\r\n  components: {\r\n    Timedate,\r\n    Header,\r\n    ProgressBarQuery,\r\n  },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      errors: [],\r\n      tab: null,\r\n      boat_number: null,\r\n      starting_place: null,\r\n      captain_name: null,\r\n      temp_captain_name: null,\r\n      locality: null,\r\n      team: null,\r\n      selected_id: null,\r\n      selected_row: null,\r\n      id: 1,\r\n      new_signee: null,\r\n      notification: null,\r\n      loading: false,\r\n      refreshing: false,\r\n      loading_site: false,\r\n      competition_id: null,\r\n      old_info: null,\r\n      signees: [],\r\n      headers: [\r\n        { text: \"Kilp. Numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Varakippari\", value: \"temp_captain_name\" },\r\n        { text: \"Seura/Paikkakunta\", value: \"locality\" },\r\n      ],\r\n      search: \"\",\r\n      cup: [],\r\n      teams: [],\r\n      maxlength: 40,\r\n      isTeamCompetition: false,\r\n      number_rules: [\r\n        (value) => !isNaN(value || \"\") || \"Ei ole numero!\",\r\n        (value) => (value || \"\") >= 0 || \"Numeron pitää olla positiivinen!\",\r\n      ],\r\n      timer_refresh: null,\r\n      interval: 60000,\r\n    };\r\n  },\r\n  mounted() {\r\n    M.AutoInit();\r\n    this.checkLogin();\r\n    if (localStorage.getItem(\"competition\") != null) {\r\n      const competition = JSON.parse(localStorage.getItem(\"competition\"));\r\n      this.competition_id = competition[\"id\"];\r\n      this.loading_site = true;\r\n      this.refreshCompetition(this.competition_id);\r\n      /*\r\n      this.timer_refresh = setInterval(\r\n        () => this.refreshCompetition(competition_id),\r\n        this.interval\r\n      );\r\n      */\r\n    }\r\n\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n  },\r\n  beforeDestroy() {\r\n    // Clear timer\r\n    //clearInterval(this.timer_refresh);\r\n  },\r\n  methods: {\r\n    // Fetch competition from database, and update variables\r\n    async refreshCompetition(competition_id) {\r\n      this.refreshing = true;\r\n      try {\r\n        //Get competition from database (check 'client\\src\\CompetitionService.js' and 'server\\routes\\api\\competition.js' to see how this works)\r\n        let competition = await CompetitionService.getCompetitions({\r\n          _id: competition_id,\r\n        });\r\n        if (competition) {\r\n          // Update to vuex, Assing variables and arrays from vuex (see client/store/index.js)\r\n          this.$store.commit(\"refreshCompetition\", competition);\r\n          this.isTeamCompetition = this.$store.getters.isTeamCompetition;\r\n          this.signees = this.$store.getters.getSignees;\r\n          this.teams = this.$store.getters.getTeams;\r\n          // Get max values and assign them\r\n          if (this.signees.length) {\r\n            this.boat_number =\r\n              Math.max.apply(\r\n                Math,\r\n                this.signees.map(function(o) {\r\n                  return o.boat_number;\r\n                })\r\n              ) + 1;\r\n            this.id =\r\n              Math.max.apply(\r\n                Math,\r\n                this.signees.map(function(o) {\r\n                  return o.id;\r\n                })\r\n              ) + 1;\r\n          } else {\r\n            // Otherwise init with 1\r\n            this.boat_number = 1;\r\n            this.id = 1;\r\n          }\r\n          // Fetch cup info, to check signee from cups signees array\r\n          let cup = await CupService.getCups({\r\n            _id: competition.cup_id,\r\n          });\r\n          if (cup) {\r\n            this.cup = cup;\r\n          }\r\n        } else {\r\n          console.log(\"No competition found on database...\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n      this.loading_site = false;\r\n      this.refreshing = false;\r\n    },\r\n    //Check if user is logged in has admin status, update values to vuex (Header.vue updates based on these values)\r\n    checkLogin: function() {\r\n      // If login token present --> user is logged in\r\n      if (localStorage.getItem(\"jwt\") != null) {\r\n        this.$store.state.logged_in = true;\r\n        let user = JSON.parse(localStorage.getItem(\"user\"));\r\n        // Set preferences to vuex\r\n        this.$store.state.isDark = user.preferences.isDark;\r\n        this.$store.state.lang = user.preferences.lang;\r\n        // Check if user is admin\r\n        //TODO safer way to check this than use localstorage?\r\n        user.is_admin == true\r\n          ? (this.$store.state.is_admin = true)\r\n          : (this.$store.state.is_admin = false);\r\n      } else {\r\n        //Not logger in, so not admin either\r\n        this.$store.state.logged_in = false;\r\n        this.$store.state.is_admin = false;\r\n      }\r\n    },\r\n    // Check if input value is number, and only accept numbers to inputs\r\n    isNumber: function(evt) {\r\n      evt = evt ? evt : window.event;\r\n      var charCode = evt.which ? evt.which : evt.keyCode;\r\n      if (\r\n        charCode > 31 &&\r\n        (charCode < 48 || charCode > 57) &&\r\n        charCode !== 46\r\n      ) {\r\n        evt.preventDefault();\r\n      } else {\r\n        if (charCode == 46) {\r\n          evt.preventDefault();\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    },\r\n    // Capitalize all the words in given string. Takes account all the characters like \"-\", \"'\" etc.\r\n    capitalize_words: function(str) {\r\n      return str.replace(\r\n        /(?:^|\\s|['`‘’.-])[^\\x60^\\x7B-\\xDF](?!(\\s|$))/g,\r\n        function(txt) {\r\n          return txt.toUpperCase();\r\n        }\r\n      );\r\n    },\r\n    // Clear all selections and inputs and errors\r\n    clearInputs: function() {\r\n      this.boat_number = null;\r\n      this.starting_place = null;\r\n      this.captain_name = null;\r\n      this.temp_captain_name = null;\r\n      this.locality = null;\r\n      this.team = null;\r\n      this.errors = [];\r\n      this.old_info = null;\r\n      this.notification = \"\";\r\n    },\r\n    // Handle overwriting user data based on user answer\r\n    overwriteSignee: function(signee, overwrite) {\r\n      overwrite === true\r\n        ? console.log(\"Overwrite!\")\r\n        : console.log(\"Don't overwrite!\");\r\n      // User chose to overwrite data\r\n      if (overwrite) {\r\n        // Remove old data\r\n        this.$store.commit(\"removeSignee\", signee);\r\n        // Replace the old existing signee info with new info, without changing the id\r\n        signee.boat_number = parseInt(this.boat_number);\r\n        signee.starting_place = this.starting_place;\r\n        signee.captain_name = this.capitalize_words(this.captain_name);\r\n        signee.temp_captain_name = this.capitalize_words(\r\n          this.temp_captain_name\r\n        );\r\n        signee.locality = this.capitalize_words(this.locality);\r\n        signee.team = this.team;\r\n        // Shorten team name if over 40 characters\r\n        if (this.team.length > 40) {\r\n          let temp_team = this.team;\r\n          temp_team = temp_team.slice(0, 40);\r\n          this.team = temp_team; // Set the name back, shortened\r\n          this.showError(\r\n            \"Valitse tiimin nimeksi alle 40 merkkiä pitkä nimi (nimi lyhennetty 40 merkkiin)!\"\r\n          );\r\n        } else {\r\n          //If the array doensn't have the team name already, add it\r\n          if (this.teams.indexOf(this.team) == -1) {\r\n            this.teams.push(this.team);\r\n            this.$store.commit(\"setTeams\", this.teams);\r\n          }\r\n          // Save signee to database and clear inputs\r\n          this.saveToDatabase(signee, true);\r\n          this.clearInputs();\r\n          this.boat_number =\r\n            Math.max.apply(\r\n              Math,\r\n              this.signees.map(function(o) {\r\n                return o.boat_number;\r\n              })\r\n            ) + 1;\r\n          this.notification = \"Tiedot korvattu uusilla!\";\r\n        }\r\n      }\r\n      // Don't overwrite, add to new place\r\n      else {\r\n        this.notification =\r\n          \"Veneen numero asetettu ensimmäiseen vapaaseen paikkaan!\";\r\n        this.boat_number =\r\n          Math.max.apply(\r\n            Math,\r\n            this.signees.map(function(o) {\r\n              return o.boat_number;\r\n            })\r\n          ) + 1;\r\n        this.old_info = null;\r\n      }\r\n    },\r\n    // If user selected from input/table, search from array and assing values to inputs\r\n    searchSelected: function() {\r\n      this.notification = null;\r\n      this.errors = [];\r\n      // Searched from Signing tab, from button\r\n      if (this.tab === \"signing\") {\r\n        if (this.boat_number) {\r\n          let found_signee = this.searchBoatNumber(this.boat_number);\r\n          // If signee found\r\n          if (found_signee) {\r\n            this.notification = `Venekunta löydetty!\\n(${found_signee.boat_number}) : ${found_signee.captain_name}, ${found_signee.temp_captain_name}`;\r\n            this.selected_id = found_signee.id;\r\n            this.boat_number = found_signee.boat_number;\r\n            this.starting_place = found_signee.starting_place;\r\n            this.captain_name = found_signee.captain_name;\r\n            this.temp_captain_name = found_signee.temp_captain_name;\r\n            this.locality = found_signee.locality;\r\n            this.team = found_signee.team;\r\n          } else {\r\n            // Nothing found\r\n            let temp_boat_number = this.boat_number;\r\n            this.clearInputs();\r\n            this.boat_number = temp_boat_number;\r\n            this.notification =\r\n              \"Tällä numerolla ei ole vielä ilmoitettu venekuntaa!\";\r\n            this.selected_id = null;\r\n          }\r\n        } else {\r\n          this.notification = `Syötä venekunnan numero ennen hakemista!`;\r\n        }\r\n      } else {\r\n        // Searched from Signees tab (this.tab === 'signees'), from table\r\n        if (this.selected_id) {\r\n          let search_id = this.selected_id;\r\n          // Signee found based on id\r\n          if (search_id) {\r\n            var found_signee = this.$store.getters.getSigneeById(search_id);\r\n\r\n            if (found_signee) {\r\n              this.notification = `Venekunnan tiedot:\\n(${found_signee.boat_number}) : ${found_signee.captain_name}, ${found_signee.temp_captain_name}`;\r\n              this.boat_number = found_signee.boat_number;\r\n              this.starting_place = found_signee.starting_place;\r\n              this.captain_name = found_signee.captain_name;\r\n              this.temp_captain_name = found_signee.temp_captain_name;\r\n              this.locality = found_signee.locality;\r\n              this.team = found_signee.team;\r\n              this.tab = \"signing\";\r\n            } else {\r\n              // Nothing found\r\n              let temp_boat_number = this.boat_number;\r\n              this.clearInputs();\r\n              this.boat_number = temp_boat_number;\r\n              this.notification =\r\n                \"Tällä numerolla ei ole vielä ilmoitettu venekuntaa!\";\r\n              this.selected_id = null;\r\n            }\r\n          }\r\n          // Signee not found --> somehow selected signee from table that doesn't exist\r\n          else {\r\n            this.showError(\"Tätä venekuntaa ei ole olemassa!?\");\r\n          }\r\n        }\r\n        // No signee selected\r\n        else {\r\n          this.showError(\r\n            \"Valitse ilmoittautuneideiden listalta venekunta ennen hakemista!\"\r\n          );\r\n        }\r\n      }\r\n    },\r\n    async searchFromCup() {\r\n      this.selected_id = null;\r\n      if (this.boat_number) {\r\n        let found_signee = this.cup.signees.find((signee) => {\r\n          return parseInt(this.boat_number) === parseInt(signee.boat_number);\r\n        });\r\n        //If the signee is not found on cup, add it\r\n        if (found_signee) {\r\n          this.notification = \"Cupista löydetty seuraavat tiedot:\";\r\n          this.captain_name = found_signee.captain_name;\r\n          this.temp_captain_name = found_signee.temp_captain_name;\r\n          this.locality = found_signee.locality;\r\n          this.team = found_signee.team;\r\n          this.starting_place = found_signee.starting_place;\r\n        } else {\r\n          // Nothing found\r\n          let temp_boat_number = this.boat_number;\r\n          this.clearInputs();\r\n          this.boat_number = temp_boat_number;\r\n          this.notification = \"Tällä numerolla ei löydy cupista venekuntaa!\";\r\n        }\r\n      } else {\r\n        this.notification = \"Syötä venekunnan numero ennen hakemista!\";\r\n      }\r\n    },\r\n    // Select row from table, if selected --> unselect\r\n    // selected_id bound to selected css class (on App.vue)\r\n    rowClick: function(item, row) {\r\n      if (item.id == this.selected_id) {\r\n        this.selected_id = null;\r\n        row.select(false);\r\n      } else {\r\n        if (this.selected_row) {\r\n          this.selected_row.select(false);\r\n        }\r\n        this.selected_id = item.id;\r\n        row.select(true);\r\n        this.selected_row = row;\r\n      }\r\n    },\r\n    // Fetch signee from vuex based on boat number\r\n    // Check client\\src\\store\\index.js for implementation\r\n    searchBoatNumber: function(boat_number) {\r\n      return this.$store.getters.getSigneeByBoatNumber(parseInt(boat_number));\r\n    },\r\n    // Fetch signee from vuex based on id\r\n    // Check client\\src\\store\\index.js for implementation\r\n    searchId: function(id) {\r\n      var search_id = parseInt(id);\r\n      return this.$store.getters.getSigneeById(search_id);\r\n    },\r\n    // Utility function for showing error\r\n    showError: function(error) {\r\n      this.errors.push(error);\r\n      M.toast({ html: error });\r\n      location.href = \"#\";\r\n      location.href = \"#app\";\r\n    },\r\n    // Save signee to database\r\n    async saveToDatabase(new_signee, replace) {\r\n      // if replace == true, replace existing info, otherwise add new signee\r\n      replace === true\r\n        ? this.$store.commit(\"replaceSignee\", new_signee)\r\n        : this.$store.commit(\"addSignee\", new_signee);\r\n      let index = this.cup.signees.findIndex((signee) => {\r\n        return (\r\n          parseInt(new_signee.boat_number) === parseInt(signee.boat_number)\r\n        );\r\n      });\r\n      //If the signee is not found on cup, add it\r\n      if (index === -1) {\r\n        this.cup.signees.push({\r\n          boat_number: new_signee.boat_number,\r\n          captain_name: new_signee.captain_name,\r\n          temp_captain_name: new_signee.temp_captain_name,\r\n          locality: new_signee.locality,\r\n          starting_place: new_signee.starting_place,\r\n        });\r\n      }\r\n      // Create competition object\r\n      let comp = this.$store.getters.getCompetition;\r\n      this.signees = this.$store.getters.getSignees;\r\n      // Store to vuex\r\n      comp.signees = this.signees;\r\n      comp.state = \"Ilmoittautuminen\";\r\n      this.$store.commit(\"refreshCompetition\", comp);\r\n      try {\r\n        this.loading = true;\r\n        // Update signees and state to competition\r\n        let newvalues = {\r\n          $set: { signees: comp.signees, state: comp.state },\r\n        };\r\n        //await CompetitionService.updateCompetition(comp._id, comp);\r\n        await CompetitionService.updateValues(comp._id, newvalues);\r\n        this.loading = false;\r\n        // Update signees to cup\r\n        newvalues = {\r\n          $set: { signees: this.cup.signees },\r\n        };\r\n        await CupService.updateValues(comp.cup_id, newvalues);\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n    },\r\n    // Delete signee from vuex and database\r\n    async deleteSignee(confirmed, id) {\r\n      this.errors = [];\r\n\r\n      if (!confirmed) {\r\n        if (!this.boat_number) {\r\n          this.showError(\"Venekunnan kilpailunumero puuttuu!\");\r\n        }\r\n        if (!this.errors.length) {\r\n          // If selected on the signees list or with the search button\r\n          if (this.selected_id) {\r\n            // If id on signees\r\n            let found_signee = this.searchId(this.selected_id);\r\n            if (found_signee) {\r\n              // Ask confirmation\r\n              this.$confirm(\r\n                `Oletko varma että haluat poistaa kilpailijan: (${found_signee.boat_number}), ${found_signee.captain_name}?`,\r\n                \"Poista kilpailija\",\r\n                \"question\"\r\n              )\r\n                .then((r) => {\r\n                  if (r) {\r\n                    // Deletion confirmed by user, call function again with confirmed == true\r\n                    this.deleteSignee(r, found_signee.id);\r\n                  }\r\n                })\r\n                .catch((error) => {\r\n                  if (error) {\r\n                    console.error(error);\r\n                  }\r\n                });\r\n            }\r\n          } else {\r\n            // No selected id, so new input\r\n            let temp_boat = this.searchBoatNumber(this.boat_number);\r\n            if (temp_boat) {\r\n              this.$confirm(\r\n                `Oletko varma että haluat poistaa kilpailijan: (${temp_boat.boat_number}), ${temp_boat.captain_name}?`,\r\n                \"Poista kilpailija\",\r\n                \"question\"\r\n              )\r\n                .then((r) => {\r\n                  if (r) {\r\n                    // Deletion confirmed by user, call function again with confirmed == true\r\n                    this.deleteSignee(r, temp_boat.id);\r\n                  }\r\n                })\r\n                .catch((error) => {\r\n                  if (error) {\r\n                    console.error(error);\r\n                  }\r\n                });\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // Deletion confirmed, delete signee\r\n      else {\r\n        // Double check that correct user is selected\r\n        let found_signee = this.searchId(id);\r\n        if (found_signee) {\r\n          // Remove from vuex\r\n          this.$store.commit(\"removeSignee\", found_signee);\r\n          // Create competition object and update values to vuex and database\r\n          let comp = this.$store.getters.getCompetition;\r\n          //TODO only update signees array to database?\r\n          this.signees = this.$store.getters.getSignees;\r\n          comp.signees = this.signees;\r\n          this.$store.commit(\"refreshCompetition\", comp);\r\n          try {\r\n            this.loading = true;\r\n            let newvalues = {\r\n              $set: { signees: comp.signees },\r\n            };\r\n            //await CompetitionService.updateCompetition(comp._id, comp);\r\n            await CompetitionService.updateValues(comp._id, newvalues);\r\n            this.loading = false;\r\n            this.clearInputs();\r\n            // Update values for next signee\r\n            this.boat_number =\r\n              Math.max.apply(\r\n                Math,\r\n                this.signees.map(function(o) {\r\n                  return o.boat_number;\r\n                })\r\n              ) + 1;\r\n            M.toast({\r\n              html: `Poistettu (Nro: ${found_signee.boat_number}, Kippari: ${found_signee.captain_name}) Tiedot!`,\r\n            });\r\n            location.href = \"#\";\r\n            location.href = \"#signing\";\r\n          } catch (err) {\r\n            console.log(err.message);\r\n          }\r\n        } else {\r\n          console.log(\"Tällä id:llä ei löytynyt kilpailijaa...\");\r\n        }\r\n      }\r\n    },\r\n    // TODO serverside input validation\r\n    validateInfo: function() {\r\n      this.notification = null;\r\n      this.errors = [];\r\n\r\n      // Check all the inputs\r\n      if (!this.boat_number) {\r\n        this.showError(\"Venekunnan kilpailunumero puuttuu!\");\r\n      }\r\n\r\n      if (!this.captain_name) {\r\n        this.showError(\"Kipparin nimi puuttuu!\");\r\n      } else {\r\n        this.captain_name = this.capitalize_words(this.captain_name);\r\n      }\r\n\r\n      if (!this.temp_captain_name) {\r\n        this.temp_captain_name = \"-\";\r\n      } else {\r\n        this.temp_captain_name = this.capitalize_words(this.temp_captain_name);\r\n      }\r\n\r\n      if (!this.starting_place) {\r\n        this.starting_place = \"-\";\r\n      }\r\n      if (!this.team) {\r\n        this.team = \"-\";\r\n      }\r\n\r\n      if (this.team.length > 40) {\r\n        let temp_team = this.team;\r\n        temp_team = temp_team.slice(0, 40);\r\n        this.team = temp_team; // Set the name back, shortened\r\n        this.showError(\r\n          \"Valitse tiimin nimeksi alle 40 merkkiä pitkä nimi (nimi lyhennetty 40 merkkiin, valittavissa pudotusvalikosta)!\"\r\n        );\r\n      }\r\n\r\n      if (!this.locality) {\r\n        this.showError(\"Seura/Paikkakunta puuttuu!\");\r\n      } else {\r\n        this.locality = this.capitalize_words(this.locality);\r\n      }\r\n\r\n      // If no errors, proceed\r\n      if (!this.errors.length) {\r\n        // If selected on the signees list or with the search button\r\n        if (this.selected_id) {\r\n          // If id on signees\r\n          let found_signee = this.searchId(this.selected_id);\r\n          if (found_signee) {\r\n            let temp_boat = this.searchBoatNumber(this.boat_number);\r\n            // If there already exist a boat with same number, but it isn't the same id\r\n            if (temp_boat && temp_boat.id != found_signee.id) {\r\n              console.log(\"Boat number already exists...\");\r\n              // Ask if user wants to overwrite\r\n              this.old_info = temp_boat;\r\n            } else {\r\n              // If there isn't any boats with this boat number\r\n              found_signee.boat_number = parseInt(this.boat_number);\r\n              found_signee.starting_place = this.starting_place;\r\n              found_signee.captain_name = this.captain_name;\r\n              found_signee.temp_captain_name = this.temp_captain_name;\r\n              found_signee.locality = this.locality;\r\n              found_signee.team = this.team;\r\n              this.new_signee = found_signee;\r\n              // Save to database and vuex\r\n              this.saveToDatabase(this.new_signee, true);\r\n              if (this.teams.indexOf(this.team) == -1) {\r\n                this.teams.push(this.team);\r\n                this.$store.commit(\"setTeams\", this.teams);\r\n              }\r\n              M.toast({\r\n                html: `Päivitetty venekunnan (Nro: ${this.new_signee.boat_number}, Kippari: ${this.new_signee.captain_name}) Tiedot!`,\r\n              });\r\n              this.clearInputs();\r\n              location.href = \"#\";\r\n              location.href = \"#signing\";\r\n              // Update values for next signee\r\n              this.boat_number =\r\n                Math.max.apply(\r\n                  Math,\r\n                  this.signees.map(function(o) {\r\n                    return o.boat_number;\r\n                  })\r\n                ) + 1;\r\n              this.id =\r\n                Math.max.apply(\r\n                  Math,\r\n                  this.signees.map(function(o) {\r\n                    return o.id;\r\n                  })\r\n                ) + 1;\r\n              this.selected_id = null;\r\n            }\r\n          }\r\n        } else {\r\n          // No selected id, so new input\r\n          let temp_boat = this.searchBoatNumber(this.boat_number);\r\n          // IF there is boat with same boat number, and somehow with this id\r\n          if (temp_boat && temp_boat.id != this.id) {\r\n            console.log(\"Boat number already exists...\");\r\n            this.notification = `Numerolla on jo olemassa venekunta, päällekirjoitetaanko?`;\r\n            this.old_info = temp_boat;\r\n          } else {\r\n            // Otherwise create new signee\r\n            let competition_fishes = this.$store.getters.getCompetitionFishes;\r\n            let weights = [];\r\n            // Init fish specific points and weights for signee\r\n            competition_fishes.forEach((element) => {\r\n              let fish = {\r\n                name: element.name,\r\n                weights: 0,\r\n                points: 0,\r\n              };\r\n              weights.push(fish);\r\n            });\r\n            // Create signee object and save to database/vuex\r\n            this.new_signee = {\r\n              id: this.id,\r\n              boat_number: parseInt(this.boat_number),\r\n              starting_place: this.starting_place,\r\n              captain_name: this.captain_name,\r\n              temp_captain_name: this.temp_captain_name,\r\n              locality: this.locality,\r\n              team: this.team,\r\n              total_points: 0,\r\n              total_weights: 0,\r\n              returned: false,\r\n              weights: weights,\r\n            };\r\n            this.saveToDatabase(this.new_signee, false);\r\n\r\n            if (this.teams.indexOf(this.team) == -1) {\r\n              this.teams.push(this.team);\r\n              this.$store.commit(\"setTeams\", this.teams);\r\n            }\r\n\r\n            M.toast({\r\n              html: `Venekunta ilmoitettu kisaan! (Nro: ${this.new_signee.boat_number}, Kippari: ${this.new_signee.captain_name})`,\r\n            });\r\n            this.clearInputs();\r\n            location.href = \"#\";\r\n            location.href = \"#signing\";\r\n            // Update values for next signee\r\n            this.boat_number =\r\n              Math.max.apply(\r\n                Math,\r\n                this.signees.map(function(o) {\r\n                  return o.boat_number;\r\n                })\r\n              ) + 1;\r\n            this.id =\r\n              Math.max.apply(\r\n                Math,\r\n                this.signees.map(function(o) {\r\n                  return o.id;\r\n                })\r\n              ) + 1;\r\n            this.selected_id = null;\r\n          }\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n#old-info-container {\r\n  border: 1px solid black;\r\n}\r\n\r\n#new-info-container {\r\n  border: 1px solid black;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signing.vue?vue&type=template&id=48a3d512&\"\nimport script from \"./Signing.vue?vue&type=script&lang=js&\"\nexport * from \"./Signing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Signing.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VAvatar,VBtn,VCard,VCardActions,VCardTitle,VChip,VCol,VCombobox,VContainer,VDataTable,VDialog,VDivider,VIcon,VRow,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{staticStyle:{\"margin-bottom\":\"60px\"}}),_c('div',{class:{\n      'container-transparent': !_vm.$store.getters.getTheme,\n      'container-transparent-dark': _vm.$store.getters.getTheme,\n    }},[_c('v-row',{staticClass:\"valign-wrapper\"},[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h1',[_vm._v(\"Tulokset\")])]),_c('v-col',{attrs:{\"md\":\"3\"}},[_c('div',{staticClass:\"text-center\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('p',{class:{\n                  'black-text': !_vm.$store.getters.getTheme,\n                  'white-text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Kello/Kilpailuaika \")]),_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\",\"outlined\":\"\",\"color\":\"red darken-4\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-timer\")])],1)]}}]),model:{value:(_vm.dialog_clock),callback:function ($$v) {_vm.dialog_clock=$$v},expression:\"dialog_clock\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',{staticClass:\"headline\"}),_c('Timedate'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.dialog_clock = false}}},[_vm._v(\" Sulje \")])],1)],1)],1)],1)])],1),_c('v-row',[_c('v-col',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('v-switch',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"loading\":_vm.loading,\"color\":\"orange darken-3\",\"label\":\"Tulosten automaattinen päivitys 60s välein\"},model:{value:(_vm.intervalSwitch),callback:function ($$v) {_vm.intervalSwitch=$$v},expression:\"intervalSwitch\"}})],1)],1),_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"order\":\"first\"}},[_c('router-link',{attrs:{\"to\":\"/weighting\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"blue darken-4\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"fitness_center\")]),_vm._v(\"Punnitus\")])],1)],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('router-link',{attrs:{\"to\":\"/overview\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"primary\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"info\")]),_vm._v(\"Kilpailun yleisnäkymä\")])],1)],1),(\n          _vm.normal_points.length ||\n            _vm.team_results.length ||\n            _vm.biggest_fishes_results.length ||\n            _vm.biggest_amounts_results.length\n        )?_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"order\":\"last\"}},[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"300px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n        var on = ref.on;\n        var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"color\":\"green darken-4\",\"dark\":\"\",\"large\":\"\",\"tile\":\"\",\"loading\":_vm.loading,\"disabled\":!_vm.biggest_amounts_results.length || !_vm.competition}},'v-btn',attrs,false),on),[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa kaikki tulokset \")])]}}],null,false,1967184158),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_vm._v(\"Valitse mitä lataus sisältää\")]),_c('v-divider'),_c('v-card-text',{staticStyle:{\"height\":\"300px\",\"width\":\"100%\"}},[_c('v-checkbox',{attrs:{\"label\":\"Tilastoja\",\"disabled\":!_vm.biggest_amounts_results.length,\"color\":\"indigo darken-3\",\"value\":\"stats\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.biggest_amounts_results.length,\"label\":\"Normaalikilpailun tulokset\",\"color\":\"indigo darken-3\",\"value\":\"normal\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}),(_vm.isTeamCompetition)?_c('v-checkbox',{attrs:{\"disabled\":!_vm.team_results.length,\"label\":\"Tiimikilpailun tulokset\",\"color\":\"indigo darken-3\",\"value\":\"team\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}):_vm._e(),_c('v-checkbox',{attrs:{\"disabled\":!_vm.biggest_fishes_results.length,\"label\":\"Suurimmat yksittäiset kalat\",\"color\":\"indigo darken-3\",\"value\":\"biggest_fishes\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.biggest_amounts_results.length,\"label\":\"Suurimmat kalasaaliit\",\"color\":\"indigo darken-3\",\"value\":\"biggest_amounts\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.biggest_amounts_results.length &&\n                    !_vm.biggest_amounts_results.length,\"label\":\"Suurimmat yksittäiset kalat / kalasaaliit (Voittajat)\",\"color\":\"indigo darken-3\",\"value\":\"biggest_winners\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-col',[_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"red darken-4\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Sulje\")])],1),_c('v-col',[_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"green darken-4\",\"text\":\"\"},on:{\"click\":_vm.choosePrints}},[_vm._v(\"Lataa\")])],1)],1)],1)],1)],1):_vm._e()],1),_c('v-tabs',{attrs:{\"background-color\":\"blue lighten-2\",\"color\":\"blue darken-4\",\"grow\":\"\",\"show-arrows\":\"\",\"next-icon\":\"mdi-arrow-right-bold-box-outline\",\"prev-icon\":\"mdi-arrow-left-bold-box-outline\",\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"blue darken-4\"}}),_c('v-tab',{attrs:{\"href\":\"#stats\"}},[_vm._v(\"Tilastoja\")]),_c('v-tab',{attrs:{\"href\":\"#normal-competition\"}},[_vm._v(\"Normaalikilpailu\")]),(_vm.isTeamCompetition)?_c('v-tab',{attrs:{\"href\":\"#team-competition\"}},[_vm._v(\"Tiimikilpailu\")]):_c('v-tab',{attrs:{\"href\":\"#team-competition\",\"disabled\":\"\"}},[_vm._v(\"Ei Tiimikilpailua\")]),_c('v-tab',{attrs:{\"href\":\"#biggest-fishes\"}},[_vm._v(\"Suurimmat Kalat\")]),_c('v-tab',{attrs:{\"href\":\"#biggest-fish-amounts\"}},[_vm._v(\"Suurimmat Kalasaaliit\")])],1),_c('v-tabs-items',{staticStyle:{\"background\":\"rgba(0,0,0,0.4)\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'stats'}},[(_vm.competition)?_c('v-row',{staticStyle:{\"padding-top\":\"50px\"}},[_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"8\"}},[_c('v-btn',{staticClass:\"white--text\",staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading,\"disabled\":!_vm.biggest_amounts_results.length},on:{\"click\":function($event){return _vm.saveStatsAsPDF(\"Tilastoja\")}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf\")])],1)],1):_vm._e(),(_vm.competition)?_c('v-row',[(_vm.competition.normal_points.length)?_c('v-row',{staticStyle:{\"min-height\":\"400px\"}},[_c('v-col',{staticClass:\"d-flex align-content-start\",staticStyle:{\"margin-bottom\":\"50px\"},attrs:{\"md\":\"6\"}},[_c('div',{staticClass:\"chart-container\",staticStyle:{\"position\":\"relative\",\"height\":\"30vh\",\"width\":\"60vw\"}},[_c('canvas',{attrs:{\"id\":\"fishesChart\"}})])]),_c('v-col',{staticClass:\"d-flex align-content-start\",attrs:{\"md\":\"6\"}},[_c('div',{staticClass:\"chart-container\",staticStyle:{\"position\":\"relative\",\"height\":\"30vh\",\"width\":\"60vw\"}},[_c('canvas',{attrs:{\"id\":\"signeesChart\"}})])])],1):_c('v-row',[_c('v-col',{attrs:{\"md\":\"12\"}},[_c('p',{staticClass:\"flow-text\",class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ei tuloksia, vielä... \")])])],1)],1):_vm._e(),(_vm.competition)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-row',[_c('v-col',[_c('h3',{class:{\n                    'white--text': _vm.$store.getters.getTheme,\n                  }},[_vm._v(\" Kalalajien määritykset \")])])],1),_c('v-row',[_c('v-col',{staticClass:\"scroll_table\"},[_c('table',{staticClass:\"highlight centered responsive-table table_header\",class:{\n                    'white--text': _vm.$store.getters.getTheme,\n                  },attrs:{\"id\":\"fish-weights-table\"}},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Kalalaji\")]),_c('th',[_vm._v(\"Pistekerroin\")]),_c('th',[_vm._v(\"Alamitta\")]),_c('th',[_vm._v(\"Punnittu\")])])]),_c('tbody',[_vm._l((_vm.calculated_fish_weights),function(fish,index){return _c('tr',{key:index},[_c('th',{staticStyle:{\"border\":\"1px solid black\"},attrs:{\"scope\":\"row\"}},[_vm._v(\" \"+_vm._s(fish.name)+\" \")]),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_vm._v(\" x \"+_vm._s(fish.multiplier)+\" \")]),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_vm._v(\" \"+_vm._s(fish.minsize)+\" cm \")]),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_vm._v(\" \"+_vm._s(fish.weights ? Math.round( (fish.weights / 1000 + Number.EPSILON) * 100 ) / 100 : 0)+\" kg \")])])}),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}}),_c('th'),_c('th',{staticStyle:{\"border\":\"1px solid black\"}},[_vm._v(\" Saalista yhteensä \")]),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(_vm._s(Math.round( (_vm.calculated_total_weights / 1000 + Number.EPSILON) * 100 ) / 100)+\" kg\")])])])],2)])])],1),_c('v-row',[_c('v-col',[_c('h3',{class:{\n                    'white--text': _vm.$store.getters.getTheme,\n                  }},[_vm._v(\" Yleisiä tilastoja \")])])],1),_c('v-row',[_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('table',{staticClass:\"centered responsive-table highlight\",class:{\n                    'white--text': _vm.$store.getters.getTheme,\n                  },attrs:{\"id\":\"misc-table\"}},[_c('tr',[_c('th',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"Cup pistekerroin\")])]),_c('td',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"x \"+_vm._s(_vm.competition.cup_points_multiplier))])])]),_c('tr',[_c('th',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"Ilmoittautuneita yhteensä\")])]),_c('td',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(_vm._s(_vm.signees.length))]),_vm._v(\" venettä \")])]),_c('tr',[_c('th',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"Saalista saaneita\")])]),(_vm.$store.getters.getPointSignees.length)?_c('td',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(_vm._s(Math.round( (_vm.$store.getters.getPointSignees.length / _vm.competition.signees.length) * 100 * 100 ) / 100)+\"% (\"+_vm._s(_vm.$store.getters.getPointSignees.length)+\" / \"+_vm._s(_vm.signees.length)+\")\")])]):_c('td',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"0% (0/0)\")])])])])])],1)],1)],1):_c('v-row',[(_vm.loading)?_c('v-col',[_c('h2',{class:{\n                'white--text': _vm.$store.getters.getTheme,\n              }},[_vm._v(\" Päivitetään tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1):_c('v-col',[_c('h2',{staticClass:\"error\"},[_vm._v(\" Ei saatavilla kilpailun tietoja... (Connection timed out) \")])])],1)],1),_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'normal-competition'}},[_c('v-row',[_c('v-col',{staticStyle:{\"padding-top\":\"50px\",\"padding-bottom\":\"20px\"},attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-row',[_c('v-col',{attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"label\":\"Valitse näytettävät tulokset\",\"outlined\":\"\",\"items\":_vm.normal_options},on:{\"input\":_vm.switchNormalResults},model:{value:(_vm.selected_normal),callback:function ($$v) {_vm.selected_normal=$$v},expression:\"selected_normal\"}})],1),(\n                  _vm.normal_points.length ||\n                    (_vm.signees.length && _vm.selected_normal === 'Ilmoittautuneet')\n                )?_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading},on:{\"click\":function($event){_vm.saveAsPDF(\n                      (\"Normaalikilpailun tulokset (\" + _vm.selected_normal + \")\"),\n                      '#normal-table'\n                    )}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf \")])],1):_vm._e()],1),(\n                _vm.normal_points.length ||\n                  (_vm.signees.length && _vm.selected_normal === 'Ilmoittautuneet')\n              )?_c('v-row',{staticClass:\"row\"},[_c('v-col',{attrs:{\"md\":\"12\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Normaalikilpailu (\"+_vm._s(_vm.selected_normal)+\") \")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.results,\"search\":_vm.search,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"item.placement\",fn:function(ref){\n              var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.placement)}},[_vm._v(_vm._s(item.placement)+\".\")])]}},(_vm.selected_normal === 'Ilmoittautuneet')?{key:\"item.boat_number\",fn:function(ref){\n              var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.boat_number))])]}}:null,{key:\"item.total_points\",fn:function(ref){\n              var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.total_points.toLocaleString())+\" p\")])]}},{key:\"item.cup_points_total\",fn:function(ref){\n              var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":_vm.getColorPoints(item.cup_points_total)}},[_vm._v(_vm._s(item.cup_points_total))])]}}],null,true)})],1)],1)],1):_c('v-row',[(!_vm.loading)?_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n                    'white--text': _vm.$store.getters.getTheme,\n                  }},[_vm._v(\" Ei tuloksia, vielä... \")])]):_c('v-col',[_c('h2',{class:{\n                    'white--text': _vm.$store.getters.getTheme,\n                  }},[_vm._v(\" Päivitetään tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1)],1)],1)],1)],1),(_vm.isTeamCompetition)?_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'team-competition'}},[(_vm.team_results.length)?_c('v-row',[_c('v-col',{staticStyle:{\"padding-top\":\"50px\"},attrs:{\"md\":\"3\",\"offset-md\":\"8\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.saveAsPDF(\"Tiimikilpailun tulokset\", '#team-table')}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf \")])],1)],1):_vm._e(),_c('v-row',[(_vm.team_results.length)?_c('v-col',{staticStyle:{\"padding-bottom\":\"20px\"},attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\"},[_vm._v(\"Tiimikilpailu\")]),_c('v-spacer'),_c('v-switch',{staticClass:\"black--text\",attrs:{\"color\":\"indigo darken-3\",\"append-icon\":\"mdi-weather-night\",\"prepend-icon\":\"mdi-weather-sunny\"},model:{value:(_vm.$store.getters.getTheme),callback:function ($$v) {_vm.$set(_vm.$store.getters, \"getTheme\", $$v)},expression:\"$store.getters.getTheme\"}}),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search_team),callback:function ($$v) {_vm.search_team=$$v},expression:\"search_team\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.team_headers,\"items\":_vm.team_results,\"search\":_vm.search_team,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"item.placement\",fn:function(ref){\n        var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.placement)}},[_vm._v(_vm._s(item.placement)+\".\")])]}},{key:\"item.points\",fn:function(ref){\n        var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.points.toLocaleString())+\" p\")])]}}],null,true)})],1)],1):_c('v-col',[(!_vm.loading)?_c('v-col'):_vm._e(),(!_vm.loading)?_c('p',{staticClass:\"flow-text\",class:{\n                'white--text': _vm.$store.getters.getTheme,\n              }},[_vm._v(\" Ei tuloksia, vielä... \")]):_c('v-col',[_c('h2',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Päivitetään tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1)],1)],1)],1):_vm._e(),_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'biggest-fishes'}},[_c('v-row',{staticStyle:{\"padding-top\":\"50px\"}},[_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"label\":\"Valitse näytettävät tulokset\",\"outlined\":\"\",\"items\":_vm.fish_names},on:{\"input\":_vm.calculateBiggestFishes},model:{value:(_vm.selected_biggest_fish),callback:function ($$v) {_vm.selected_biggest_fish=$$v},expression:\"selected_biggest_fish\"}})],1),(_vm.biggest_fishes_results.length)?_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading},on:{\"click\":function($event){_vm.saveAsPDF(\n                  (\"Suurimmat kalat (\" + _vm.selected_biggest_fish + \")\"),\n                  '#biggest-fishes-table'\n                )}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf \")])],1):_vm._e()],1),(_vm.biggest_fishes_results.length)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-bottom\":\"40px\"},attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[(_vm.results_found_fishes)?_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Suurimmat kalat (\"+_vm._s(_vm.selected_biggest_fish)+\" \"+_vm._s(_vm.results_found_fishes)+\") \")]):_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Suurimmat kalat (\"+_vm._s(_vm.selected_biggest_fish)+\") \")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search_fishes),callback:function ($$v) {_vm.search_fishes=$$v},expression:\"search_fishes\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.biggest_fishes_headers,\"items\":_vm.biggest_fishes_results,\"search\":_vm.search_fishes,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"item.placement\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.placement)}},[_vm._v(_vm._s(item.placement)+\".\")])]}},{key:\"item.name\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.name))])]}},{key:\"item.weight\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.weight.toLocaleString())+\" g\")])]}}],null,true)})],1)],1)],1):_c('v-row',[(!_vm.loading)?_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n                'white--text': _vm.$store.getters.getTheme,\n              }},[_vm._v(\" Ei tuloksia, vielä... \")])]):_c('v-col',[_c('h2',{class:{\n                'white--text': _vm.$store.getters.getTheme,\n              }},[_vm._v(\" Päivitetään tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1)],1)],1),_c('v-tab-item',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },attrs:{\"value\":'biggest-fish-amounts'}},[_c('v-row',{staticStyle:{\"padding-top\":\"50px\"}},[_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"label\":\"Valitse näytettävät tulokset\",\"outlined\":\"\",\"items\":_vm.fish_amount_names},on:{\"input\":_vm.calculateBiggestAmounts},model:{value:(_vm.selected_biggest_amount),callback:function ($$v) {_vm.selected_biggest_amount=$$v},expression:\"selected_biggest_amount\"}})],1),(_vm.biggest_amounts_results.length)?_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading,\"disabled\":!_vm.biggest_amounts_results.length},on:{\"click\":function($event){_vm.saveAsPDF(\n                  (\"Suurimmat kalat (\" + _vm.selected_biggest_amount + \")\"),\n                  '#biggest-amounts-table'\n                )}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf \")])],1):_vm._e()],1),(_vm.biggest_amounts_results.length)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-bottom\":\"40px\"},attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[(_vm.results_found_amounts)?_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Suurimmat kalasaaliit (\"+_vm._s(_vm.selected_biggest_amount)+\" \"+_vm._s(_vm.results_found_amounts)+\") \")]):_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Suurimmat kalasaaliit (\"+_vm._s(_vm.selected_biggest_amount)+\") \")]),_c('v-spacer'),_c('v-switch',{staticClass:\"black--text\",attrs:{\"color\":\"indigo darken-3\",\"append-icon\":\"mdi-weather-night\",\"prepend-icon\":\"mdi-weather-sunny\"},model:{value:(_vm.$store.getters.getTheme),callback:function ($$v) {_vm.$set(_vm.$store.getters, \"getTheme\", $$v)},expression:\"$store.getters.getTheme\"}}),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search_amounts),callback:function ($$v) {_vm.search_amounts=$$v},expression:\"search_amounts\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.biggest_amounts_headers,\"items\":_vm.biggest_amounts_results,\"search\":_vm.search_amounts,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"item.placement\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.placement)}},[_vm._v(_vm._s(item.placement)+\".\")])]}},{key:\"item.name\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.name))])]}},{key:\"item.weight\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.weight.toLocaleString())+\" g\")])]}}],null,true)})],1)],1)],1):_c('v-row',[(!_vm.loading)?_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('p',{staticClass:\"flow-text\",class:{\n                'white--text': _vm.$store.getters.getTheme,\n              }},[_vm._v(\" Ei tuloksia, vielä... \")])]):_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('h2',{class:{\n                'white--text': _vm.$store.getters.getTheme,\n              }},[_vm._v(\" Päivitetään tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1)],1)],1)],1),(_vm.competition)?_c('div',[(!_vm.loading)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":_vm.competition.isPublic ? 'grey darken-4' : 'green darken-4',\"loading\":_vm.updating},on:{\"click\":function($event){return _vm.publishCompetition(_vm.competition.isPublic)}}},[(_vm.competition.isPublic)?_c('div',[_c('v-icon',[_vm._v(\"mdi-incognito\")]),_vm._v(\" Aseta kilpailu salaiseksi \")],1):_c('div',[_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-publish\")]),_vm._v(\" Aseta kilpailu julkiseksi \")],1)])],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"id\":\"updatebtn\",\"large\":\"\",\"tile\":\"\",\"color\":\"blue darken-4\",\"loading\":_vm.updating},on:{\"click\":function($event){return _vm.refreshCompetition(_vm.competition._id)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"update\")]),_vm._v(\"Päivitä tulokset \")])],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":_vm.competition.isFinished ? 'yellow' : 'green darken-3',\"loading\":_vm.updating},on:{\"click\":function($event){return _vm.endCompetition(_vm.competition.isFinished)}}},[(_vm.competition.isFinished)?_c('div',[_c('v-icon',{attrs:{\"color\":\"red darken-2\"}},[_vm._v(\"mdi-cancel\")]),_vm._v(\" Aseta kilpailu keskeneräiseksi \")],1):_c('div',[_c('v-icon',{attrs:{\"color\":\"yellow\"}},[_vm._v(\"mdi-trophy\")]),_vm._v(\" Aseta kilpailu päättyneeksi \")],1)])],1)],1):_c('v-row',[_c('v-col',[_c('h2',{class:{\n              'white--text': _vm.$store.getters.getTheme,\n            }},[_vm._v(\" Päivitetään... \")])]),_c('ProgressBarQuery')],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /results -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <v-container>\r\n    <Header style=\"margin-bottom:60px\" />\r\n    <div\r\n      v-bind:class=\"{\r\n        'container-transparent': !$store.getters.getTheme,\r\n        'container-transparent-dark': $store.getters.getTheme,\r\n      }\"\r\n    >\r\n      <v-row class=\"valign-wrapper\">\r\n        <v-col md=\"6\" offset-md=\"3\">\r\n          <h1>Tulokset</h1>\r\n        </v-col>\r\n        <v-col md=\"3\">\r\n          <div class=\"text-center\">\r\n            <v-dialog v-model=\"dialog_clock\">\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <p\r\n                  v-bind:class=\"{\r\n                    'black-text': !$store.getters.getTheme,\r\n                    'white-text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Kello/Kilpailuaika\r\n                </p>\r\n                <v-btn\r\n                  text\r\n                  outlined\r\n                  color=\"red darken-4\"\r\n                  dark\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                >\r\n                  <v-icon>mdi-timer</v-icon>\r\n                </v-btn>\r\n              </template>\r\n\r\n              <v-card :dark=\"$store.getters.getTheme\">\r\n                <v-card-title class=\"headline\"> </v-card-title>\r\n                <Timedate />\r\n\r\n                <v-card-actions>\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn color=\"primary\" outlined @click=\"dialog_clock = false\">\r\n                    Sulje\r\n                  </v-btn>\r\n                </v-card-actions>\r\n              </v-card>\r\n            </v-dialog>\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col\r\n          md=\"4\"\r\n          offset-md=\"4\"\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n        >\r\n          <v-switch\r\n            :dark=\"$store.getters.getTheme\"\r\n            :loading=\"loading\"\r\n            v-model=\"intervalSwitch\"\r\n            color=\"orange darken-3\"\r\n            label=\"Tulosten automaattinen päivitys 60s välein\"\r\n          ></v-switch>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col order=\"first\" style=\"margin-top:20px\">\r\n          <router-link to=\"/weighting\">\r\n            <v-btn large rounded color=\"blue darken-4\" class=\"white--text\"\r\n              ><i class=\"material-icons left\">fitness_center</i>Punnitus</v-btn\r\n            >\r\n          </router-link>\r\n        </v-col>\r\n        <v-col style=\"margin-top:20px\">\r\n          <router-link to=\"/overview\">\r\n            <v-btn large rounded color=\"primary\"\r\n              ><i class=\"material-icons left\">info</i>Kilpailun\r\n              yleisnäkymä</v-btn\r\n            >\r\n          </router-link>\r\n        </v-col>\r\n        <!-- If one of these has results, show \"Lataa kaikki pdf\" button -->\r\n        <v-col\r\n          order=\"last\"\r\n          v-if=\"\r\n            normal_points.length ||\r\n              team_results.length ||\r\n              biggest_fishes_results.length ||\r\n              biggest_amounts_results.length\r\n          \"\r\n          style=\"margin-top:20px\"\r\n        >\r\n          <v-dialog v-model=\"dialog\" scrollable max-width=\"300px\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn\r\n                color=\"green darken-4\"\r\n                dark\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n                large\r\n                tile\r\n                class=\"white--text\"\r\n                :loading=\"loading\"\r\n                :disabled=\"!biggest_amounts_results.length || !competition\"\r\n              >\r\n                <i class=\"material-icons left\">picture_as_pdf</i>Lataa kaikki\r\n                tulokset\r\n              </v-btn>\r\n            </template>\r\n            <v-card :dark=\"$store.getters.getTheme\">\r\n              <v-card-title>Valitse mitä lataus sisältää</v-card-title>\r\n              <v-divider></v-divider>\r\n              <v-card-text style=\"height: 300px;width:100%;\">\r\n                <v-checkbox\r\n                  v-model=\"selected_print\"\r\n                  label=\"Tilastoja\"\r\n                  :disabled=\"!biggest_amounts_results.length\"\r\n                  color=\"indigo darken-3\"\r\n                  value=\"stats\"\r\n                ></v-checkbox>\r\n                <v-checkbox\r\n                  v-model=\"selected_print\"\r\n                  :disabled=\"!biggest_amounts_results.length\"\r\n                  label=\"Normaalikilpailun tulokset\"\r\n                  color=\"indigo darken-3\"\r\n                  value=\"normal\"\r\n                ></v-checkbox>\r\n                <v-checkbox\r\n                  v-if=\"isTeamCompetition\"\r\n                  :disabled=\"!team_results.length\"\r\n                  v-model=\"selected_print\"\r\n                  label=\"Tiimikilpailun tulokset\"\r\n                  color=\"indigo darken-3\"\r\n                  value=\"team\"\r\n                ></v-checkbox>\r\n                <v-checkbox\r\n                  v-model=\"selected_print\"\r\n                  :disabled=\"!biggest_fishes_results.length\"\r\n                  label=\"Suurimmat yksittäiset kalat\"\r\n                  color=\"indigo darken-3\"\r\n                  value=\"biggest_fishes\"\r\n                ></v-checkbox>\r\n                <v-checkbox\r\n                  v-model=\"selected_print\"\r\n                  :disabled=\"!biggest_amounts_results.length\"\r\n                  label=\"Suurimmat kalasaaliit\"\r\n                  color=\"indigo darken-3\"\r\n                  value=\"biggest_amounts\"\r\n                ></v-checkbox>\r\n                <v-checkbox\r\n                  v-model=\"selected_print\"\r\n                  :disabled=\"\r\n                    !biggest_amounts_results.length &&\r\n                      !biggest_amounts_results.length\r\n                  \"\r\n                  label=\"Suurimmat yksittäiset kalat / kalasaaliit (Voittajat)\"\r\n                  color=\"indigo darken-3\"\r\n                  value=\"biggest_winners\"\r\n                ></v-checkbox>\r\n              </v-card-text>\r\n              <v-divider></v-divider>\r\n              <v-card-actions>\r\n                <v-col>\r\n                  <v-btn\r\n                    outlined\r\n                    color=\"red darken-4\"\r\n                    text\r\n                    @click=\"dialog = false\"\r\n                    >Sulje</v-btn\r\n                  >\r\n                </v-col>\r\n                <v-col>\r\n                  <v-btn\r\n                    outlined\r\n                    color=\"green darken-4\"\r\n                    text\r\n                    @click=\"choosePrints\"\r\n                    >Lataa</v-btn\r\n                  >\r\n                </v-col>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <!-- Tabs -->\r\n      <v-tabs\r\n        v-model=\"tab\"\r\n        background-color=\"blue lighten-2\"\r\n        color=\"blue darken-4\"\r\n        grow\r\n        show-arrows\r\n        next-icon=\"mdi-arrow-right-bold-box-outline\"\r\n        prev-icon=\"mdi-arrow-left-bold-box-outline\"\r\n        center-active\r\n      >\r\n        <v-tabs-slider color=\"blue darken-4\"></v-tabs-slider>\r\n        <v-tab href=\"#stats\">Tilastoja</v-tab>\r\n        <v-tab href=\"#normal-competition\">Normaalikilpailu</v-tab>\r\n        <v-tab v-if=\"isTeamCompetition\" href=\"#team-competition\"\r\n          >Tiimikilpailu</v-tab\r\n        >\r\n        <v-tab v-else href=\"#team-competition\" disabled\r\n          >Ei Tiimikilpailua</v-tab\r\n        >\r\n        <v-tab href=\"#biggest-fishes\">Suurimmat Kalat</v-tab>\r\n        <v-tab href=\"#biggest-fish-amounts\">Suurimmat Kalasaaliit</v-tab>\r\n      </v-tabs>\r\n\r\n      <v-tabs-items v-model=\"tab\" style=\"background: rgba(0,0,0,0.4);\">\r\n        <!-- Tilastoja -->\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'stats'\"\r\n        >\r\n          <!-- Save as pdf button, is disabled if there are no results -->\r\n          <v-row style=\"padding-top:50px\" v-if=\"competition\">\r\n            <v-col md=\"3\" offset-md=\"8\">\r\n              <v-btn\r\n                large\r\n                tile\r\n                color=\"green darken-4\"\r\n                class=\"white--text\"\r\n                @click=\"saveStatsAsPDF(`Tilastoja`)\"\r\n                :loading=\"loading\"\r\n                :disabled=\"!biggest_amounts_results.length\"\r\n                style=\"margin-bottom:20px\"\r\n                ><i class=\"material-icons left\">picture_as_pdf</i>Lataa\r\n                pdf</v-btn\r\n              >\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-if=\"competition\">\r\n            <v-row\r\n              style=\"min-height:400px;\"\r\n              v-if=\"competition.normal_points.length\"\r\n            >\r\n              <v-col\r\n                md=\"6\"\r\n                class=\"d-flex align-content-start\"\r\n                style=\"margin-bottom:50px;\"\r\n              >\r\n                <div\r\n                  class=\"chart-container\"\r\n                  style=\"position: relative; height:30vh; width:60vw\"\r\n                >\r\n                  <canvas id=\"fishesChart\"></canvas>\r\n                </div>\r\n              </v-col>\r\n              <v-col md=\"6\" class=\"d-flex align-content-start\">\r\n                <div\r\n                  class=\"chart-container\"\r\n                  style=\"position: relative; height:30vh; width:60vw\"\r\n                >\r\n                  <canvas id=\"signeesChart\"></canvas>\r\n                </div>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col md=\"12\">\r\n                <p\r\n                  class=\"flow-text\"\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ei tuloksia, vielä...\r\n                </p>\r\n              </v-col>\r\n            </v-row>\r\n          </v-row>\r\n          <v-row v-if=\"competition\">\r\n            <v-col md=\"8\" offset-md=\"2\">\r\n              <v-row>\r\n                <v-col>\r\n                  <h3\r\n                    v-bind:class=\"{\r\n                      'white--text': $store.getters.getTheme,\r\n                    }\"\r\n                  >\r\n                    Kalalajien määritykset\r\n                  </h3>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col class=\"scroll_table\">\r\n                  <table\r\n                    id=\"fish-weights-table\"\r\n                    class=\"highlight centered responsive-table table_header\"\r\n                    v-bind:class=\"{\r\n                      'white--text': $store.getters.getTheme,\r\n                    }\"\r\n                  >\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Kalalaji</th>\r\n                        <th>Pistekerroin</th>\r\n                        <th>Alamitta</th>\r\n                        <th>Punnittu</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr\r\n                        v-for=\"(fish, index) in calculated_fish_weights\"\r\n                        :key=\"index\"\r\n                      >\r\n                        <th style=\"border:1px solid black;\" scope=\"row\">\r\n                          {{ fish.name }}\r\n                        </th>\r\n                        <td style=\"border:1px solid black;\">\r\n                          x {{ fish.multiplier }}\r\n                        </td>\r\n                        <td style=\"border:1px solid black;\">\r\n                          {{ fish.minsize }} cm\r\n                        </td>\r\n                        <td style=\"border:1px solid black;\">\r\n                          {{\r\n                            fish.weights\r\n                              ? Math.round(\r\n                                  (fish.weights / 1000 + Number.EPSILON) * 100\r\n                                ) / 100\r\n                              : 0\r\n                          }}\r\n                          kg\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th scope=\"row\"></th>\r\n                        <th></th>\r\n                        <th style=\"border:1px solid black;\">\r\n                          Saalista yhteensä\r\n                        </th>\r\n                        <td style=\"border:1px solid black;\">\r\n                          <b\r\n                            >{{\r\n                              Math.round(\r\n                                (calculated_total_weights / 1000 +\r\n                                  Number.EPSILON) *\r\n                                  100\r\n                              ) / 100\r\n                            }}\r\n                            kg</b\r\n                          >\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </v-col>\r\n              </v-row>\r\n\r\n              <v-row>\r\n                <v-col>\r\n                  <h3\r\n                    v-bind:class=\"{\r\n                      'white--text': $store.getters.getTheme,\r\n                    }\"\r\n                  >\r\n                    Yleisiä tilastoja\r\n                  </h3>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col md=\"10\" offset-md=\"1\">\r\n                  <table\r\n                    id=\"misc-table\"\r\n                    class=\"centered responsive-table highlight\"\r\n                    v-bind:class=\"{\r\n                      'white--text': $store.getters.getTheme,\r\n                    }\"\r\n                  >\r\n                    <tr>\r\n                      <th style=\"border:1px solid black;\" class=\"center-align\">\r\n                        <b>Cup pistekerroin</b>\r\n                      </th>\r\n                      <td style=\"border:1px solid black;\" class=\"center-align\">\r\n                        <b>x {{ competition.cup_points_multiplier }}</b>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th style=\"border:1px solid black;\" class=\"center-align\">\r\n                        <b>Ilmoittautuneita yhteensä</b>\r\n                      </th>\r\n                      <td style=\"border:1px solid black;\" class=\"center-align\">\r\n                        <b>{{ signees.length }}</b> venettä\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th style=\"border:1px solid black;\" class=\"center-align\">\r\n                        <b>Saalista saaneita</b>\r\n                      </th>\r\n                      <td\r\n                        style=\"border:1px solid black;\"\r\n                        class=\"center-align\"\r\n                        v-if=\"$store.getters.getPointSignees.length\"\r\n                      >\r\n                        <b\r\n                          >{{\r\n                            Math.round(\r\n                              ($store.getters.getPointSignees.length /\r\n                                competition.signees.length) *\r\n                                100 *\r\n                                100\r\n                            ) / 100\r\n                          }}% ({{ $store.getters.getPointSignees.length }} /\r\n                          {{ signees.length }})</b\r\n                        >\r\n                      </td>\r\n                      <td\r\n                        style=\"border:1px solid black;\"\r\n                        class=\"center-align\"\r\n                        v-else\r\n                      >\r\n                        <b>0% (0/0)</b>\r\n                      </td>\r\n                    </tr>\r\n                  </table>\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-else>\r\n            <v-col v-if=\"loading\">\r\n              <h2\r\n                v-bind:class=\"{\r\n                  'white--text': $store.getters.getTheme,\r\n                }\"\r\n              >\r\n                Päivitetään tuloksia tietokannasta...\r\n              </h2>\r\n              <ProgressBarQuery />\r\n            </v-col>\r\n            <v-col v-else>\r\n              <h2 class=\"error\">\r\n                Ei saatavilla kilpailun tietoja... (Connection timed out)\r\n              </h2>\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n        <!-- Normaalikilpailu -->\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'normal-competition'\"\r\n        >\r\n          <v-row>\r\n            <v-col\r\n              md=\"10\"\r\n              offset-md=\"1\"\r\n              style=\"padding-top:50px;padding-bottom:20px\"\r\n            >\r\n              <v-row>\r\n                <v-col md=\"4\" offset-md=\"4\">\r\n                  <v-select\r\n                    :dark=\"$store.getters.getTheme\"\r\n                    :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n                    label=\"Valitse näytettävät tulokset\"\r\n                    outlined\r\n                    :items=\"normal_options\"\r\n                    @input=\"switchNormalResults\"\r\n                    v-model=\"selected_normal\"\r\n                  />\r\n                </v-col>\r\n                <v-col\r\n                  v-if=\"\r\n                    normal_points.length ||\r\n                      (signees.length && selected_normal === 'Ilmoittautuneet')\r\n                  \"\r\n                  md=\"3\"\r\n                  offset-md=\"1\"\r\n                >\r\n                  <v-btn\r\n                    large\r\n                    tile\r\n                    color=\"green darken-4\"\r\n                    class=\"white--text\"\r\n                    :loading=\"loading\"\r\n                    @click=\"\r\n                      saveAsPDF(\r\n                        `Normaalikilpailun tulokset (${selected_normal})`,\r\n                        '#normal-table'\r\n                      )\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons left\">picture_as_pdf</i>Lataa pdf\r\n                  </v-btn>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row\r\n                class=\"row\"\r\n                v-if=\"\r\n                  normal_points.length ||\r\n                    (signees.length && selected_normal === 'Ilmoittautuneet')\r\n                \"\r\n              >\r\n                <v-col md=\"12\">\r\n                  <v-card :dark=\"$store.getters.getTheme\">\r\n                    <v-card-title>\r\n                      <p class=\"flow-text\">\r\n                        Normaalikilpailu ({{ selected_normal }})\r\n                      </p>\r\n                      <v-spacer></v-spacer>\r\n                      <v-text-field\r\n                        v-model=\"search\"\r\n                        append-icon=\"mdi-magnify\"\r\n                        label=\"Hae kilpailijaa\"\r\n                        single-line\r\n                        hide-details\r\n                      ></v-text-field>\r\n                    </v-card-title>\r\n                    <v-data-table\r\n                      :headers=\"headers\"\r\n                      :items=\"results\"\r\n                      :search=\"search\"\r\n                      :loading=\"loading\"\r\n                    >\r\n                      <template v-slot:[`item.placement`]=\"{ item }\">\r\n                        <v-chip\r\n                          :outlined=\"$store.getters.getTheme\"\r\n                          :color=\"getColor(item.placement)\"\r\n                          >{{ item.placement }}.</v-chip\r\n                        >\r\n                      </template>\r\n                      <template\r\n                        v-if=\"selected_normal === 'Ilmoittautuneet'\"\r\n                        v-slot:[`item.boat_number`]=\"{ item }\"\r\n                      >\r\n                        <v-chip>{{ item.boat_number }}</v-chip>\r\n                      </template>\r\n                      <template v-slot:[`item.total_points`]=\"{ item }\">\r\n                        <v-chip\r\n                          >{{ item.total_points.toLocaleString() }} p</v-chip\r\n                        >\r\n                      </template>\r\n                      <template v-slot:[`item.cup_points_total`]=\"{ item }\">\r\n                        <v-chip\r\n                          :color=\"getColorPoints(item.cup_points_total)\"\r\n                          >{{ item.cup_points_total }}</v-chip\r\n                        >\r\n                      </template>\r\n                    </v-data-table>\r\n                  </v-card>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-else>\r\n                <v-col v-if=\"!loading\">\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{\r\n                      'white--text': $store.getters.getTheme,\r\n                    }\"\r\n                  >\r\n                    Ei tuloksia, vielä...\r\n                  </p>\r\n                </v-col>\r\n                <v-col v-else>\r\n                  <h2\r\n                    v-bind:class=\"{\r\n                      'white--text': $store.getters.getTheme,\r\n                    }\"\r\n                  >\r\n                    Päivitetään tuloksia tietokannasta...\r\n                  </h2>\r\n                  <ProgressBarQuery />\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n\r\n        <!-- Tiimikilpailu -->\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'team-competition'\"\r\n          v-if=\"isTeamCompetition\"\r\n        >\r\n          <v-row v-if=\"team_results.length\">\r\n            <v-col style=\"padding-top:50px;\" md=\"3\" offset-md=\"8\">\r\n              <v-btn\r\n                large\r\n                tile\r\n                color=\"green darken-4\"\r\n                class=\"white--text\"\r\n                :loading=\"loading\"\r\n                @click=\"saveAsPDF(`Tiimikilpailun tulokset`, '#team-table')\"\r\n              >\r\n                <i class=\"material-icons left\">picture_as_pdf</i>Lataa pdf\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col\r\n              md=\"10\"\r\n              offset-md=\"1\"\r\n              style=\"padding-bottom:20px\"\r\n              v-if=\"team_results.length\"\r\n            >\r\n              <v-card :dark=\"$store.getters.getTheme\">\r\n                <v-card-title>\r\n                  <p class=\"flow-text\">Tiimikilpailu</p>\r\n                  <v-spacer></v-spacer>\r\n                  <v-switch\r\n                    v-model=\"$store.getters.getTheme\"\r\n                    class=\"black--text\"\r\n                    color=\"indigo darken-3\"\r\n                    append-icon=\"mdi-weather-night\"\r\n                    prepend-icon=\"mdi-weather-sunny\"\r\n                  ></v-switch>\r\n                  <v-spacer></v-spacer>\r\n                  <v-text-field\r\n                    v-model=\"search_team\"\r\n                    append-icon=\"mdi-magnify\"\r\n                    label=\"Hae kilpailijaa\"\r\n                    single-line\r\n                    hide-details\r\n                  ></v-text-field>\r\n                </v-card-title>\r\n                <v-data-table\r\n                  :headers=\"team_headers\"\r\n                  :items=\"team_results\"\r\n                  :search=\"search_team\"\r\n                  :loading=\"loading\"\r\n                >\r\n                  <template v-slot:[`item.placement`]=\"{ item }\">\r\n                    <v-chip\r\n                      :outlined=\"$store.getters.getTheme\"\r\n                      :color=\"getColor(item.placement)\"\r\n                      >{{ item.placement }}.</v-chip\r\n                    >\r\n                  </template>\r\n                  <template v-slot:[`item.points`]=\"{ item }\">\r\n                    <v-chip>{{ item.points.toLocaleString() }} p</v-chip>\r\n                  </template>\r\n                </v-data-table>\r\n              </v-card>\r\n            </v-col>\r\n            <v-col v-else>\r\n              <v-col v-if=\"!loading\"> </v-col>\r\n              <p\r\n                v-if=\"!loading\"\r\n                class=\"flow-text\"\r\n                v-bind:class=\"{\r\n                  'white--text': $store.getters.getTheme,\r\n                }\"\r\n              >\r\n                Ei tuloksia, vielä...\r\n              </p>\r\n              <v-col v-else>\r\n                <h2\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Päivitetään tuloksia tietokannasta...\r\n                </h2>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n\r\n        <!-- Suurimmat kalat -->\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'biggest-fishes'\"\r\n        >\r\n          <v-row style=\"padding-top:50px\">\r\n            <v-col md=\"3\" offset-md=\"4\">\r\n              <v-select\r\n                :dark=\"$store.getters.getTheme\"\r\n                :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n                label=\"Valitse näytettävät tulokset\"\r\n                outlined\r\n                @input=\"calculateBiggestFishes\"\r\n                v-model=\"selected_biggest_fish\"\r\n                :items=\"fish_names\"\r\n              />\r\n            </v-col>\r\n            <v-col md=\"3\" offset-md=\"1\" v-if=\"biggest_fishes_results.length\">\r\n              <v-btn\r\n                large\r\n                tile\r\n                color=\"green darken-4\"\r\n                class=\"white--text\"\r\n                :loading=\"loading\"\r\n                @click=\"\r\n                  saveAsPDF(\r\n                    `Suurimmat kalat (${selected_biggest_fish})`,\r\n                    '#biggest-fishes-table'\r\n                  )\r\n                \"\r\n              >\r\n                <i class=\"material-icons left\">picture_as_pdf</i>Lataa pdf\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-if=\"biggest_fishes_results.length\">\r\n            <v-col md=\"10\" offset-md=\"1\" style=\"margin-bottom:40px\">\r\n              <v-card :dark=\"$store.getters.getTheme\">\r\n                <v-card-title>\r\n                  <p v-if=\"results_found_fishes\" class=\"flow-text\">\r\n                    Suurimmat kalat ({{ selected_biggest_fish }}\r\n                    {{ results_found_fishes }})\r\n                  </p>\r\n                  <p v-else class=\"flow-text\">\r\n                    Suurimmat kalat ({{ selected_biggest_fish }})\r\n                  </p>\r\n                  <v-spacer></v-spacer>\r\n                  <v-text-field\r\n                    v-model=\"search_fishes\"\r\n                    append-icon=\"mdi-magnify\"\r\n                    label=\"Hae kilpailijaa\"\r\n                    single-line\r\n                    hide-details\r\n                  ></v-text-field>\r\n                </v-card-title>\r\n                <v-data-table\r\n                  :headers=\"biggest_fishes_headers\"\r\n                  :items=\"biggest_fishes_results\"\r\n                  :search=\"search_fishes\"\r\n                  :loading=\"loading\"\r\n                >\r\n                  <template v-slot:[`item.placement`]=\"{ item }\">\r\n                    <v-chip\r\n                      :outlined=\"$store.getters.getTheme\"\r\n                      :color=\"getColor(item.placement)\"\r\n                      >{{ item.placement }}.</v-chip\r\n                    >\r\n                  </template>\r\n                  <template v-slot:[`item.name`]=\"{ item }\">\r\n                    <v-chip>{{ item.name }}</v-chip>\r\n                  </template>\r\n                  <template v-slot:[`item.weight`]=\"{ item }\">\r\n                    <v-chip>{{ item.weight.toLocaleString() }} g</v-chip>\r\n                  </template>\r\n                </v-data-table>\r\n              </v-card>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-else>\r\n            <v-col v-if=\"!loading\">\r\n              <p\r\n                class=\"flow-text\"\r\n                v-bind:class=\"{\r\n                  'white--text': $store.getters.getTheme,\r\n                }\"\r\n              >\r\n                Ei tuloksia, vielä...\r\n              </p>\r\n            </v-col>\r\n            <v-col v-else>\r\n              <h2\r\n                v-bind:class=\"{\r\n                  'white--text': $store.getters.getTheme,\r\n                }\"\r\n              >\r\n                Päivitetään tuloksia tietokannasta...\r\n              </h2>\r\n              <ProgressBarQuery />\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n\r\n        <!-- Suurimmat kalasaaliit -->\r\n        <v-tab-item\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          :value=\"'biggest-fish-amounts'\"\r\n        >\r\n          <v-row style=\"padding-top:50px\">\r\n            <v-col md=\"3\" offset-md=\"4\">\r\n              <v-select\r\n                :dark=\"$store.getters.getTheme\"\r\n                :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n                label=\"Valitse näytettävät tulokset\"\r\n                outlined\r\n                @input=\"calculateBiggestAmounts\"\r\n                v-model=\"selected_biggest_amount\"\r\n                :items=\"fish_amount_names\"\r\n              />\r\n            </v-col>\r\n            <v-col md=\"3\" offset-md=\"1\" v-if=\"biggest_amounts_results.length\">\r\n              <v-btn\r\n                large\r\n                tile\r\n                color=\"green darken-4\"\r\n                class=\"white--text\"\r\n                :loading=\"loading\"\r\n                @click=\"\r\n                  saveAsPDF(\r\n                    `Suurimmat kalat (${selected_biggest_amount})`,\r\n                    '#biggest-amounts-table'\r\n                  )\r\n                \"\r\n                :disabled=\"!biggest_amounts_results.length\"\r\n              >\r\n                <i class=\"material-icons left\">picture_as_pdf</i>Lataa pdf\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-if=\"biggest_amounts_results.length\">\r\n            <v-col md=\"10\" offset-md=\"1\" style=\"margin-bottom:40px\">\r\n              <v-card :dark=\"$store.getters.getTheme\">\r\n                <v-card-title>\r\n                  <p v-if=\"results_found_amounts\" class=\"flow-text\">\r\n                    Suurimmat kalasaaliit ({{ selected_biggest_amount }}\r\n                    {{ results_found_amounts }})\r\n                  </p>\r\n                  <p v-else class=\"flow-text\">\r\n                    Suurimmat kalasaaliit ({{ selected_biggest_amount }})\r\n                  </p>\r\n                  <v-spacer></v-spacer>\r\n                  <v-switch\r\n                    v-model=\"$store.getters.getTheme\"\r\n                    class=\"black--text\"\r\n                    color=\"indigo darken-3\"\r\n                    append-icon=\"mdi-weather-night\"\r\n                    prepend-icon=\"mdi-weather-sunny\"\r\n                  ></v-switch>\r\n                  <v-spacer></v-spacer>\r\n                  <v-text-field\r\n                    v-model=\"search_amounts\"\r\n                    append-icon=\"mdi-magnify\"\r\n                    label=\"Hae kilpailijaa\"\r\n                    single-line\r\n                    hide-details\r\n                  ></v-text-field>\r\n                </v-card-title>\r\n                <v-data-table\r\n                  :headers=\"biggest_amounts_headers\"\r\n                  :items=\"biggest_amounts_results\"\r\n                  :search=\"search_amounts\"\r\n                  :loading=\"loading\"\r\n                >\r\n                  <template v-slot:[`item.placement`]=\"{ item }\">\r\n                    <v-chip\r\n                      :outlined=\"$store.getters.getTheme\"\r\n                      :color=\"getColor(item.placement)\"\r\n                      >{{ item.placement }}.</v-chip\r\n                    >\r\n                  </template>\r\n                  <template v-slot:[`item.name`]=\"{ item }\">\r\n                    <v-chip>{{ item.name }}</v-chip>\r\n                  </template>\r\n                  <template v-slot:[`item.weight`]=\"{ item }\">\r\n                    <v-chip>{{ item.weight.toLocaleString() }} g</v-chip>\r\n                  </template>\r\n                </v-data-table>\r\n              </v-card>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-else>\r\n            <v-col v-if=\"!loading\" md=\"8\" offset-md=\"2\">\r\n              <p\r\n                class=\"flow-text\"\r\n                v-bind:class=\"{\r\n                  'white--text': $store.getters.getTheme,\r\n                }\"\r\n              >\r\n                Ei tuloksia, vielä...\r\n              </p>\r\n            </v-col>\r\n            <v-col v-else md=\"8\" offset-md=\"2\">\r\n              <h2\r\n                v-bind:class=\"{\r\n                  'white--text': $store.getters.getTheme,\r\n                }\"\r\n              >\r\n                Päivitetään tuloksia tietokannasta...\r\n              </h2>\r\n              <ProgressBarQuery />\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n      <div v-if=\"competition\">\r\n        <v-row v-if=\"!loading\">\r\n          <v-col style=\"margin-top:20px\">\r\n            <v-btn\r\n              large\r\n              tile\r\n              :color=\"competition.isPublic ? 'grey darken-4' : 'green darken-4'\"\r\n              @click=\"publishCompetition(competition.isPublic)\"\r\n              class=\"white--text\"\r\n              :loading=\"updating\"\r\n            >\r\n              <div v-if=\"competition.isPublic\">\r\n                <v-icon>mdi-incognito</v-icon> Aseta kilpailu salaiseksi\r\n              </div>\r\n              <div v-else>\r\n                <v-icon color=\"green\">mdi-publish</v-icon> Aseta kilpailu\r\n                julkiseksi\r\n              </div>\r\n            </v-btn>\r\n          </v-col>\r\n          <v-col style=\"margin-top:20px\">\r\n            <v-btn\r\n              id=\"updatebtn\"\r\n              large\r\n              tile\r\n              color=\"blue darken-4\"\r\n              @click=\"refreshCompetition(competition._id)\"\r\n              class=\"white--text\"\r\n              :loading=\"updating\"\r\n            >\r\n              <i class=\"material-icons left\">update</i>Päivitä tulokset\r\n            </v-btn>\r\n          </v-col>\r\n          <v-col style=\"margin-top:20px\">\r\n            <v-btn\r\n              large\r\n              tile\r\n              :color=\"competition.isFinished ? 'yellow' : 'green darken-3'\"\r\n              @click=\"endCompetition(competition.isFinished)\"\r\n              :loading=\"updating\"\r\n            >\r\n              <div v-if=\"competition.isFinished\">\r\n                <v-icon color=\"red darken-2\">mdi-cancel</v-icon> Aseta kilpailu\r\n                keskeneräiseksi\r\n              </div>\r\n              <div v-else>\r\n                <v-icon color=\"yellow\">mdi-trophy</v-icon> Aseta kilpailu\r\n                päättyneeksi\r\n              </div>\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-else>\r\n          <v-col>\r\n            <h2\r\n              v-bind:class=\"{\r\n                'white--text': $store.getters.getTheme,\r\n              }\"\r\n            >\r\n              Päivitetään...\r\n            </h2>\r\n          </v-col>\r\n          <ProgressBarQuery />\r\n        </v-row>\r\n      </div>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n<script>\r\n\"use strict\";\r\nimport M from \"materialize-css\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport Chart from \"chart.js\";\r\nimport \"chartjs-plugin-labels\";\r\nimport Timedate from \"../components/layout/Timedate\";\r\nimport Header from \"../components/layout/Header\";\r\nimport ProgressBarQuery from \"../components/layout/ProgressBarQuery\";\r\n\r\nexport default {\r\n  name: \"Results\",\r\n  components: {\r\n    Timedate,\r\n    Header,\r\n    ProgressBarQuery,\r\n  },\r\n  data() {\r\n    return {\r\n      dialog_clock: false,\r\n      loading: false,\r\n      updating: false,\r\n      tab: null,\r\n      signees: [],\r\n      fish_names: [],\r\n      fish_amount_names: [],\r\n      table_fish_names: [],\r\n      results: [],\r\n      normal_points: [],\r\n      normal_weights: [],\r\n      team_results: [],\r\n      biggest_fishes: {},\r\n      biggest_fishes_results: [],\r\n      selected_biggest_fish: null,\r\n      biggest_amounts: {},\r\n      biggest_amounts_results: [],\r\n      selected_biggest_amount: null,\r\n      results_found_fishes: \"\",\r\n      results_found_amounts: \"\",\r\n      competition: null,\r\n      isTeamCompetition: true,\r\n      calculated_total_weights: null,\r\n      calculated_fish_weights: null,\r\n      selected_normal: null,\r\n      fishes_chart: null,\r\n      signees_chart: null,\r\n      timer_refresh: null,\r\n      interval: 60000,\r\n      normal_options: [\"Pisteet\", \"Kalat\", \"Ilmoittautuneet\"],\r\n      headers: [],\r\n      biggest_fishes_headers: [],\r\n      biggest_amounts_headers: [],\r\n      normal_headers: [\r\n        { text: \"Sijoitus\", value: \"placement\" },\r\n        { text: \"Kilp. numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Varakippari\", value: \"temp_captain_name\" },\r\n        { text: \"Paikkakunta\", value: \"locality\" },\r\n        { text: \"Tulos\", value: \"total_points\" },\r\n        { text: \"Cup sij. pisteet\", value: \"cup_placement_points\" },\r\n        { text: \"Cup osal. pisteet\", value: \"cup_participation_points\" },\r\n        { text: \"Yht.\", value: \"cup_points_total\" },\r\n      ],\r\n      signee_headers: [],\r\n      team_headers: [\r\n        { text: \"Sijoitus\", value: \"placement\" },\r\n        { text: \"Tiimi\", value: \"name\" },\r\n        { text: \"Jäsen 1\", value: \"captain_name_1\" },\r\n        { text: \"Jäsen 2\", value: \"captain_name_2\" },\r\n        { text: \"Jäsen 3\", value: \"captain_name_3\" },\r\n        { text: \"Pisteet\", value: \"points\" },\r\n      ],\r\n      winner_headers: [\r\n        { text: \"Kalalaji\", value: \"name\" },\r\n        { text: \"Kilp. numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Paino\", value: \"weight\" },\r\n      ],\r\n      biggest_headers: [\r\n        { text: \"Sijoitus\", value: \"placement\" },\r\n        { text: \"Kilp. numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Paino\", value: \"weight\" },\r\n      ],\r\n      search: \"\",\r\n      search_team: \"\",\r\n      search_fishes: \"\",\r\n      search_amounts: \"\",\r\n      selected_print: [],\r\n      dialog: false,\r\n      intervalSwitch: false,\r\n    };\r\n  },\r\n  watch: {\r\n    intervalSwitch(newValue) {\r\n      //called whenever switch1 changes\r\n      if (newValue) {\r\n        const competition = JSON.parse(localStorage.getItem(\"competition\"));\r\n        const competition_id = competition[\"id\"];\r\n        this.timer_refresh = setInterval(\r\n          () => this.refreshCompetition(competition_id),\r\n          this.interval\r\n        );\r\n        M.toast({ html: \"Automaattinen päivitys käytössä!\" });\r\n      } else {\r\n        clearInterval(this.timer_refresh);\r\n        M.toast({ html: \"Automaattinen päivitys pois käytöstä!\" });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    //Init materialize elements\r\n    M.AutoInit();\r\n    /* eslint-disable no-unused-vars */\r\n    this.checkLogin();\r\n    if (localStorage.getItem(\"competition\") != null) {\r\n      const competition = JSON.parse(localStorage.getItem(\"competition\"));\r\n      const competition_id = competition[\"id\"];\r\n      //Update competition every minute\r\n      this.refreshCompetition(competition_id);\r\n    }\r\n\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n  },\r\n  beforeDestroy() {\r\n    // Clear timer\r\n    clearInterval(this.timer_refresh);\r\n  },\r\n  methods: {\r\n    getColor(placement) {\r\n      if (placement > 30) return \"red\";\r\n      if (placement > 20) return \"orange\";\r\n      else if (placement > 5) return \"yellow\";\r\n      else return \"green\";\r\n    },\r\n    getColorPoints(points) {\r\n      if (points > 5) return \"primary darken-2\";\r\n      else return \"red\";\r\n    },\r\n    choosePrints: function() {\r\n      this.dialog = false;\r\n      this.saveAllAsPDF(this.tab);\r\n    },\r\n    // Fetch competition from database, and update all the arrays\r\n    async refreshCompetition(competition_id) {\r\n      this.loading = true;\r\n      this.fish_names = []; // Fish names, including \"Voittajat\"\r\n      this.fish_amount_names = [];\r\n      this.table_fish_names = []; // only fish names\r\n      this.signee_headers = [\r\n        { text: \"Kilp. numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Varakippari\", value: \"temp_captain_name\" },\r\n        { text: \"Paikkakunta\", value: \"locality\" },\r\n        { text: \"Lähtöpaikka\", value: \"starting_place\" },\r\n      ];\r\n      let placement = 1;\r\n      try {\r\n        // Query competition with id\r\n        let competition = await CompetitionService.getCompetitions({\r\n          _id: competition_id,\r\n        });\r\n        // If competition found\r\n        if (competition) {\r\n          // Pick first result (the array should only have one, since id's are unique)\r\n          this.competition = competition;\r\n          // Update to vuex, Assing variables and arrays from vuex (see client/store/index.js)\r\n          this.$store.commit(\"refreshCompetition\", this.competition);\r\n          this.isTeamCompetition = this.$store.getters.isTeamCompetition;\r\n          this.signees = this.$store.getters.getResultSignees;\r\n          this.selected_normal = \"Pisteet\";\r\n          this.normal_points = this.competition.normal_points;\r\n          this.normal_weights = this.competition.normal_weights;\r\n          if (this.isTeamCompetition) {\r\n            this.signee_headers.push({ text: \"Tiimi\", value: \"team\" });\r\n            this.team_results = this.competition.team_results;\r\n            let last_points = -1;\r\n            let last_placement = -1;\r\n            this.team_results.forEach((team) => {\r\n              if (last_points === team.points) {\r\n                team.placement = last_placement;\r\n              } else {\r\n                team.placement = last_placement = placement;\r\n                last_points = team.points;\r\n              }\r\n              placement++;\r\n            });\r\n          }\r\n          this.biggest_fishes = this.$store.getters.getBiggestFishes;\r\n          this.biggest_amounts = this.$store.getters.getBiggestAmounts;\r\n          this.calculated_total_weights = this.$store.getters.getCompetitionTotalWeights;\r\n          this.calculated_fish_weights = this.competition.fishes;\r\n\r\n          let temp_fish_names = this.$store.getters.getCompetitionFishes;\r\n          this.fish_names.push(\"Voittajat\");\r\n          this.fish_amount_names.push(\"Voittajat\");\r\n          temp_fish_names.forEach((fish) => {\r\n            this.fish_names.push(fish.name);\r\n            this.fish_amount_names.push(fish.name);\r\n            this.table_fish_names.push(fish.name);\r\n          });\r\n          this.calculateAll();\r\n          if (this.fishes_chart && this.signees_chart) {\r\n            this.fishes_chart.destroy();\r\n            this.signees_chart.destroy();\r\n          }\r\n          this.$nextTick(() => this.drawCharts(this.tab));\r\n\r\n          if (this.normal_points.length) {\r\n            this.results = this.normal_points;\r\n            this.headers = this.normal_headers;\r\n          } else {\r\n            this.results = this.$store.getters.getSignees;\r\n            this.headers = this.signee_headers;\r\n            this.selected_normal = \"Ilmoittautuneet\";\r\n          }\r\n\r\n          M.toast({ html: \"Tiedot ajantasalla!\" });\r\n        } else {\r\n          this.signees = [];\r\n          this.biggest_fishes = [];\r\n          this.biggest_amounts = [];\r\n          console.log(\"No competition found on database...\");\r\n        }\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n      this.loading = false;\r\n    },\r\n    async publishCompetition(isPublic) {\r\n      this.competition.isPublic = !isPublic;\r\n      const newvalues = {\r\n        $set: { isPublic: this.competition.isPublic },\r\n      };\r\n      this.updateToDatabase(this.competition, newvalues);\r\n    },\r\n    async endCompetition(isFinished) {\r\n      this.competition.isFinished = !isFinished;\r\n      this.competition.isFinished\r\n        ? (this.competition.state = \"Päättynyt\")\r\n        : (this.competition.state = \"Kesken\");\r\n\r\n      const newvalues = {\r\n        $set: { isFinished: this.competition.isFinished },\r\n      };\r\n      this.updateToDatabase(this.competition, newvalues);\r\n    },\r\n\r\n    async updateToDatabase(competition, newvalues) {\r\n      try {\r\n        this.$store.commit(\"refreshCompetition\", this.competition);\r\n        this.updating = true;\r\n        await CompetitionService.updateValues(this.competition._id, newvalues);\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n      this.updating = false;\r\n    },\r\n    // Parse data, define charts, draw them\r\n    drawCharts: function(tab) {\r\n      let current_tab = tab;\r\n      let temp_weights = [];\r\n      let colors = [];\r\n\r\n      // Get fish weights, and color from array for fishesChart\r\n      this.calculated_fish_weights.forEach((fish) => {\r\n        temp_weights.push(fish.weights);\r\n        colors.push(fish.color);\r\n      });\r\n\r\n      // Get data for signeesChart (total signees, and signees who have more than 0 points)\r\n      let signee_data = [];\r\n      let point_signees = this.$store.getters.getPointSignees.length;\r\n      let no_points_signees = this.signees.length - point_signees;\r\n      signee_data.push(point_signees);\r\n      signee_data.push(no_points_signees);\r\n\r\n      // Define fishesChart\r\n      const fishes_chart_data = {\r\n        type: \"doughnut\",\r\n        data: {\r\n          labels: this.table_fish_names, // Fish names\r\n          datasets: [\r\n            {\r\n              label: \"Paino (g)\",\r\n              backgroundColor: colors, // Colors\r\n              data: temp_weights, // Weights\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          maintainAspectRatio: true,\r\n          responsive: true,\r\n          plugins: {\r\n            labels: {\r\n              // convert grams to kilograms and add \"kg\" to end of the label\r\n              render: function(args) {\r\n                return (\r\n                  ((args.value / (1000 + Number.EPSILON)) * 100) / 100 + \" kg\"\r\n                );\r\n              },\r\n              // Other options\r\n              fontSize: 14,\r\n              fontStyle: \"bold\",\r\n              // draw text shadows under labels, default is false\r\n              textShadow: true,\r\n              position: \"border\",\r\n              textmargin: 1,\r\n              fontColor: \"#000\",\r\n              fontFamily: '\"Lucida Console\", Monaco, monospace',\r\n            },\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: \"Kaloja saatu yhteensä\",\r\n            fontSize: 28,\r\n            fontColor: this.$store.getters.getTheme ? \"white\" : \"black\",\r\n          },\r\n        },\r\n      };\r\n\r\n      // Define signeesChart\r\n      const signee_chart_data = {\r\n        type: \"pie\",\r\n        data: {\r\n          labels: [\"Kyllä\", \"Ei saalista\"],\r\n          datasets: [\r\n            {\r\n              label: \"Lukumäärä (kpl)\",\r\n              backgroundColor: [\"#7fbf7f\", \"#ff7f7f\"], // Green and red\r\n              data: signee_data, // Data\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          maintainAspectRatio: true,\r\n          responsive: true,\r\n          plugins: {\r\n            labels: {\r\n              render: \"percentage\",\r\n              fontSize: 26,\r\n              fontStyle: \"bold\",\r\n              fontColor: \"#000\",\r\n              fontFamily: '\"Lucida Console\", Monaco, monospace',\r\n              precision: 2,\r\n            },\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: \"Saalista saaneita\",\r\n            fontSize: 28,\r\n            fontColor: this.$store.getters.getTheme ? \"white\" : \"black\",\r\n          },\r\n        },\r\n      };\r\n      /* eslint-disable no-unused-vars */\r\n      // Draw the charts to canvas\r\n      let charts_drawn = true;\r\n      // If canvases not found, change tab and draw them, then change tab back\r\n      try {\r\n        var fishes_ctx = document\r\n          .getElementById(\"fishesChart\")\r\n          .getContext(\"2d\");\r\n        var signees_ctx = document\r\n          .getElementById(\"signeesChart\")\r\n          .getContext(\"2d\");\r\n      } catch (error) {\r\n        this.tab = \"stats\";\r\n        charts_drawn = false;\r\n        if (this.competition.normal_points.length) {\r\n          setTimeout(() => this.drawCharts(current_tab), 1000);\r\n          M.toast({ html: \"Piirretään kaaviot...\" });\r\n        } else {\r\n          M.toast({\r\n            html: \"Ei tuloksia vielä, joten ei voida piirtää kaavioita...\",\r\n          });\r\n        }\r\n      }\r\n\r\n      /* eslint-disable no-unused-vars */\r\n      if (charts_drawn) {\r\n        this.fishes_chart = new Chart(fishes_ctx, fishes_chart_data);\r\n        this.signees_chart = new Chart(signees_ctx, signee_chart_data);\r\n        this.tab = current_tab;\r\n        M.toast({\r\n          html: \"Kaaviot piirretty!\",\r\n        });\r\n      }\r\n    },\r\n    //Check if user is logged in has admin status, update values to vuex (Header.vue updates based on these values)\r\n    checkLogin: function() {\r\n      // If login token present --> user is logged in\r\n      if (localStorage.getItem(\"jwt\") != null) {\r\n        this.$store.state.logged_in = true;\r\n        let user = JSON.parse(localStorage.getItem(\"user\"));\r\n        this.$store.state.isDark = user.preferences.isDark;\r\n        this.$store.state.lang = user.preferences.lang;\r\n        // Check if user is admin\r\n        //TODO safer way to check this than use localstorage?\r\n        user.is_admin == true\r\n          ? (this.$store.state.is_admin = true)\r\n          : (this.$store.state.is_admin = false);\r\n      } else {\r\n        //Not logger in, so not admin either\r\n        this.$store.state.logged_in = false;\r\n        this.$store.state.is_admin = false;\r\n      }\r\n    },\r\n\r\n    // \"Wrapper\" to calculate all the results at once\r\n    async calculateAll() {\r\n      this.calculateBiggestFishes();\r\n      this.calculateBiggestAmounts();\r\n    },\r\n\r\n    // Switch table headers and columns based on this.selected_normal value (v-select)\r\n    switchNormalResults: function() {\r\n      // Prevent v-select having no value, would show error\r\n      if (!this.selected_normal) {\r\n        this.selected_normal = \"Pisteet\";\r\n      }\r\n      // If \"Pisteet\" selected in v-select, update headers and this.results (table data)\r\n      if (this.selected_normal === \"Pisteet\") {\r\n        this.headers = this.normal_headers;\r\n        this.results = this.normal_points;\r\n      }\r\n      // If \"Kalat\" selected in v-select, update headers and this.results (table data)\r\n      if (this.selected_normal === \"Kalat\") {\r\n        (this.headers = [\r\n          { text: \"Sijoitus\", value: \"placement\" },\r\n          { text: \"Kilp. numero\", value: \"boat_number\" },\r\n          { text: \"Kippari\", value: \"captain_name\" },\r\n        ]),\r\n          (this.results = this.normal_weights);\r\n        // Get fish names and add them to headers\r\n        this.table_fish_names.forEach((name) => {\r\n          this.headers.push({ text: name, value: name });\r\n        });\r\n        this.headers.push({ text: \"Tulos\", value: \"total_points\" });\r\n      }\r\n      if (this.selected_normal === \"Ilmoittautuneet\") {\r\n        this.headers = this.signee_headers;\r\n        this.results = this.$store.getters.getSignees;\r\n      }\r\n    },\r\n    // Sorts the dictionary based on weights\r\n    sortDict: function(fishes) {\r\n      if (fishes) {\r\n        let all_results = [];\r\n        let temp_results = [];\r\n        let placement = 1;\r\n        this.fish_names.forEach((name) => {\r\n          // If fish name is not \"Voittajat\"\r\n          if (name !== \"Voittajat\") {\r\n            // For every fish name, sort the array\r\n            if (fishes[name]) {\r\n              temp_results = fishes[name].sort(function compare(a, b) {\r\n                return parseInt(b.weight) - parseInt(a.weight);\r\n              });\r\n              fishes[name] = temp_results.filter((result) => result.weight > 0);\r\n              // Now it's sorted so first element is fine for \"voittajat\" table\r\n              if (fishes[name].length) {\r\n                all_results.push({\r\n                  name: name,\r\n                  boat_number: temp_results[0].boat_number,\r\n                  captain_name: temp_results[0].captain_name,\r\n                  weight: temp_results[0].weight.toLocaleString(),\r\n                });\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        return fishes, all_results;\r\n      } else {\r\n        return {}, [];\r\n      }\r\n    },\r\n    // Calculate \"Suurimmat Kalat\"\r\n    calculateBiggestFishes: function() {\r\n      let fishes = this.biggest_fishes;\r\n      let placement = 1;\r\n      this.results_found_fishes = null;\r\n\r\n      // Check v-select value, don't allow it to go null because it shows error\r\n      if (!this.selected_biggest_fish) {\r\n        this.selected_biggest_fish = \"Voittajat\";\r\n      }\r\n      if (this.selected_biggest_fish === \"Voittajat\") {\r\n        this.biggest_fishes_headers = this.winner_headers;\r\n        this.biggest_fishes,\r\n          (this.biggest_fishes_results = this.sortDict(fishes));\r\n      } else {\r\n        this.biggest_fishes_headers = this.biggest_headers;\r\n        // If v-select (this.selected_biggest_fish) not \"Voittajat\", get fish related results and sort them\r\n        // based on the v-select fish name\r\n        let fish_results = [];\r\n        if (fishes[this.selected_biggest_fish]) {\r\n          fish_results = fishes[this.selected_biggest_fish].sort(\r\n            function compare(a, b) {\r\n              return parseInt(b.weight) - parseInt(a.weight);\r\n            }\r\n          );\r\n          this.results_found_amounts = \"\";\r\n        } else {\r\n          this.results_found_fishes = \"- Ei tuloksia\";\r\n        }\r\n        let last_weight = -1;\r\n        let last_placement = -1;\r\n        this.biggest_fishes_results = fish_results;\r\n        this.biggest_fishes_results.forEach((result) => {\r\n          if (last_weight === result.weight) {\r\n            result.placement = last_placement;\r\n          } else {\r\n            result.placement = last_placement = placement;\r\n            last_weight = result.weight;\r\n          }\r\n          placement++;\r\n        });\r\n      }\r\n    },\r\n    // Calculate \"Suurimmat kalasaaliit\", works exactly like the calculateBiggestFishes\r\n    //TODO make these 2 to one function\r\n    calculateBiggestAmounts: function() {\r\n      let fishes = this.biggest_amounts;\r\n      let placement = 1;\r\n      this.results_found_amount = \"\";\r\n      if (!this.selected_biggest_amount) {\r\n        this.selected_biggest_amount = \"Voittajat\";\r\n      }\r\n      if (this.selected_biggest_amount === \"Voittajat\") {\r\n        this.biggest_amounts_headers = this.winner_headers;\r\n        this.biggest_amounts,\r\n          (this.biggest_amounts_results = this.sortDict(fishes));\r\n      } else {\r\n        this.biggest_amounts_headers = this.biggest_headers;\r\n        let fish_results = [];\r\n        if (fishes[this.selected_biggest_amount]) {\r\n          fish_results = fishes[this.selected_biggest_amount].sort(\r\n            function compare(a, b) {\r\n              return parseInt(b.weight) - parseInt(a.weight);\r\n            }\r\n          );\r\n          fish_results = fish_results.filter(\r\n            (result) => parseInt(result.weight) > 0\r\n          );\r\n          this.results_found_amounts = \"\";\r\n        } else {\r\n          this.results_found_amount = \"- Ei tuloksia\";\r\n        }\r\n        let last_weight = -1;\r\n        let last_placement = -1;\r\n        this.biggest_amounts_results = fish_results;\r\n        this.biggest_amounts_results.forEach((result) => {\r\n          if (last_weight === result.weight) {\r\n            result.placement = last_placement;\r\n          } else {\r\n            result.placement = last_placement = placement;\r\n            last_weight = result.weight;\r\n          }\r\n          placement++;\r\n        });\r\n      }\r\n    },\r\n    // For naming the pdf, replace certain characters\r\n    replaceAll: function(string, search, replace) {\r\n      return string.split(search).join(replace);\r\n    },\r\n    // Parses dictionary/json to array, for pdf autotables\r\n    dictToArray: function(dict, type) {\r\n      const temp_arr = Object.entries(dict);\r\n      const arr = [];\r\n      temp_arr.forEach((element) => {\r\n        let values = Object.values(element[1]);\r\n        // Normaalikilpailu, pisteet\r\n        if (type === 1) {\r\n          values[0] = String(values[0]) + \".\";\r\n          values[1] = \"(\" + String(values[1]) + \")\";\r\n          values[5] = values[5].toLocaleString() + \" p\";\r\n        }\r\n        // Normaalikilpailu, kalat\r\n        if (type === 2) {\r\n          values[0] = String(values[0]) + \".\";\r\n          values[1] = \"(\" + String(values[1]) + \")\";\r\n          for (let i of range(3, values.length - 2)) {\r\n            if (parseInt(values[i]) > 0) {\r\n              values[i] = values[i].toLocaleString() + \" g\";\r\n            } else {\r\n              values[i] = \"-\";\r\n            }\r\n          }\r\n          values[values.length - 1] =\r\n            values[values.length - 1].toLocaleString() + \" p\";\r\n        }\r\n        // Suurimmat kalat, suurimmat kalasaaliit\r\n        if (type === 3) {\r\n          let temp_placement = values[3];\r\n          let temp_bnumber = values[0];\r\n          let temp_captain = values[1];\r\n          let temp_points = values[2].toLocaleString() + \" g\";\r\n          values[0] = String(temp_placement) + \".\";\r\n          values[1] = \"(\" + String(temp_bnumber) + \")\";\r\n          values[2] = temp_captain;\r\n          values[3] = temp_points;\r\n        }\r\n        //Voittajat\r\n        if (type === 4) {\r\n          values[1] = \"(\" + String(values[1]) + \")\";\r\n          values[3] = values[values.length - 1].toLocaleString() + \" g\";\r\n        }\r\n        //Tiimikilpailu\r\n        if (type === 5) {\r\n          let place = values[5];\r\n          let team = values[0];\r\n          let captain_1 = values[1];\r\n          let captain_2 = values[2];\r\n          let captain_3 = values[3];\r\n          let points = values[4];\r\n          values[0] = String(place) + \".\";\r\n          values[1] = team;\r\n          values[2] = captain_1;\r\n          values[3] = captain_2;\r\n          values[4] = captain_3;\r\n          values[5] = points.toLocaleString() + \" p\";\r\n        }\r\n        //Normaalikilpailu, Ilmoittautuneet\r\n        if (type === 6) {\r\n          let b_number = values[1];\r\n          let captain = values[3];\r\n          let temp_captain = values[4];\r\n          let startin_place = values[2];\r\n          let locality = values[5];\r\n          let team = values[6];\r\n          values[0] = \"(\" + String(b_number) + \")\";\r\n          values[1] = captain;\r\n          values[2] = temp_captain;\r\n          values[3] = startin_place;\r\n          values[4] = locality;\r\n          values[5] = team;\r\n        }\r\n        arr.push(values);\r\n      });\r\n      return arr;\r\n    },\r\n    // Returns date in format dd/mm/yyyy as string\r\n    formatDate: function(start_date) {\r\n      start_date = this.$moment(start_date);\r\n      let formatted_date = `${start_date.date()}.${start_date.month() +\r\n        1}.${start_date.year()}`;\r\n\r\n      return formatted_date;\r\n    },\r\n    // Capitalize all the words in given string. Takes account all the characters like \"-\", \"'\" etc.\r\n    capitalize_words: function(str) {\r\n      return str.replace(\r\n        /(?:^|\\s|['`‘’.-])[^\\x60^\\x7B-\\xDF](?!(\\s|$))/g,\r\n        function(txt) {\r\n          return txt.toUpperCase();\r\n        }\r\n      );\r\n    },\r\n    // Convert the charts and the tables to pdf\r\n    saveAsPDF: function(competition_type, table_id) {\r\n      // Format dates for easier reding\r\n      let temp_start_date = this.formatDate(this.competition.start_date);\r\n      let temp_end_date = this.formatDate(this.competition.end_date);\r\n      let rows;\r\n      let columns;\r\n      let pdf_competition_type;\r\n      // PDF creation\r\n      let doc = new jsPDF();\r\n      // Title\r\n      const title = `${this.competition.name}`;\r\n      const date =\r\n        temp_start_date === temp_end_date\r\n          ? String(temp_start_date)\r\n          : `${temp_start_date} - ${temp_end_date}`;\r\n      const time = `${date}, Klo. ${this.competition.start_time} - ${this.competition.end_time}`;\r\n      doc.setFontSize(24);\r\n      doc.text(10, 10, title, { align: \"left\" });\r\n      doc.setFontSize(14);\r\n      doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n      doc.text(10, 30, time, { align: \"left\" });\r\n      doc.line(0, 35, 400, 35);\r\n      doc.setFontSize(20);\r\n\r\n      if (table_id === \"#normal-table\") {\r\n        pdf_competition_type = `Normaalikilpailu${this.selected_normal}`;\r\n        // Other tables are generated in code so no need to wait for rendering to html\r\n        if (this.selected_normal === \"Pisteet\") {\r\n          columns = [\r\n            \"Sijoitus\",\r\n            \"Nro.\",\r\n            \"Kippari\",\r\n            \"Varakippari\",\r\n            \"Paikkakunta\",\r\n            \"Tulos\",\r\n            \"Sij. pisteet\",\r\n            \"Osal. pisteet\",\r\n            \"Yht.\",\r\n          ];\r\n          // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n          rows = this.dictToArray(this.normal_points, 1);\r\n        }\r\n        if (this.selected_normal === \"Kalat\") {\r\n          columns = [\"Sijoitus\", \"Nro.\", \"Kippari\"];\r\n          // Get fish names for columns\r\n          this.table_fish_names.forEach((name) => {\r\n            columns.push(name);\r\n          });\r\n          columns.push(\"Tulos\");\r\n          // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n          rows = this.dictToArray(this.normal_weights, 2);\r\n        }\r\n        if (this.selected_normal === \"Ilmoittautuneet\") {\r\n          columns = [\r\n            \"Kilp. numero\",\r\n            \"Kippari\",\r\n            \"Varakippari\",\r\n            \"Paikkakunta\",\r\n            \"Lähtöpaikka\",\r\n          ];\r\n          if (this.isTeamCompetition) {\r\n            columns.push(\"Tiimi\");\r\n          }\r\n          // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n          rows = this.dictToArray(this.$store.getters.getSignees, 6);\r\n        }\r\n      }\r\n\r\n      if (table_id === \"#team-table\") {\r\n        pdf_competition_type = `Tiimikilpailu`;\r\n        // Other tables are generated in code so no need to wait for rendering to html\r\n        columns = [\r\n          \"Sijoitus\",\r\n          \"Tiimi\",\r\n          \"Jäsen 1\",\r\n          \"Jäsen 2\",\r\n          \"Jäsen 3\",\r\n          \"Pisteet\",\r\n        ];\r\n        // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n        rows = this.dictToArray(this.team_results, 5);\r\n      }\r\n\r\n      if (table_id === \"#biggest-fishes-table\") {\r\n        pdf_competition_type = `SuurimmatKalat${this.selected_biggest_fish}`;\r\n\r\n        if (this.selected_biggest_fish === \"Voittajat\") {\r\n          columns = [\"Kalalaji\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n          rows = this.dictToArray(this.biggest_fishes_results, 4);\r\n        } else {\r\n          columns = [\"Sijoitus\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n          rows = this.dictToArray(this.biggest_fishes_results, 3);\r\n        }\r\n      }\r\n\r\n      if (table_id === \"#biggest-amounts-table\") {\r\n        pdf_competition_type = `SuurimmatSaaliit${this.selected_biggest_amount}`;\r\n\r\n        if (this.selected_biggest_amount === \"Voittajat\") {\r\n          columns = [\"Kalalaji\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n          rows = this.dictToArray(this.biggest_amounts_results, 4);\r\n        } else {\r\n          columns = [\"Sijoitus\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n          rows = this.dictToArray(this.biggest_amounts_results, 3);\r\n        }\r\n      }\r\n\r\n      // Table, based on given table_id, and table title based on competition_type\r\n      doc.text(100, 50, competition_type, { align: \"center\" });\r\n      doc.autoTable({\r\n        head: [columns],\r\n        body: rows,\r\n        styles: {\r\n          overflow: \"linebreak\",\r\n          cellWidth: \"wrap\",\r\n          rowPageBreak: \"avoid\",\r\n          halign: \"justify\",\r\n          fontSize: \"8\",\r\n          lineColor: \"100\",\r\n          lineWidth: \".25\",\r\n        },\r\n        columnStyles: { text: { cellwidth: \"auto\" } },\r\n        theme: \"striped\",\r\n        pageBreak: \"auto\",\r\n        tableWidth: \"auto\",\r\n        startY: 55,\r\n        margin: { top: 20 },\r\n      });\r\n\r\n      // Save the pdf\r\n\r\n      doc.save(\r\n        `${this.$moment(this.competition.start_date).year()}_${this.replaceAll(\r\n          this.competition.name,\r\n          \" \",\r\n          \"\"\r\n        )}_${pdf_competition_type}.pdf`\r\n      );\r\n    },\r\n    saveStatsAsPDF: function(competition_type) {\r\n      // Format dates for easier reding\r\n      let temp_start_date = this.formatDate(this.competition.start_date);\r\n      let temp_end_date = this.formatDate(this.competition.end_date);\r\n\r\n      let doc = new jsPDF();\r\n\r\n      // Title\r\n      const title = `${this.competition.name}`;\r\n      const date =\r\n        temp_start_date === temp_end_date\r\n          ? String(temp_start_date)\r\n          : `${temp_start_date} - ${temp_end_date}`;\r\n      const time = `${date}, Klo. ${this.competition.start_time} - ${this.competition.end_time}`;\r\n      doc.setFontSize(24);\r\n      doc.text(10, 10, title, { align: \"left\" });\r\n      doc.setFontSize(14);\r\n      doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n      doc.text(10, 30, time, { align: \"left\" });\r\n      doc.line(0, 35, 400, 35);\r\n      doc.setFontSize(18);\r\n\r\n      // \"Tilastot\"\r\n      // Resize charts to be better looking on a pdf\r\n      this.onbeforeprint();\r\n      var fishesImg = document\r\n        .getElementById(\"fishesChart\")\r\n        .toDataURL(\"image/png\", 1.0);\r\n      var signeeImg = document\r\n        .getElementById(\"signeesChart\")\r\n        .toDataURL(\"image/png\", 1.0);\r\n      doc.addImage(fishesImg, \"PNG\", -30, 40, 180, 90);\r\n      doc.addImage(signeeImg, \"PNG\", 70, 40, 180, 90);\r\n      doc.text(100, 145, \"Kalalajien määritykset\", { align: \"center\" });\r\n      // Table straight from html\r\n      doc.autoTable({\r\n        html: \"#fish-weights-table\",\r\n        styles: {\r\n          overflow: \"linebreak\",\r\n          cellWidth: \"wrap\",\r\n          rowPageBreak: \"avoid\",\r\n          halign: \"justify\",\r\n          fontSize: \"8\",\r\n          lineColor: \"100\",\r\n          lineWidth: \".25\",\r\n        },\r\n        columnStyles: { text: { cellwidth: \"auto\" } },\r\n        theme: \"striped\",\r\n        pageBreak: \"auto\",\r\n        tableWidth: \"auto\",\r\n        startY: 150,\r\n        margin: { top: 20 },\r\n      });\r\n\r\n      doc.text(100, doc.autoTable.previous.finalY + 20, \"Yleisiä tilastoja\", {\r\n        align: \"center\",\r\n      });\r\n      doc.autoTable({\r\n        html: \"#misc-table\",\r\n        styles: {\r\n          overflow: \"linebreak\",\r\n          cellWidth: \"wrap\",\r\n          rowPageBreak: \"avoid\",\r\n          halign: \"justify\",\r\n          fontSize: \"8\",\r\n          lineColor: \"100\",\r\n          lineWidth: \".25\",\r\n        },\r\n        columnStyles: { text: { cellwidth: \"auto\" } },\r\n        theme: \"striped\",\r\n        pageBreak: \"auto\",\r\n        tableWidth: \"auto\",\r\n        margin: { top: 20 },\r\n        startY: doc.autoTable.previous.finalY + 25,\r\n      });\r\n\r\n      // Set charts to be responsive again\r\n      this.onafterprint();\r\n\r\n      // Save to pdf\r\n      doc.save(\r\n        `${this.$moment(this.competition.start_date).year()}_${this.replaceAll(\r\n          this.competition.name,\r\n          \" \",\r\n          \"\"\r\n        )}_${this.replaceAll(\r\n          this.capitalize_words(competition_type),\r\n          \" \",\r\n          \"\"\r\n        )}.pdf`\r\n      );\r\n    },\r\n    // Saves all the chosen tables to pdf\r\n    saveAllAsPDF: function(tab) {\r\n      let current_tab = tab;\r\n      let charts_loaded = true;\r\n      let temp_selected_biggest_fish = this.selected_biggest_fish;\r\n      let temp_selected_biggest_amount = this.selected_biggest_amount;\r\n      let temp_selected_normal = this.selected_normal;\r\n      // Format dates for easier reding\r\n      let temp_start_date = this.formatDate(this.competition.start_date);\r\n      let temp_end_date = this.formatDate(this.competition.end_date);\r\n      let year = this.$moment(this.competition.start_date).year();\r\n      let doc = new jsPDF();\r\n\r\n      // Title\r\n      const title = `${this.competition.name}`;\r\n      const date =\r\n        temp_start_date === temp_end_date\r\n          ? String(temp_start_date)\r\n          : `${temp_start_date} - ${temp_end_date}`;\r\n      const time = `${date}, Klo. ${this.competition.start_time} - ${this.competition.end_time}`;\r\n      doc.setFontSize(24);\r\n      doc.text(10, 10, title, { align: \"left\" });\r\n      doc.setFontSize(14);\r\n      doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n      doc.text(10, 30, time, { align: \"left\" });\r\n      doc.line(0, 35, 400, 35);\r\n      doc.setFontSize(18);\r\n\r\n      // start_coord needed to keep track of y coordinates for tables (if there are no results -> no table drawn to pdf -> varying coordinates)\r\n      let start_coord;\r\n      let rows;\r\n      let columns;\r\n      //Normaalikilpailu (Pisteet), saved to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"normal\")) {\r\n        // Other tables are generated in code so no need to wait for rendering to html\r\n        columns = [\r\n          \"Sijoitus\",\r\n          \"Nro.\",\r\n          \"Kippari\",\r\n          \"Varakippari\",\r\n          \"Paikkakunta\",\r\n          \"Tulos\",\r\n          \"Sij. pisteet\",\r\n          \"Osal. pisteet\",\r\n          \"Yht.\",\r\n        ];\r\n        // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n        rows = this.dictToArray(this.normal_points, 1);\r\n        doc.text(100, 50, \"Normaalikilpailun tulokset (Pisteet)\", {\r\n          align: \"center\",\r\n        });\r\n        // Table generated in code\r\n        doc.autoTable({\r\n          head: [columns],\r\n          body: rows,\r\n          styles: {\r\n            overflow: \"linebreak\",\r\n            cellWidth: \"wrap\",\r\n            rowPageBreak: \"avoid\",\r\n            halign: \"justify\",\r\n            fontSize: \"8\",\r\n            lineColor: \"100\",\r\n            lineWidth: \".25\",\r\n          },\r\n          columnStyles: { text: { cellwidth: \"auto\" } },\r\n          theme: \"striped\",\r\n          pageBreak: \"auto\",\r\n          tableWidth: \"auto\",\r\n          startY: 55,\r\n          margin: { top: 20 },\r\n        });\r\n\r\n        //Normaalikilpailu (Kalat)\r\n        doc.addPage();\r\n        columns = [\"Sijoitus\", \"Nro.\", \"Kippari\"];\r\n        // Get fish names for columns\r\n        this.table_fish_names.forEach((name) => {\r\n          columns.push(name);\r\n        });\r\n        columns.push(\"Tulos\");\r\n\r\n        rows = this.dictToArray(this.normal_weights, 2);\r\n        doc.text(100, 10, \"Normaalikilpailun tulokset (Kalat)\", {\r\n          align: \"center\",\r\n        });\r\n        // Table generated in code\r\n        doc.autoTable({\r\n          head: [columns],\r\n          body: rows,\r\n          styles: {\r\n            overflow: \"linebreak\",\r\n            cellWidth: \"wrap\",\r\n            rowPageBreak: \"avoid\",\r\n            halign: \"justify\",\r\n            fontSize: \"8\",\r\n            lineColor: \"100\",\r\n            lineWidth: \".25\",\r\n          },\r\n          columnStyles: { text: { cellwidth: \"auto\" } },\r\n          theme: \"striped\",\r\n          pageBreak: \"auto\",\r\n          tableWidth: \"auto\",\r\n          margin: { top: 20 },\r\n          startY: 20,\r\n        });\r\n      }\r\n\r\n      // Tiimikilpailu, drawn to pdf if it exists and , if it's inclued in this.selected_print array\r\n      if (this.isTeamCompetition && this.selected_print.includes(\"team\")) {\r\n        // If there is \"Normaalikilpailun tulokset\" selected also, start from new page\r\n        if (this.selected_print.includes(\"normal\")) {\r\n          doc.addPage();\r\n        }\r\n        doc.setFontSize(24);\r\n        doc.text(10, 10, title, { align: \"left\" });\r\n        doc.setFontSize(14);\r\n        doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n        doc.text(10, 30, time, { align: \"left\" });\r\n        doc.line(0, 35, 400, 35);\r\n        doc.setFontSize(18);\r\n        doc.text(100, 50, \"Tiimikilpailun tulokset\", { align: \"center\" });\r\n        // Add results, if there are any\r\n        if (this.team_results.length) {\r\n          // Other tables are generated in code so no need to wait for rendering to html\r\n          columns = [\r\n            \"Sijoitus\",\r\n            \"Tiimi\",\r\n            \"Jäsen 1\",\r\n            \"Jäsen 2\",\r\n            \"Jäsen 3\",\r\n            \"Pisteet\",\r\n          ];\r\n          // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n          rows = this.dictToArray(this.team_results, 5);\r\n          //TODO generate table in code instead of html, like the others\r\n          doc.autoTable({\r\n            head: [columns],\r\n            body: rows,\r\n            styles: {\r\n              overflow: \"linebreak\",\r\n              cellWidth: \"wrap\",\r\n              rowPageBreak: \"avoid\",\r\n              halign: \"justify\",\r\n              fontSize: \"8\",\r\n              lineColor: \"100\",\r\n              lineWidth: \".25\",\r\n            },\r\n            columnStyles: { text: { cellwidth: \"auto\" } },\r\n            theme: \"striped\",\r\n            pageBreak: \"auto\",\r\n            tableWidth: \"auto\",\r\n            margin: { top: 20 },\r\n            startY: 55,\r\n          });\r\n        }\r\n      }\r\n\r\n      //\"Suurimmat kalat\" to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"biggest_fishes\")) {\r\n        // If there is content before, start from new page\r\n        if (\r\n          this.selected_print.includes(\"normal\") ||\r\n          this.selected_print.includes(\"team\")\r\n        ) {\r\n          doc.addPage();\r\n        }\r\n        let counter = 0;\r\n        // For each fish, generate tables for \"Suurimmat Kalat (Kala)\" and \"Suurimmat Kalasaaliit (Kala)\"\r\n        this.table_fish_names.forEach((name) => {\r\n          // Same process as above, but for every fish instead of only winners\r\n          this.selected_biggest_fish = name;\r\n          this.calculateBiggestFishes();\r\n          start_coord = 10;\r\n\r\n          if (this.biggest_fishes_results.length) {\r\n            // So it doesn't add unnecessary page on the first loop\r\n            if (counter > 0) {\r\n              doc.addPage();\r\n            }\r\n            doc.setFontSize(24);\r\n            doc.text(10, 10, title, { align: \"left\" });\r\n            doc.setFontSize(14);\r\n            doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n            doc.text(10, 30, time, { align: \"left\" });\r\n            doc.line(0, 35, 400, 35);\r\n            doc.setFontSize(18);\r\n            start_coord = 50;\r\n\r\n            columns = [\"Sijoitus\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n            rows = this.dictToArray(this.biggest_fishes_results, 3);\r\n\r\n            doc.text(100, start_coord, \"Suurimmat kalat\" + ` (${name})`, {\r\n              align: \"center\",\r\n            });\r\n\r\n            doc.autoTable({\r\n              head: [columns],\r\n              body: rows,\r\n              styles: {\r\n                overflow: \"linebreak\",\r\n                cellWidth: \"wrap\",\r\n                rowPageBreak: \"avoid\",\r\n                halign: \"justify\",\r\n                fontSize: \"8\",\r\n                lineColor: \"100\",\r\n                lineWidth: \".25\",\r\n              },\r\n              columnStyles: { text: { cellwidth: \"auto\" } },\r\n              theme: \"striped\",\r\n              pageBreak: \"auto\",\r\n              tableWidth: \"auto\",\r\n              margin: { top: 20 },\r\n              startY: start_coord + 5,\r\n            });\r\n            counter++;\r\n          }\r\n        });\r\n      }\r\n\r\n      // Suurimmat kalasaaliit to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"biggest_amounts\")) {\r\n        // If there is content before, start from new page\r\n        if (\r\n          this.selected_print.includes(\"normal\") ||\r\n          this.selected_print.includes(\"team\") ||\r\n          this.selected_print.includes(\"biggest_fishes\")\r\n        ) {\r\n          doc.addPage();\r\n        }\r\n        let counter = 0;\r\n        columns = [\"Sijoitus\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n        this.table_fish_names.forEach((name) => {\r\n          this.selected_biggest_amount = name;\r\n          this.calculateBiggestAmounts();\r\n          start_coord = 10;\r\n\r\n          if (this.biggest_amounts[name].length) {\r\n            // So it doesn't add unnecessary page on the first loop\r\n            if (counter > 0) {\r\n              doc.addPage();\r\n            }\r\n            doc.setFontSize(24);\r\n            doc.text(10, 10, title, { align: \"left\" });\r\n            doc.setFontSize(14);\r\n            doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n            doc.text(10, 30, time, { align: \"left\" });\r\n            doc.line(0, 35, 400, 35);\r\n            doc.setFontSize(18);\r\n            start_coord = 50;\r\n\r\n            rows = this.dictToArray(this.biggest_amounts[name], 3);\r\n            doc.text(100, start_coord, \"Suurimmat kalasaaliit\" + ` (${name})`, {\r\n              align: \"center\",\r\n            });\r\n\r\n            doc.autoTable({\r\n              head: [columns],\r\n              body: rows,\r\n              styles: {\r\n                overflow: \"linebreak\",\r\n                cellWidth: \"wrap\",\r\n                rowPageBreak: \"avoid\",\r\n                halign: \"justify\",\r\n                fontSize: \"8\",\r\n                lineColor: \"100\",\r\n                lineWidth: \".25\",\r\n              },\r\n              columnStyles: { text: { cellwidth: \"auto\" } },\r\n              theme: \"striped\",\r\n              pageBreak: \"auto\",\r\n              tableWidth: \"auto\",\r\n              startY: start_coord + 5,\r\n            });\r\n            counter++;\r\n          }\r\n        });\r\n      }\r\n\r\n      // \"Suurimmat Kalat (Voittajat) / Suurimmat kalasaaliit (Voittajat)\"\" to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"biggest_winners\")) {\r\n        // If there is content before, start from new page\r\n        if (\r\n          this.selected_print.includes(\"normal\") ||\r\n          this.selected_print.includes(\"team\") ||\r\n          this.selected_print.includes(\"biggest_fishes\") ||\r\n          this.selected_print.includes(\"biggest_amounts\")\r\n        ) {\r\n          doc.addPage();\r\n        }\r\n        // Suurimmat Kalat  (Voittajat)\r\n        // Select these for calculations\r\n        this.selected_biggest_fish = this.selected_biggest_amount = \"Voittajat\";\r\n        columns = [\"Kalalaji\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n        // Calculate data\r\n        this.calculateBiggestFishes();\r\n        this.calculateBiggestAmounts();\r\n        // If there are any results, add title\r\n        if (\r\n          this.biggest_fishes_results.length ||\r\n          this.biggest_amounts_results.length\r\n        ) {\r\n          doc.setFontSize(24);\r\n          doc.text(10, 10, title, { align: \"left\" });\r\n          doc.setFontSize(14);\r\n          doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n          doc.text(10, 30, time, { align: \"left\" });\r\n          doc.line(0, 35, 400, 35);\r\n          doc.setFontSize(18);\r\n        }\r\n\r\n        // If there are biggest fishes\r\n        if (this.biggest_fishes_results.length) {\r\n          rows = this.dictToArray(this.biggest_fishes_results, 4);\r\n          doc.text(\r\n            100,\r\n            50,\r\n            \"Suurimmat kalat\" + ` (${this.selected_biggest_fish})`,\r\n            { align: \"center\" }\r\n          );\r\n          // Table generated in code\r\n          doc.autoTable({\r\n            head: [columns],\r\n            body: rows,\r\n            styles: {\r\n              overflow: \"linebreak\",\r\n              cellWidth: \"wrap\",\r\n              rowPageBreak: \"avoid\",\r\n              halign: \"justify\",\r\n              fontSize: \"8\",\r\n              lineColor: \"100\",\r\n              lineWidth: \".25\",\r\n            },\r\n            columnStyles: { text: { cellwidth: \"auto\" } },\r\n            theme: \"striped\",\r\n            pageBreak: \"auto\",\r\n            tableWidth: \"auto\",\r\n            margin: { top: 20 },\r\n            startY: 55,\r\n          });\r\n          // Keep track of y coordinate\r\n          start_coord = doc.autoTable.previous.finalY + 25;\r\n        } else {\r\n          // If no biggest fishes, biggest amounts table starts from 50 instead\r\n          start_coord = 50;\r\n        }\r\n\r\n        //Suurimmat kalasaaliit (Voittajat)\r\n        // If there are any amounts --> if someone has gotten any fish\r\n        if (this.biggest_amounts_results.length) {\r\n          rows = this.dictToArray(this.biggest_amounts_results, 4);\r\n          doc.text(\r\n            100,\r\n            start_coord,\r\n            \"Suurimmat kalasaaliit\" + ` (${this.selected_biggest_fish})`,\r\n            { align: \"center\" }\r\n          );\r\n          // Table generated in code\r\n          doc.autoTable({\r\n            head: [columns],\r\n            body: rows,\r\n            styles: {\r\n              overflow: \"linebreak\",\r\n              cellWidth: \"wrap\",\r\n              rowPageBreak: \"avoid\",\r\n              halign: \"justify\",\r\n              fontSize: \"8\",\r\n              lineColor: \"100\",\r\n              lineWidth: \".25\",\r\n            },\r\n            columnStyles: { text: { cellwidth: \"auto\" } },\r\n            theme: \"striped\",\r\n            pageBreak: \"auto\",\r\n            tableWidth: \"auto\",\r\n            margin: { top: 20 },\r\n            startY: start_coord + 5,\r\n          });\r\n        }\r\n      }\r\n      // \"Tilastoja\" to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"stats\")) {\r\n        // If there is content before, start from new page\r\n        if (\r\n          this.selected_print.includes(\"normal\") ||\r\n          this.selected_print.includes(\"team\") ||\r\n          this.selected_print.includes(\"biggest_fishes\") ||\r\n          this.selected_print.includes(\"biggest_amounts\") ||\r\n          this.selected_print.includes(\"biggest_winners\")\r\n        ) {\r\n          doc.addPage();\r\n        }\r\n        doc.setFontSize(24);\r\n        doc.text(10, 10, title, { align: \"left\" });\r\n        doc.setFontSize(14);\r\n        doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n        doc.text(10, 30, time, { align: \"left\" });\r\n        doc.line(0, 35, 400, 35);\r\n        doc.setFontSize(18);\r\n        // \"Tilastot\"\r\n        // Resize charts to be better looking on a pdf\r\n        this.onbeforeprint();\r\n        var fishesImg = document\r\n          .getElementById(\"fishesChart\")\r\n          .toDataURL(\"image/png\", 1.0);\r\n        var signeeImg = document\r\n          .getElementById(\"signeesChart\")\r\n          .toDataURL(\"image/png\", 1.0);\r\n\r\n        try {\r\n          doc.addImage(fishesImg, \"PNG\", -30, 40, 180, 90);\r\n          doc.addImage(signeeImg, \"PNG\", 70, 40, 180, 90);\r\n        } catch (err) {\r\n          charts_loaded = false;\r\n          this.tab = \"stats\";\r\n          // Try again after 1 sec\r\n          setTimeout(() => this.saveAllAsPDF(current_tab), 1000);\r\n        }\r\n\r\n        doc.text(100, 165, \"Kalalajien määritykset\", { align: \"center\" });\r\n        // Table generated straight from html\r\n        doc.autoTable({\r\n          html: \"#fish-weights-table\",\r\n          styles: {\r\n            overflow: \"linebreak\",\r\n            cellWidth: \"wrap\",\r\n            rowPageBreak: \"avoid\",\r\n            halign: \"justify\",\r\n            fontSize: \"8\",\r\n            lineColor: \"100\",\r\n            lineWidth: \".25\",\r\n          },\r\n          columnStyles: { text: { cellwidth: \"auto\" } },\r\n          theme: \"striped\",\r\n          pageBreak: \"auto\",\r\n          tableWidth: \"auto\",\r\n          startY: 170,\r\n          margin: { top: 20 },\r\n        });\r\n\r\n        doc.text(100, doc.autoTable.previous.finalY + 20, \"Yleisiä tilastoja\", {\r\n          align: \"center\",\r\n        });\r\n        // Table generated straight from html\r\n        doc.autoTable({\r\n          html: \"#misc-table\",\r\n          styles: {\r\n            overflow: \"linebreak\",\r\n            cellWidth: \"wrap\",\r\n            rowPageBreak: \"avoid\",\r\n            halign: \"justify\",\r\n            fontSize: \"8\",\r\n            lineColor: \"100\",\r\n            lineWidth: \".25\",\r\n          },\r\n          columnStyles: { text: { cellwidth: \"auto\" } },\r\n          theme: \"striped\",\r\n          pageBreak: \"auto\",\r\n          tableWidth: \"auto\",\r\n          margin: { top: 20 },\r\n          startY: doc.autoTable.previous.finalY + 25,\r\n        });\r\n        // Set charts to be responsive again\r\n        this.onafterprint();\r\n      }\r\n\r\n      // Reset variables\r\n      this.selected_biggest_fish = temp_selected_biggest_fish;\r\n      this.selected_biggest_amount = temp_selected_biggest_amount;\r\n      this.selected_normal = temp_selected_normal;\r\n      this.calculateBiggestFishes();\r\n      this.calculateBiggestAmounts();\r\n\r\n      // Save to pdf\r\n      if (charts_loaded) {\r\n        this.tab = current_tab;\r\n        doc.save(\r\n          `${year}_${this.replaceAll(\r\n            this.competition.name,\r\n            \" \",\r\n            \"\"\r\n          )}Tulokset.pdf`\r\n        );\r\n      } else {\r\n        M.toast({ html: \"Kaaviot ei ruudulla, yritetään uudelleen...\" });\r\n      }\r\n    },\r\n    //Fix chartjs printing:\r\n    onbeforeprint: function() {\r\n      const Chart = require(\"chart.js\");\r\n      for (var id in Chart.instances) {\r\n        let chart = Chart.instances[id];\r\n        // Resize charts to fit pdf nicely\r\n        chart.canvas.parentNode.style.height = \"1000px\";\r\n        chart.canvas.parentNode.style.width = \"2000px\";\r\n        chart.resize();\r\n      }\r\n    },\r\n    onafterprint: function() {\r\n      const Chart = require(\"chart.js\");\r\n      for (var id in Chart.instances) {\r\n        let chart = Chart.instances[id];\r\n        // Resize charts back to original width\r\n        chart.canvas.parentNode.style.height = \"30vh\";\r\n        chart.canvas.parentNode.style.width = \"60vh\";\r\n        chart.resize();\r\n      }\r\n    },\r\n  },\r\n};\r\n\r\n// Custom range function for for loop, with recursion which is more efficient\r\nfunction* range(start, end) {\r\n  yield start;\r\n  if (start === end) return;\r\n  yield* range(start + 1, end);\r\n}\r\n</script>\r\n<style scoped></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Results.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Results.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Results.vue?vue&type=template&id=3c6ae57a&scoped=true&\"\nimport script from \"./Results.vue?vue&type=script&lang=js&\"\nexport * from \"./Results.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c6ae57a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VChip,VCol,VContainer,VDataTable,VDialog,VDivider,VIcon,VRow,VSelect,VSpacer,VSwitch,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField})\n"],"sourceRoot":""}