(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about~12045fb6"],{e0b1:function(t,e,i){"use strict";i("99af"),i("4de4"),i("4160"),i("caad"),i("a15b"),i("b0c0"),i("a9e3"),i("35b3"),i("4fad"),i("07ac"),i("ac1f"),i("2532"),i("3ca3"),i("5319"),i("1276"),i("159b"),i("ddb0"),i("96cf");var a=i("b85c"),s=i("e511"),n=i.n(s),o=(i("0da4"),i("4d5c")),l=i.n(o),r=regeneratorRuntime.mark(b);function c(t,e){var i=Object.entries(t),s=[];return i.forEach((function(t){var i=Object.values(t[1]);if(1===e&&(i[0]=String(i[0])+".",i[1]="("+String(i[1])+")",i[5]=i[5].toLocaleString()+" p"),2===e){i[0]=String(i[0])+".",i[1]="("+String(i[1])+")";var n,o=Object(a["a"])(b(3,i.length-2));try{for(o.s();!(n=o.n()).done;){var l=n.value;parseInt(i[l])>0?i[l]=i[l].toLocaleString()+" g":i[l]="-"}}catch(B){o.e(B)}finally{o.f()}i[i.length-1]=i[i.length-1].toLocaleString()+" p"}if(3===e){var r=i[3],c=i[0],h=i[1],u=i[2].toLocaleString()+" g";i[0]=String(r)+".",i[1]="("+String(c)+")",i[2]=h,i[3]=u}if(4===e&&(i[1]="("+String(i[1])+")",i[3]=i[i.length-1].toLocaleString()+" g"),5===e){var g=i[5],d=i[0],p=i[1],m=i[2],f=i[3],_=i[4];i[0]=String(g)+".",i[1]=d,i[2]=p,i[3]=m,i[4]=f,i[5]=_.toLocaleString()+" p"}if(6===e){var S=i[1],y=i[3],k=i[4],w=i[2],v=i[5],x=i[6];i[0]="("+String(S)+")",i[1]=y,i[2]=k,i[3]=w,i[4]=v,i[5]=x}if(7===e){var P=i[0],T=i[1],j=i[2],z=i[3];i[0]=P,i[1]="x "+String(T),i[2]=j+" cm",i[3]=String(Math.round(100*(z/1e3+Number.EPSILON))/100)+" kg"}s.push(i)})),s}function h(t){return t.replace(/(?:^|\s|['`‘’.-])[^\x60^\x7B-\xDF](?!(\s|$))/g,(function(t){return t.toUpperCase()}))}function u(t,e,i){return t.split(e).join(i)}function g(t){t=this.$moment(t);var e="".concat(t.date(),".").concat(t.month()+1,".").concat(t.year());return e}function d(t,e){this.onbeforeprint();var i,a,s,o=this.formatDate(this.competition.start_date),l=this.formatDate(this.competition.end_date),r=new n.a,c="".concat(this.competition.name),h=o===l?String(o):"".concat(o," - ").concat(l),u="".concat(h,", Klo. ").concat(this.competition.start_time," - ").concat(this.competition.end_time);r.setFontSize(24),r.text(10,10,c,{align:"left"}),r.setFontSize(14),r.text(10,20,this.competition.cup_name,{align:"left"}),r.text(10,30,u,{align:"left"}),r.line(0,35,400,35),r.setFontSize(20),"#normal-table"===e&&(s="Normaalikilpailu".concat(this.selected_normal),"Pisteet"===this.selected_normal&&(a=["Sijoitus","Nro.","Kippari","Varakippari","Paikkakunta","Tulos","Sij. pisteet","Osal. pisteet","Yht."],i=this.dictToArray(this.normal_points,1)),"Kalat"===this.selected_normal&&(a=["Sijoitus","Nro.","Kippari"],this.table_fish_names.forEach((function(t){a.push(t)})),a.push("Tulos"),i=this.dictToArray(this.normal_weights,2)),"Ilmoittautuneet"===this.selected_normal&&(a=["Kilp. numero","Kippari","Varakippari","Paikkakunta","Lähtöpaikka"],this.isTeamCompetition&&a.push("Tiimi"),i=this.dictToArray(this.$store.getters.getSignees,6))),"#team-table"===e&&(s="Tiimikilpailu",a=["Sijoitus","Tiimi","Jäsen 1","Jäsen 2","Jäsen 3","Pisteet"],i=this.dictToArray(this.team_results,5)),"#biggest-fishes-table"===e&&(s="SuurimmatKalat".concat(this.selected_biggest_fish),"Voittajat"===this.selected_biggest_fish?(a=["Kalalaji","Veneen nro","Kippari","Paino"],i=this.dictToArray(this.biggest_fishes_results,4)):(a=["Sijoitus","Veneen nro","Kippari","Paino"],i=this.dictToArray(this.biggest_fishes_results,3))),"#biggest-amounts-table"===e&&(s="SuurimmatSaaliit".concat(this.selected_biggest_amount),"Voittajat"===this.selected_biggest_amount?(a=["Kalalaji","Veneen nro","Kippari","Paino"],i=this.dictToArray(this.biggest_amounts_results,4)):(a=["Sijoitus","Veneen nro","Kippari","Paino"],i=this.dictToArray(this.biggest_amounts_results,3))),r.text(100,50,t,{align:"center"}),r.autoTable({head:[a],body:i,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",startY:55,margin:{top:20}}),r.save("".concat(this.$moment(this.competition.start_date).year(),"_").concat(this.replaceAll(this.competition.name," ",""),"_").concat(s,".pdf")),this.onafterprint()}function p(t){this.onbeforeprint();var e=this.formatDate(this.competition.start_date),i=this.formatDate(this.competition.end_date),a=new n.a,s="".concat(this.competition.name),o=e===i?String(e):"".concat(e," - ").concat(i),l="".concat(o,", Klo. ").concat(this.competition.start_time," - ").concat(this.competition.end_time);a.setFontSize(24),a.text(10,10,s,{align:"left"}),a.setFontSize(14),a.text(10,20,this.competition.cup_name,{align:"left"}),a.text(10,30,l,{align:"left"}),a.line(0,35,400,35),a.setFontSize(18);var r=document.getElementById("fishes_chart").toDataURL("image/png",1),c=document.getElementById("signee_chart").toDataURL("image/png",1);a.addImage(r,"PNG",-30,40,180,90),a.addImage(c,"PNG",70,40,180,90),a.text(100,145,"Kalalajien määritykset",{align:"center"});var h=this.dictToArray(this.calculated_fish_weights,7),u=Math.round(100*(this.calculated_total_weights/1e3+Number.EPSILON))/100,g=u.toLocaleString()+" kg";h.push(["Yhteensä","","",g]);var d=["Kalalaji","Kerroin","Alamitta","Saalista saatu"];a.autoTable({head:[d],body:h,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",startY:150,margin:{top:20}}),a.text(100,a.autoTable.previous.finalY+20,"Yleisiä tilastoja",{align:"center"}),d=["",""],h=[["Cup pistekerroin","x ".concat(this.competition.cup_points_multiplier)],["Ilmoittautuneita yhteensä","".concat(this.signees.length," kpl")],["Saalista saaneita","".concat(Math.round(this.$store.getters.getPointSignees.length/this.competition.signees.length*100*100)/100," % (").concat(this.$store.getters.getPointSignees.length,"/").concat(this.signees.length,")")]],a.autoTable({head:[d],body:h,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",margin:{top:20},startY:a.autoTable.previous.finalY+25}),a.save("".concat(this.$moment(this.competition.start_date).year(),"_").concat(this.replaceAll(this.competition.name," ",""),"_").concat(this.replaceAll(this.capitalize_words(t)," ",""),".pdf")),this.onafterprint()}function m(t){var e=this;this.onbeforeprint();var i,a,s,o=t,r=!0,c=this.selected_biggest_fish,h=this.selected_biggest_amount,u=this.selected_normal,g=this.formatDate(this.competition.start_date),d=this.formatDate(this.competition.end_date),p=this.$moment(this.competition.start_date).year(),m=new n.a,f="".concat(this.competition.name),_=g===d?String(g):"".concat(g," - ").concat(d),b="".concat(_,", Klo. ").concat(this.competition.start_time," - ").concat(this.competition.end_time);if(m.setFontSize(24),m.text(10,10,f,{align:"left"}),m.setFontSize(14),m.text(10,20,this.competition.cup_name,{align:"left"}),m.text(10,30,b,{align:"left"}),m.line(0,35,400,35),m.setFontSize(18),this.selected_print.includes("normal")&&(s=["Sijoitus","Nro.","Kippari"],this.table_fish_names.forEach((function(t){s.push(t)})),s.push("Tulos"),a=this.dictToArray(this.normal_weights,2),m.text(100,50,"Normaalikilpailun tulokset (Kalat)",{align:"center"}),m.autoTable({head:[s],body:a,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",margin:{top:20},startY:60}),m.addPage(),s=["Sijoitus","Nro.","Kippari","Varakippari","Paikkakunta","Tulos","Sij. pisteet","Osal. pisteet","Yht."],a=this.dictToArray(this.normal_points,1),m.text(100,10,"Normaalikilpailun tulokset (Pisteet)",{align:"center"}),m.autoTable({head:[s],body:a,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",startY:20,margin:{top:20}})),this.isTeamCompetition&&this.selected_print.includes("team")&&(this.selected_print.includes("normal")&&m.addPage(),m.setFontSize(24),m.text(10,10,f,{align:"left"}),m.setFontSize(14),m.text(10,20,this.competition.cup_name,{align:"left"}),m.text(10,30,b,{align:"left"}),m.line(0,35,400,35),m.setFontSize(18),m.text(100,50,"Tiimikilpailun tulokset",{align:"center"}),this.team_results.length&&(s=["Sijoitus","Tiimi","Jäsen 1","Jäsen 2","Jäsen 3","Pisteet"],a=this.dictToArray(this.normal_points,1),m.autoTable({head:[s],body:a,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",margin:{top:20},startY:55}))),this.selected_print.includes("biggest_fishes")){(this.selected_print.includes("normal")||this.selected_print.includes("team"))&&m.addPage();var S=0;this.table_fish_names.forEach((function(t){e.selected_biggest_fish=t,e.calculateBiggestFishes(),i=10,e.biggest_fishes_results.length&&(S>0&&m.addPage(),m.setFontSize(24),m.text(10,10,f,{align:"left"}),m.setFontSize(14),m.text(10,20,e.competition.cup_name,{align:"left"}),m.text(10,30,b,{align:"left"}),m.line(0,35,400,35),m.setFontSize(18),i=50,s=["Sijoitus","Veneen nro","Kippari","Paino"],a=e.dictToArray(e.biggest_fishes_results,3),m.text(100,i,"Suurimmat kalat"+" (".concat(t,")"),{align:"center"}),m.autoTable({head:[s],body:a,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",margin:{top:20},startY:i+5}),S++)}))}if(this.selected_print.includes("biggest_amounts")){(this.selected_print.includes("normal")||this.selected_print.includes("team")||this.selected_print.includes("biggest_fishes"))&&m.addPage();var y=0;s=["Sijoitus","Veneen nro","Kippari","Paino"],this.table_fish_names.forEach((function(t){e.selected_biggest_amount=t,e.calculateBiggestAmounts(),i=10,e.biggest_amounts[t].length&&(y>0&&m.addPage(),m.setFontSize(24),m.text(10,10,f,{align:"left"}),m.setFontSize(14),m.text(10,20,e.competition.cup_name,{align:"left"}),m.text(10,30,b,{align:"left"}),m.line(0,35,400,35),m.setFontSize(18),i=50,s=["Sijoitus","Veneen nro","Kippari","Paino"],a=e.dictToArray(e.biggest_amounts[t],3),m.text(100,i,"Suurimmat kalasaaliit"+" (".concat(t,")"),{align:"center"}),m.autoTable({head:[s],body:a,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",startY:i+5}),y++)}))}if(this.selected_print.includes("biggest_winners")&&((this.selected_print.includes("normal")||this.selected_print.includes("team")||this.selected_print.includes("biggest_fishes")||this.selected_print.includes("biggest_amounts"))&&m.addPage(),this.selected_biggest_fish=this.selected_biggest_amount="Voittajat",s=["Kalalaji","Veneen nro","Kippari","Paino"],this.calculateBiggestFishes(),this.calculateBiggestAmounts(),(this.biggest_fishes_results.length||this.biggest_amounts_results.length)&&(m.setFontSize(24),m.text(10,10,f,{align:"left"}),m.setFontSize(14),m.text(10,20,this.competition.cup_name,{align:"left"}),m.text(10,30,b,{align:"left"}),m.line(0,35,400,35),m.setFontSize(18)),this.biggest_fishes_results.length?(a=this.dictToArray(this.biggest_fishes_results,4),m.text(100,50,"Suurimmat kalat"+" (".concat(this.selected_biggest_fish,")"),{align:"center"}),m.autoTable({head:[s],body:a,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",margin:{top:20},startY:55}),i=m.autoTable.previous.finalY+25):i=50,this.biggest_amounts_results.length&&(a=this.dictToArray(this.biggest_amounts_results,4),m.text(100,i,"Suurimmat kalasaaliit"+" (".concat(this.selected_biggest_fish,")"),{align:"center"}),m.autoTable({head:[s],body:a,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",margin:{top:20},startY:i+5}))),this.selected_print.includes("stats")){(this.selected_print.includes("normal")||this.selected_print.includes("team")||this.selected_print.includes("biggest_fishes")||this.selected_print.includes("biggest_amounts")||this.selected_print.includes("biggest_winners"))&&m.addPage(),m.setFontSize(24),m.text(10,10,f,{align:"left"}),m.setFontSize(14),m.text(10,20,this.competition.cup_name,{align:"left"}),m.text(10,30,b,{align:"left"}),m.line(0,35,400,35),m.setFontSize(18);var k=document.getElementById("fishes_chart").toDataURL("image/png",1),w=document.getElementById("signee_chart").toDataURL("image/png",1);try{m.addImage(k,"PNG",-30,40,180,90),m.addImage(w,"PNG",70,40,180,90)}catch(P){r=!1,this.tab="stats",setTimeout((function(){return e.saveAllAsPDF(o)}),1e3)}m.text(100,165,"Kalalajien määritykset",{align:"center"}),a=this.dictToArray(this.calculated_fish_weights,7);var v=Math.round(100*(this.calculated_total_weights/1e3+Number.EPSILON))/100,x=v.toLocaleString()+" kg";a.push(["Yhteensä","","",x]),s=["Kalalaji","Kerroin","Alamitta","Saalista saatu"],m.autoTable({head:[s],body:a,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",startY:170,margin:{top:20}}),m.text(100,m.autoTable.previous.finalY+20,"Yleisiä tilastoja",{align:"center"}),s=["",""],a=[["Cup pistekerroin","x ".concat(this.competition.cup_points_multiplier)],["Ilmoittautuneita yhteensä","".concat(this.signees.length," kpl")],["Saalista saaneita","".concat(Math.round(this.$store.getters.getPointSignees.length/this.competition.signees.length*100*100)/100," % (").concat(this.$store.getters.getPointSignees.length,"/").concat(this.signees.length,")")]],m.autoTable({head:[s],body:a,styles:{overflow:"linebreak",cellWidth:"wrap",rowPageBreak:"avoid",halign:"justify",fontSize:"8",lineColor:"100",lineWidth:".25"},columnStyles:{text:{cellwidth:"auto"}},theme:"striped",pageBreak:"auto",tableWidth:"auto",margin:{top:20},startY:m.autoTable.previous.finalY+25})}this.selected_biggest_fish=c,this.selected_biggest_amount=h,this.selected_normal=u,this.calculateBiggestFishes(),this.calculateBiggestAmounts(),r?(this.tab=o,m.save("".concat(p,"_").concat(this.replaceAll(this.competition.name," ",""),"Tulokset.pdf")),this.onafterprint()):l.a.toast({html:"Kaaviot ei ruudulla, yritetään uudelleen..."})}function f(){var t=i("30ef");for(var e in t.instances){var a=t.instances[e];a.canvas.parentNode.style.height="800px",a.canvas.parentNode.style.width="1600px",a.resize()}}function _(){var t=i("30ef");for(var e in t.instances){var a=t.instances[e];a.canvas.parentNode.style.height="",a.canvas.parentNode.style.width="",a.resize()}this.drawCharts()}function b(t,e){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t;case 2:if(t!==e){i.next=4;break}return i.abrupt("return");case 4:return i.delegateYield(b(t+1,e),"t0",5);case 5:case"end":return i.stop()}}),r)}function S(t){return t>30?"red":t>20?"orange":t>5?"yellow":"green"}function y(t){return t>5?"primary darken-2":"red"}function k(){var t=[],e=[];this.calculated_fish_weights.forEach((function(i){t.push(i.weights),e.push(i.color)}));var i=[],a=this.$store.getters.getPointSignees.length,s=this.signees.length-a;i.push(a),i.push(s),this.fishes_chart_title="Kaloja saatu yhteensä",this.fishes_chart_data={labels:this.table_fish_names,datasets:[{label:"Paino",backgroundColor:e,data:t}]},this.signee_chart_title="Saalista saaneita",this.signee_chart_data={labels:["Kyllä","Ei saalista"],datasets:[{label:"Lukumäärä",backgroundColor:["#7fbf7f","#ff7f7f"],data:i}]}}function w(t){if(t){var e=[],i=[];return this.fish_names.forEach((function(a){"Voittajat"!==a&&t[a]&&(i=t[a].sort((function(t,e){return parseInt(e.weight)-parseInt(t.weight)})),t[a]=i.filter((function(t){return t.weight>0})),t[a].length&&e.push({name:a,boat_number:i[0].boat_number,captain_name:i[0].captain_name,weight:i[0].weight.toLocaleString()}))})),e}return[]}function v(t,e,i){var a,s,n,o,l,r,c,h;if(t=Math.max(0,Math.min(360,t)),e=Math.max(0,Math.min(100,e)),i=Math.max(0,Math.min(100,i)),e/=100,i/=100,0==e)return a=s=n=i,[Math.round(255*a),Math.round(255*s),Math.round(255*n)];switch(t/=60,o=Math.floor(t),l=t-o,r=i*(1-e),c=i*(1-e*l),h=i*(1-e*(1-l)),o){case 0:a=i,s=h,n=r;break;case 1:a=c,s=i,n=r;break;case 2:a=r,s=i,n=h;break;case 3:a=r,s=c,n=i;break;case 4:a=h,s=r,n=i;break;default:a=i,s=r,n=c}return{r:Math.round(255*a),g:Math.round(255*s),b:Math.round(255*n)}}function x(t){for(var e=360/(t-1),i=[],a=90,s=50,n=0;n<t;n++){var o=Math.floor(Math.random()*(a-s))+s,l=Math.floor(Math.random()*(a-s))+s,r=this.HSVtoRGB(e*n,o,l);i.push("rgb(".concat(r.r,",").concat(r.g,",").concat(r.b,")"))}return i}e["a"]={onafterprint:_,onbeforeprint:f,saveAllAsPDF:m,saveStatsAsPDF:p,saveAsPDF:d,dictToArray:c,capitalize_words:h,replaceAll:u,formatDate:g,range:b,getColorPoints:y,getColor:S,drawCharts:k,sortDict:w,HSVtoRGB:v,getRandomColors:x}}}]);
//# sourceMappingURL=about~12045fb6.b36a3b57.js.map