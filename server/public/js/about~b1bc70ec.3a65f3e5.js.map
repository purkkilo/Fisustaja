{"version":3,"sources":["webpack:///./src/views/Overview.vue?5d60","webpack:///src/views/Overview.vue","webpack:///./src/views/Overview.vue?7db1","webpack:///./src/views/Overview.vue","webpack:///./src/views/PublicResults.vue?f64d","webpack:///src/views/PublicResults.vue","webpack:///./src/views/PublicResults.vue?57e8","webpack:///./src/views/PublicResults.vue","webpack:///./src/views/PublicCups.vue?1729","webpack:///src/views/PublicCups.vue","webpack:///./src/views/PublicCups.vue?709a","webpack:///./src/views/PublicCups.vue?6943","webpack:///./src/views/Login.vue?8f09","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?3a4e","webpack:///./src/views/Login.vue","webpack:///./src/views/PublicCups.vue?38cf"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","errors","attrs","staticClass","_v","_l","error","index","key","_s","_e","loading","class","$store","getters","getTheme","scopedSlots","_u","fn","ref","on","_g","_b","model","value","callback","$$v","dialog","expression","$event","inputarea","competition","name","formatted_start_date","formatted_end_date","start_time","end_time","state","signees","length","getFinishedSignees","hasNotReturnedPercentage","hasGottenFishPercentage","getPointSignees","total_weights","staticRenderFns","components","Timedate","ProgressBarQuery","Header","data","created","localStorage","getItem","refreshCompetition","competition_id","console","log","mounted","checkLogin","location","href","methods","logged_in","user","is_admin","component","VAlert","VBtn","VCard","VCardActions","VCardTitle","VCol","VContainer","VDialog","VDivider","VIcon","VList","VListItem","VListItemIcon","VListItemSubtitle","VListItemTitle","VRow","VSpacer","competitions","pickCompetition","selected_competition","loading_competition","biggest_amounts_results","selected_print","team_results","biggest_fishes_results","choosePrints","tab","saveStatsAsPDF","normal_points","fish","multiplier","minsize","weights","Math","round","Number","EPSILON","calculated_total_weights","cup_points_multiplier","normal_options","switchNormalResults","selected_normal","saveAsPDF","search","headers","results","item","getColor","placement","boat_number","total_points","toLocaleString","getColorPoints","cup_points_total","search_team","team_headers","points","fish_names","calculateBiggestFishes","selected_biggest_fish","results_found_fishes","search_fishes","biggest_fishes_headers","weight","fish_amount_names","calculateBiggestAmounts","selected_biggest_amount","results_found_amounts","search_amounts","biggest_amounts_headers","MainHeader","table_fish_names","normal_weights","biggest_fishes","biggest_amounts","isTeamCompetition","calculated_fish_weights","fishes_chart","signees_chart","normal_headers","signee_headers","winner_headers","biggest_headers","saveAllAsPDF","commit","drawCharts","forEach","temp_weights","push","colors","color","signee_data","point_signees","no_points_signees","type","labels","datasets","options","maintainAspectRatio","responsive","plugins","fontSize","fontStyle","textShadow","position","textmargin","fontColor","fontFamily","title","display","text","precision","fishes_ctx","document","signees_ctx","charts_drawn","setTimeout","html","current_tab","getSignees","sortDict","fishes","temp_results","sort","a","b","parseInt","filter","all_results","captain_name","fish_results","last_weight","result","last_placement","results_found_amount","replaceAll","string","split","join","replace","dictToArray","temp_arr","values","String","temp_placement","temp_bnumber","temp_captain","temp_points","place","team","captain_1","captain_2","captain_3","b_number","captain","startin_place","locality","arr","formatDate","start_date","$moment","formatted_date","capitalize_words","str","onbeforeprint","doc","setFontSize","cup_name","time","line","table_id","pdf_competition_type","columns","rows","competition_type","autoTable","head","body","styles","overflow","cellWidth","rowPageBreak","halign","lineColor","lineWidth","columnStyles","theme","pageBreak","tableWidth","startY","margin","save","onafterprint","fishesImg","signeeImg","addImage","previous","finalY","align","includes","addPage","start_coord","counter","charts_loaded","temp_selected_biggest_fish","temp_selected_biggest_amount","temp_selected_normal","id","Chart","instances","chart","canvas","parentNode","style","height","width","resize","VCardText","VCheckbox","VChip","VDataTable","VSelect","VTab","VTabItem","VTabs","VTabsItems","VTabsSlider","VTextField","cups","pickCup","selected_cup","header_options","changeHeaders","header_selection","select_numbers","calculateAll","selected_competitions","not_finished_count","h","header","getCompetitionFinishedColor","isFinished","final_placement","c","cup_results","cup_participation_points","final_cup_points","refreshCup","cup","isResults","found_signee","points_compare","signee","key_name","splice","limitCompetitions","limit","last_points","element","replaceAllChars","highlight","found_headers","new_header_text","setItem","$router","temp_array","count","finalIndex","sub_title","unfinished_competitions","headStyles","email","password","handleSubmit","input","getElementById","addEventListener","event","keyCode","preventDefault","click","showError"],"mappings":"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","file":"js/about~b1bc70ec.3a65f3e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{staticStyle:{\"margin-bottom\":\"60px\"}}),(_vm.errors.length)?_c('div',{attrs:{\"id\":\"errordiv\"}},[_c('ul',{staticClass:\"collection with-header\",staticStyle:{\"border\":\"1px solid red\"}},[_c('li',{staticClass:\"collection-header\",staticStyle:{\"background\":\"rgba(0,0,0,0)\"}},[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Korjaa seuraavat virheet: \")])],1),_vm._l((_vm.errors),function(error,index){return _c('li',{key:index,staticClass:\"collection-item\",attrs:{\"id\":\"error\"}},[_c('p',{staticClass:\"flow-text\"},[_vm._v(_vm._s(index + 1)+\". \"+_vm._s(error))])])})],2)]):_vm._e(),(!_vm.loading)?_c('div',{class:{\n      'container-transparent': !_vm.$store.getters.getTheme,\n      'container-transparent-dark': _vm.$store.getters.getTheme,\n    }},[_c('v-row',{staticClass:\"valign-wrapper\"},[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h1',[_vm._v(\"Yleisnkym\")])]),_c('v-col',{attrs:{\"md\":\"3\"}},[_c('div',{staticClass:\"text-center\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n    var on = ref.on;\n    var attrs = ref.attrs;\nreturn [_c('p',{class:{\n                  'black-text': !_vm.$store.getters.getTheme,\n                  'white-text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Kello/Kilpailuaika \")]),_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\",\"outlined\":\"\",\"color\":\"red darken-4\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-timer\")])],1)]}}],null,false,1515809673),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',{staticClass:\"headline\"}),_c('Timedate'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Sulje \")])],1)],1)],1)],1)])],1),_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"order\":\"first\"}},[_c('router-link',{attrs:{\"to\":\"/comp-settings\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"grey\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"tune\")]),_vm._v(\"Mritykset\")])],1)],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('router-link',{attrs:{\"to\":\"/signing\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"blue\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"edit\")]),_vm._v(\"Ilmoittautuminen\")])],1)],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('router-link',{attrs:{\"to\":\"/weighting\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"blue darken-4\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"fitness_center\")]),_vm._v(\"Punnitus\")])],1)],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"order\":\"last\"}},[_c('router-link',{attrs:{\"to\":\"/results\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"green\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"emoji_events\")]),_vm._v(\"Tulokset\")])],1)],1)],1),_c('div',{staticClass:\"divider\"}),_c('div',{staticClass:\"section\",class:{\n        inputarea: !_vm.$store.getters.getTheme,\n        'inputarea-dark': _vm.$store.getters.getTheme,\n      }},[_c('div',{staticClass:\"col s12\"},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"elevation\":\"20\",\"outlined\":\"\"}},[_c('v-card-title',{staticClass:\"text-center\"},[_c('p',{staticClass:\"display-1\"},[_vm._v(\" \"+_vm._s(_vm.competition.name)+\" \")])]),_c('v-list',{attrs:{\"outlined\":\"\",\"elevation\":\"10\"}},[_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-calendar-today\")])],1),_c('v-list-item-title',[_vm._v(\"Pivmr\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(_vm._s(_vm.formatted_start_date)+\" - \"+_vm._s(_vm.formatted_end_date))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-clock-time-four\")])],1),_c('v-list-item-title',[_vm._v(\"Kilpailuaika\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(_vm._s(_vm.competition.start_time)+\" - \"+_vm._s(_vm.competition.end_time))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"green darken-4\"}},[_vm._v(\"mdi-state-machine\")])],1),_c('v-list-item-title',[_vm._v(\"Tila\")]),_c('v-list-item-subtitle',{class:{\n                  'green-text': _vm.competition.state === 'Kaikki maalissa',\n                  'blue-text': _vm.competition.state !== 'Kaikki maalissa',\n                }},[_c('b',[_vm._v(_vm._s(_vm.competition.state))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-card-account-details-outline\")])],1),_c('v-list-item-title',[_vm._v(\"Ilmoittautuneita\")]),_c('v-list-item-subtitle',{class:{\n                  'green-text': _vm.competition.signees.length,\n                  'red-text': !_vm.competition.signees.length,\n                }},[_c('b',[_vm._v(_vm._s(_vm.competition.signees.length))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"blue darken-4\"}},[_vm._v(\"mdi-water-alert\")])],1),_c('v-list-item-title',[_vm._v(\"Viel vesill\")]),(_vm.competition.signees.length)?_c('v-list-item-subtitle',{class:{\n                  'green-text':\n                    !_vm.competition.signees.length -\n                    _vm.$store.getters.getFinishedSignees.length,\n                  'red-text': _vm.competition.signees.length,\n                }},[_c('b',[_vm._v(_vm._s(_vm.hasNotReturnedPercentage)+\"%\")]),_vm._v(\" (\"+_vm._s(_vm.competition.signees.length - _vm.$store.getters.getFinishedSignees.length)+\" / \"+_vm._s(_vm.competition.signees.length)+\") \")]):_c('v-list-item-subtitle',{staticClass:\"green-text\"},[_c('b',[_vm._v(\"Ketn ei viel vesill!\")])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"blue\"}},[_vm._v(\"mdi-fish\")])],1),_c('v-list-item-title',[_vm._v(\"Saalista saaneita\")]),(_vm.competition.signees.length)?_c('v-list-item-subtitle',{staticClass:\"green-text\"},[_c('b',[_vm._v(_vm._s(_vm.hasGottenFishPercentage)+\"%\")]),_vm._v(\" (\"+_vm._s(_vm.$store.getters.getPointSignees.length)+\" / \"+_vm._s(_vm.competition.signees.length)+\") \")]):_c('v-list-item-subtitle',{staticClass:\"red-text\"},[_c('b',[_vm._v(\"Ei viel ilmoittautuneita!\")])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"yellow darken-4\"}},[_vm._v(\"mdi-seal\")])],1),_c('v-list-item-title',[_vm._v(\"Kalaa saatu yhteens\")]),(_vm.competition.signees.length)?_c('v-list-item-subtitle',{staticClass:\"green-text\"},[_c('b',[_vm._v(_vm._s(_vm.competition.total_weights / 1000)+\" kg\")])]):_c('v-list-item-subtitle',{staticClass:\"red-text\"},[_c('b',[_vm._v(\"Ei viel ilmoittautuneita!\")])])],1)],1)],1)],1)])],1):_c('div',[_c('h2',[_vm._v(\"Valmistellaan kilpailua...\")]),_c('ProgressBarQuery')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /overview -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <v-container>\r\n    <Header style=\"margin-bottom:60px\" />\r\n    <div id=\"errordiv\" v-if=\"errors.length\">\r\n      <ul class=\"collection with-header\" style=\"border:1px solid red;\">\r\n        <li class=\"collection-header\" style=\"background: rgba(0,0,0,0);\">\r\n          <v-alert type=\"error\">\r\n            Korjaa seuraavat virheet:\r\n          </v-alert>\r\n        </li>\r\n        <li\r\n          class=\"collection-item\"\r\n          id=\"error\"\r\n          v-for=\"(error, index) in errors\"\r\n          v-bind:key=\"index\"\r\n        >\r\n          <p class=\"flow-text\">{{ index + 1 }}. {{ error }}</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div\r\n      v-if=\"!loading\"\r\n      v-bind:class=\"{\r\n        'container-transparent': !$store.getters.getTheme,\r\n        'container-transparent-dark': $store.getters.getTheme,\r\n      }\"\r\n    >\r\n      <v-row class=\"valign-wrapper\">\r\n        <v-col md=\"6\" offset-md=\"3\">\r\n          <h1>Yleisnkym</h1>\r\n        </v-col>\r\n        <v-col md=\"3\">\r\n          <div class=\"text-center\">\r\n            <v-dialog v-model=\"dialog\">\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <p\r\n                  v-bind:class=\"{\r\n                    'black-text': !$store.getters.getTheme,\r\n                    'white-text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Kello/Kilpailuaika\r\n                </p>\r\n                <v-btn\r\n                  text\r\n                  outlined\r\n                  color=\"red darken-4\"\r\n                  dark\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                >\r\n                  <v-icon>mdi-timer</v-icon>\r\n                </v-btn>\r\n              </template>\r\n\r\n              <v-card :dark=\"$store.getters.getTheme\">\r\n                <v-card-title class=\"headline\"> </v-card-title>\r\n                <Timedate />\r\n\r\n                <v-card-actions>\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn color=\"primary\" outlined @click=\"dialog = false\">\r\n                    Sulje\r\n                  </v-btn>\r\n                </v-card-actions>\r\n              </v-card>\r\n            </v-dialog>\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row>\r\n        <v-col order=\"first\" style=\"margin-top:20px\">\r\n          <router-link to=\"/comp-settings\">\r\n            <v-btn large rounded color=\"grey\" class=\"white--text\"\r\n              ><i class=\"material-icons left\">tune</i>Mritykset</v-btn\r\n            >\r\n          </router-link>\r\n        </v-col>\r\n        <v-col style=\"margin-top:20px\">\r\n          <router-link to=\"/signing\">\r\n            <v-btn large rounded color=\"blue\" class=\"white--text\"\r\n              ><i class=\"material-icons left\">edit</i>Ilmoittautuminen</v-btn\r\n            >\r\n          </router-link>\r\n        </v-col>\r\n        <v-col style=\"margin-top:20px\">\r\n          <router-link to=\"/weighting\">\r\n            <v-btn large rounded color=\"blue darken-4\" class=\"white--text\"\r\n              ><i class=\"material-icons left\">fitness_center</i>Punnitus</v-btn\r\n            >\r\n          </router-link>\r\n        </v-col>\r\n        <v-col order=\"last\" style=\"margin-top:20px\">\r\n          <router-link to=\"/results\">\r\n            <v-btn large rounded color=\"green\" class=\"white--text\"\r\n              ><i class=\"material-icons left\">emoji_events</i>Tulokset</v-btn\r\n            >\r\n          </router-link>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <div class=\"divider\"></div>\r\n      <div\r\n        class=\"section\"\r\n        v-bind:class=\"{\r\n          inputarea: !$store.getters.getTheme,\r\n          'inputarea-dark': $store.getters.getTheme,\r\n        }\"\r\n      >\r\n        <!-- TODO make it pretty... Everyting else is better than this-->\r\n        <div class=\"col s12\">\r\n          <v-card :dark=\"$store.getters.getTheme\" elevation=\"20\" outlined>\r\n            <v-card-title class=\"text-center\"\r\n              ><p class=\"display-1\">\r\n                {{ competition.name }}\r\n              </p></v-card-title\r\n            >\r\n            <v-list outlined elevation=\"10\">\r\n              <v-list-item>\r\n                <v-list-item-icon>\r\n                  <v-icon>mdi-calendar-today</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Pivmr</v-list-item-title>\r\n                <v-list-item-subtitle class=\"blue-text\">\r\n                  <b>{{ formatted_start_date }} - {{ formatted_end_date }}</b>\r\n                </v-list-item-subtitle>\r\n              </v-list-item>\r\n              <v-divider></v-divider>\r\n              <v-list-item>\r\n                <v-list-item-icon>\r\n                  <v-icon>mdi-clock-time-four</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Kilpailuaika</v-list-item-title>\r\n                <v-list-item-subtitle class=\"blue-text\">\r\n                  <b\r\n                    >{{ competition.start_time }} -\r\n                    {{ competition.end_time }}</b\r\n                  >\r\n                </v-list-item-subtitle>\r\n              </v-list-item>\r\n              <v-divider></v-divider>\r\n              <v-list-item>\r\n                <v-list-item-icon>\r\n                  <v-icon color=\"green darken-4\">mdi-state-machine</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Tila</v-list-item-title>\r\n                <v-list-item-subtitle\r\n                  v-bind:class=\"{\r\n                    'green-text': competition.state === 'Kaikki maalissa',\r\n                    'blue-text': competition.state !== 'Kaikki maalissa',\r\n                  }\"\r\n                >\r\n                  <b>{{ competition.state }}</b>\r\n                </v-list-item-subtitle>\r\n              </v-list-item>\r\n              <v-divider></v-divider>\r\n              <v-list-item>\r\n                <v-list-item-icon>\r\n                  <v-icon>mdi-card-account-details-outline</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Ilmoittautuneita</v-list-item-title>\r\n                <v-list-item-subtitle\r\n                  v-bind:class=\"{\r\n                    'green-text': competition.signees.length,\r\n                    'red-text': !competition.signees.length,\r\n                  }\"\r\n                >\r\n                  <b>{{ competition.signees.length }}</b>\r\n                </v-list-item-subtitle>\r\n              </v-list-item>\r\n              <v-divider></v-divider>\r\n              <v-list-item>\r\n                <v-list-item-icon>\r\n                  <v-icon color=\"blue darken-4\">mdi-water-alert</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Viel vesill</v-list-item-title>\r\n                <v-list-item-subtitle\r\n                  v-if=\"competition.signees.length\"\r\n                  v-bind:class=\"{\r\n                    'green-text':\r\n                      !competition.signees.length -\r\n                      $store.getters.getFinishedSignees.length,\r\n                    'red-text': competition.signees.length,\r\n                  }\"\r\n                >\r\n                  <b>{{ hasNotReturnedPercentage }}%</b>\r\n                  ({{\r\n                    competition.signees.length -\r\n                      $store.getters.getFinishedSignees.length\r\n                  }}\r\n                  / {{ competition.signees.length }})\r\n                </v-list-item-subtitle>\r\n\r\n                <v-list-item-subtitle class=\"green-text\" v-else\r\n                  ><b>Ketn ei viel vesill!</b></v-list-item-subtitle\r\n                >\r\n              </v-list-item>\r\n              <v-divider></v-divider>\r\n              <v-list-item>\r\n                <v-list-item-icon>\r\n                  <v-icon color=\"blue\">mdi-fish</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Saalista saaneita</v-list-item-title>\r\n                <v-list-item-subtitle\r\n                  class=\"green-text\"\r\n                  v-if=\"competition.signees.length\"\r\n                >\r\n                  <b>{{ hasGottenFishPercentage }}%</b> ({{\r\n                    $store.getters.getPointSignees.length\r\n                  }}\r\n                  / {{ competition.signees.length }})\r\n                </v-list-item-subtitle>\r\n                <v-list-item-subtitle class=\"red-text\" v-else\r\n                  ><b>Ei viel ilmoittautuneita!</b></v-list-item-subtitle\r\n                >\r\n              </v-list-item>\r\n              <v-divider></v-divider>\r\n              <v-list-item>\r\n                <v-list-item-icon>\r\n                  <v-icon color=\"yellow darken-4\">mdi-seal</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-title>Kalaa saatu yhteens</v-list-item-title>\r\n                <v-list-item-subtitle\r\n                  class=\"green-text\"\r\n                  v-if=\"competition.signees.length\"\r\n                >\r\n                  <b>{{ competition.total_weights / 1000 }} kg</b>\r\n                </v-list-item-subtitle>\r\n                <v-list-item-subtitle class=\"red-text\" v-else\r\n                  ><b>Ei viel ilmoittautuneita!</b></v-list-item-subtitle\r\n                >\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <h2>Valmistellaan kilpailua...</h2>\r\n      <ProgressBarQuery />\r\n    </div>\r\n  </v-container>\r\n</template>\r\n<script>\r\n\"use strict\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport Timedate from \"../components/layout/Timedate\";\r\nimport Header from \"../components/layout/Header\";\r\nimport ProgressBarQuery from \"../components/layout/ProgressBarQuery\";\r\n\r\nexport default {\r\n  name: \"Overview\",\r\n  components: {\r\n    Timedate,\r\n    ProgressBarQuery,\r\n    Header,\r\n  },\r\n  data() {\r\n    return {\r\n      competition: null,\r\n      loading: false,\r\n      errors: [],\r\n      formatted_start_date: null,\r\n      formatted_end_date: null,\r\n      dialog: false,\r\n      hasNotReturnedPercentage: 0,\r\n      hasGottenFishPercentage: 0,\r\n    };\r\n  },\r\n  created() {\r\n    // IF competition on localstorage\r\n    if (localStorage.getItem(\"competition\") != null) {\r\n      // update from database\r\n      const competition = JSON.parse(localStorage.getItem(\"competition\"));\r\n      const competition_id = competition[\"id\"];\r\n      this.refreshCompetition(competition_id);\r\n    } else {\r\n      console.log(\"No competition in localstorage!\");\r\n    }\r\n  },\r\n  mounted() {\r\n    //Check if user is logged in has admin status, update header\r\n    this.checkLogin();\r\n\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n    // IF competition on localstorage\r\n    if (localStorage.getItem(\"competition\") != null) {\r\n      // update from database\r\n      const competition = JSON.parse(localStorage.getItem(\"competition\"));\r\n      const competition_id = competition[\"id\"];\r\n      this.refreshCompetition(competition_id);\r\n    } else {\r\n      console.log(\"No competition in localstorage!\");\r\n    }\r\n  },\r\n  methods: {\r\n    // fetch/update competition from database\r\n    async refreshCompetition(competition_id) {\r\n      this.loading = true;\r\n      this.errors = [];\r\n      try {\r\n        //Get competition from database (check 'client\\src\\CompetitionService.js' and 'server\\routes\\api\\competition.js' to see how this works)\r\n        let competition = await CompetitionService.getCompetitions({\r\n          _id: competition_id,\r\n        });\r\n        // IF competition found from database\r\n        if (competition) {\r\n          // Returns an array, get first result (there shouldn't be more than one in any case, since id's are unique)\r\n          //TODO make a test for this?\r\n          this.competition = competition;\r\n          // Update to vuex, Assing variables from vuex (see client/store/index.js)\r\n          this.$store.commit(\"refreshCompetition\", this.competition);\r\n          localStorage.setItem(\"cup\", this.competition.cup_id);\r\n          let start_date = this.$moment(this.competition.start_date);\r\n          let end_date = this.$moment(this.competition.end_date);\r\n          this.formatted_start_date = `${start_date.date()}.${start_date.month() +\r\n            1}.${start_date.year()}`;\r\n          this.formatted_end_date = `${end_date.date()}.${end_date.month() +\r\n            1}.${end_date.year()}`;\r\n\r\n          this.hasGottenFishPercentage =\r\n            Math.round(\r\n              (this.$store.getters.getPointSignees.length /\r\n                this.competition.signees.length) *\r\n                100 *\r\n                100\r\n            ) / 100;\r\n\r\n          this.hasNotReturnedPercentage =\r\n            Math.round(\r\n              ((this.competition.signees.length -\r\n                this.$store.getters.getFinishedSignees.length) /\r\n                competition.signees.length) *\r\n                100 *\r\n                100\r\n            ) / 100;\r\n        } else {\r\n          this.competition = { name: \"Kilpailua ei lytynyt tietokannasta...\" };\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n      this.loading = false;\r\n    },\r\n    //Check if user is logged in has admin status, update values to vuex (Header.vue updates based on these values)\r\n    checkLogin: function() {\r\n      // If login token present --> user is logged in\r\n      if (localStorage.getItem(\"jwt\") != null) {\r\n        this.$store.state.logged_in = true;\r\n        let user = JSON.parse(localStorage.getItem(\"user\"));\r\n        // Check if user is admin\r\n        //TODO safer way to check this than use localstorage?\r\n        user.is_admin == true\r\n          ? (this.$store.state.is_admin = true)\r\n          : (this.$store.state.is_admin = false);\r\n      } else {\r\n        //Not logger in, so not admin either\r\n        this.$store.state.logged_in = false;\r\n        this.$store.state.is_admin = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Overview.vue?vue&type=template&id=518623bd&\"\nimport script from \"./Overview.vue?vue&type=script&lang=js&\"\nexport * from \"./Overview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardTitle,VCol,VContainer,VDialog,VDivider,VIcon,VList,VListItem,VListItemIcon,VListItemSubtitle,VListItemTitle,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{class:{\n    'container-transparent': !_vm.$store.getters.getTheme,\n    'container-transparent-dark': _vm.$store.getters.getTheme,\n  },staticStyle:{\"margin-top\":\"70px\",\"margin-bottom\":\"5px\"}},[_c('MainHeader'),_c('v-row',[_c('v-col',[_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h1',[_vm._v(\"Kilpailujen tuloksia\")])])],1),_c('v-row',[_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"8\"}},[_c('router-link',{attrs:{\"to\":\"/public-cups\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"blue\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"emoji_events\")]),_vm._v(\"Cuppien tuloksia \")])],1)],1)],1),(_vm.competitions.length)?_c('v-row',{staticClass:\"scroll_table\"},[_c('v-col',{attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"items\":_vm.competitions,\"item-text\":\"select\",\"item-value\":\"_id\",\"label\":\"Valitse nytettv kilpailu\",\"loading\":_vm.loading,\"outlined\":\"\",\"return-object\":\"\",\"single-line\":\"\"},on:{\"input\":_vm.pickCompetition},model:{value:(_vm.selected_competition),callback:function ($$v) {_vm.selected_competition=$$v},expression:\"selected_competition\"}})],1)],1):_vm._e(),_c('v-row',[_c('v-col',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"md\":\"3\",\"offset-md\":\"4\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"yellow\",\"disabled\":!_vm.competition},on:{\"click\":function($event){_vm.competition = null;\n              _vm.selected_competition = null;}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"remove_circle\")]),_vm._v(\"Peruuta valinta \")])],1),_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"1\"}},[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"300px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n              var on = ref.on;\n              var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"white--text\",attrs:{\"color\":\"green darken-4\",\"dark\":\"\",\"large\":\"\",\"loading\":_vm.loading_competition,\"disabled\":!_vm.biggest_amounts_results.length || !_vm.competition}},'v-btn',attrs,false),on),[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa kaikki tulokset \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_vm._v(\"Valitse mit lataus sislt\")]),_c('v-divider'),_c('v-card-text',{staticStyle:{\"height\":\"300px\",\"width\":\"100%\"}},[_c('v-checkbox',{attrs:{\"label\":\"Tilastoja\",\"disabled\":!_vm.biggest_amounts_results.length,\"color\":\"indigo darken-3\",\"value\":\"stats\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.biggest_amounts_results.length,\"label\":\"Normaalikilpailun tulokset\",\"color\":\"indigo darken-3\",\"value\":\"normal\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}),(_vm.isTeamCompetition)?_c('v-checkbox',{attrs:{\"disabled\":!_vm.team_results.length,\"label\":\"Tiimikilpailun tulokset\",\"color\":\"indigo darken-3\",\"value\":\"team\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}):_vm._e(),_c('v-checkbox',{attrs:{\"disabled\":!_vm.biggest_fishes_results.length,\"label\":\"Suurimmat yksittiset kalat\",\"color\":\"indigo darken-3\",\"value\":\"biggest_fishes\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.biggest_amounts_results.length,\"label\":\"Suurimmat kalasaaliit\",\"color\":\"indigo darken-3\",\"value\":\"biggest_amounts\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}}),_c('v-checkbox',{attrs:{\"disabled\":!_vm.biggest_amounts_results.length &&\n                      !_vm.biggest_amounts_results.length,\"label\":\"Suurimmat yksittiset kalat / kalasaaliit (Voittajat)\",\"color\":\"indigo darken-3\",\"value\":\"biggest_winners\"},model:{value:(_vm.selected_print),callback:function ($$v) {_vm.selected_print=$$v},expression:\"selected_print\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-col',[_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"red darken-4\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Sulje\")])],1),_c('v-col',[_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"green darken-4\",\"text\":\"\"},on:{\"click\":_vm.choosePrints}},[_vm._v(\"Lataa\")])],1)],1)],1)],1)],1)],1),(_vm.loading)?_c('v-row',[_c('v-col',[_c('h2',{class:{\n              'white--text': _vm.$store.getters.getTheme,\n            }},[_vm._v(\" Haetaan kilpailuja... \")]),_c('ProgressBarQuery')],1)],1):_vm._e(),_c('v-tabs',{attrs:{\"background-color\":\"blue lighten-2\",\"color\":\"blue darken-4\",\"grow\":\"\",\"show-arrows\":\"\",\"next-icon\":\"mdi-arrow-right-bold-box-outline\",\"prev-icon\":\"mdi-arrow-left-bold-box-outline\",\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"blue darken-4\"}}),_c('v-tab',{attrs:{\"href\":\"#stats\"}},[_vm._v(\"Tilastoja\")]),_c('v-tab',{attrs:{\"href\":\"#normal-competition\",\"disabled\":!_vm.selected_competition}},[_vm._v(\"Normaalikilpailu\")]),(_vm.isTeamCompetition)?_c('v-tab',{attrs:{\"href\":\"#team-competition\",\"disabled\":!_vm.selected_competition}},[_vm._v(\"Tiimikilpailu\")]):_c('v-tab',{attrs:{\"href\":\"#team-competition\",\"disabled\":\"\"}},[_vm._v(\"Ei Tiimikilpailua\")]),_c('v-tab',{attrs:{\"href\":\"#biggest-fishes\",\"disabled\":!_vm.selected_competition}},[_vm._v(\"Suurimmat Kalat\")]),_c('v-tab',{attrs:{\"href\":\"#biggest-fish-amounts\",\"disabled\":!_vm.selected_competition}},[_vm._v(\"Suurimmat Kalasaaliit\")])],1),(!_vm.loading && _vm.selected_competition)?_c('v-tabs-items',{staticStyle:{\"background\":\"rgba(0,0,0,0.4)\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{class:{\n            inputarea: !_vm.$store.getters.getTheme,\n            'inputarea-dark': _vm.$store.getters.getTheme,\n          },attrs:{\"value\":'stats'}},[_c('v-row',{staticStyle:{\"padding-top\":\"50px\"}},[_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"8\"}},[_c('v-btn',{staticClass:\"white--text\",staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"disabled\":!_vm.biggest_amounts_results.length},on:{\"click\":function($event){return _vm.saveStatsAsPDF(\"Tilastoja\")}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf\")])],1)],1),(_vm.competition)?_c('v-row',[(_vm.competition.normal_points.length)?_c('v-row',{staticStyle:{\"min-height\":\"400px\"}},[_c('v-col',{staticClass:\"d-flex align-content-start\",staticStyle:{\"margin-bottom\":\"50px\"},attrs:{\"md\":\"6\"}},[_c('div',{staticClass:\"chart-container\",staticStyle:{\"position\":\"relative\",\"height\":\"30vh\",\"width\":\"60vw\"}},[_c('canvas',{attrs:{\"id\":\"fishesChart\"}})])]),_c('v-col',{staticClass:\"d-flex align-content-start\",attrs:{\"md\":\"6\"}},[_c('div',{staticClass:\"chart-container\",staticStyle:{\"position\":\"relative\",\"height\":\"30vh\",\"width\":\"60vw\"}},[_c('canvas',{attrs:{\"id\":\"signeesChart\"}})])])],1):_c('v-row',[_c('v-col',{attrs:{\"md\":\"12\"}},[_c('p',{staticClass:\"flow-text\",class:{\n                    'white--text': _vm.$store.getters.getTheme,\n                  }},[_vm._v(\" Ei tuloksia, viel... \")])])],1)],1):_vm._e(),(_vm.competition)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-row',[_c('v-col',[_c('h3',{class:{\n                      'white--text': _vm.$store.getters.getTheme,\n                    }},[_vm._v(\" Kalalajien mritykset \")])])],1),_c('v-row',[_c('v-col',{staticClass:\"scroll_table\"},[_c('table',{staticClass:\"highlight centered responsive-table table_header\",class:{\n                      'white--text': _vm.$store.getters.getTheme,\n                    },attrs:{\"id\":\"fish-weights-table\"}},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Kalalaji\")]),_c('th',[_vm._v(\"Pistekerroin\")]),_c('th',[_vm._v(\"Alamitta\")]),_c('th',[_vm._v(\"Punnittu\")])])]),_c('tbody',[_vm._l((_vm.calculated_fish_weights),function(fish,index){return _c('tr',{key:index},[_c('th',{staticStyle:{\"border\":\"1px solid black\"},attrs:{\"scope\":\"row\"}},[_vm._v(\" \"+_vm._s(fish.name)+\" \")]),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_vm._v(\" x \"+_vm._s(fish.multiplier)+\" \")]),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_vm._v(\" \"+_vm._s(fish.minsize)+\" cm \")]),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_vm._v(\" \"+_vm._s(fish.weights ? Math.round( (fish.weights / 1000 + Number.EPSILON) * 100 ) / 100 : 0)+\" kg \")])])}),_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}}),_c('th'),_c('th',{staticStyle:{\"border\":\"1px solid black\"}},[_vm._v(\" Saalista yhteens \")]),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(_vm._s(Math.round( (_vm.calculated_total_weights / 1000 + Number.EPSILON) * 100 ) / 100)+\" kg\")])])])],2)])])],1),_c('v-row',[_c('v-col',[_c('h3',{class:{\n                      'white--text': _vm.$store.getters.getTheme,\n                    }},[_vm._v(\" Yleisi tilastoja \")])])],1),_c('v-row',[_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('table',{staticClass:\"centered responsive-table highlight\",class:{\n                      'white--text': _vm.$store.getters.getTheme,\n                    },attrs:{\"id\":\"misc-table\"}},[_c('tr',[_c('th',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"Cup pistekerroin\")])]),_c('td',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"x \"+_vm._s(_vm.competition.cup_points_multiplier))])])]),_c('tr',[_c('th',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"Ilmoittautuneita yhteens\")])]),_c('td',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(_vm._s(_vm.signees.length))]),_vm._v(\" venett \")])]),_c('tr',[_c('th',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"Saalista saaneita\")])]),(_vm.$store.getters.getPointSignees.length)?_c('td',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(_vm._s(Math.round( (_vm.$store.getters.getPointSignees.length / _vm.competition.signees.length) * 100 * 100 ) / 100)+\"% (\"+_vm._s(_vm.$store.getters.getPointSignees.length)+\" / \"+_vm._s(_vm.signees.length)+\")\")])]):_c('td',{staticClass:\"center-align\",staticStyle:{\"border\":\"1px solid black\"}},[_c('b',[_vm._v(\"0% (0/0)\")])])])])])],1)],1)],1):_vm._e()],1),_c('v-tab-item',{class:{\n            inputarea: !_vm.$store.getters.getTheme,\n            'inputarea-dark': _vm.$store.getters.getTheme,\n          },attrs:{\"value\":'normal-competition'}},[_c('v-row',[_c('v-col',{staticStyle:{\"padding-top\":\"50px\",\"padding-bottom\":\"20px\"},attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-row',[_c('v-col',{attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"label\":\"Valitse nytettvt tulokset\",\"outlined\":\"\",\"items\":_vm.normal_options},on:{\"input\":_vm.switchNormalResults},model:{value:(_vm.selected_normal),callback:function ($$v) {_vm.selected_normal=$$v},expression:\"selected_normal\"}})],1),(\n                    _vm.normal_points.length ||\n                      (_vm.signees.length &&\n                        _vm.selected_normal === 'Ilmoittautuneet')\n                  )?_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading_competition},on:{\"click\":function($event){_vm.saveAsPDF(\n                        (\"Normaalikilpailun tulokset (\" + _vm.selected_normal + \")\"),\n                        '#normal-table'\n                      )}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf \")])],1):_vm._e()],1),(\n                  _vm.normal_points.length ||\n                    (_vm.signees.length && _vm.selected_normal === 'Ilmoittautuneet')\n                )?_c('v-row',{staticClass:\"row\"},[_c('v-col',{attrs:{\"md\":\"12\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Normaalikilpailu (\"+_vm._s(_vm.selected_normal)+\") \")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.results,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"item.placement\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.placement)}},[_vm._v(_vm._s(item.placement)+\".\")])]}},(_vm.selected_normal === 'Ilmoittautuneet')?{key:\"item.boat_number\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.boat_number))])]}}:null,{key:\"item.total_points\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.total_points.toLocaleString())+\" p\")])]}},{key:\"item.cup_points_total\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":_vm.getColorPoints(item.cup_points_total)}},[_vm._v(_vm._s(item.cup_points_total))])]}}],null,true)})],1)],1)],1):_c('v-row',[(!_vm.loading)?_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n                      'white--text': _vm.$store.getters.getTheme,\n                    }},[_vm._v(\" Ei tuloksia, viel... \")])]):_c('v-col',[_c('h2',{class:{\n                      'white--text': _vm.$store.getters.getTheme,\n                    }},[_vm._v(\" Pivitetn tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1)],1)],1)],1)],1),(_vm.isTeamCompetition)?_c('v-tab-item',{class:{\n            inputarea: !_vm.$store.getters.getTheme,\n            'inputarea-dark': _vm.$store.getters.getTheme,\n          },attrs:{\"value\":'team-competition'}},[(_vm.team_results.length)?_c('v-row',[_c('v-col',{staticStyle:{\"padding-top\":\"50px\"},attrs:{\"md\":\"3\",\"offset-md\":\"8\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading_competition},on:{\"click\":function($event){return _vm.saveAsPDF(\"Tiimikilpailun tulokset\", '#team-table')}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf \")])],1)],1):_vm._e(),_c('v-row',[(_vm.team_results.length)?_c('v-col',{staticStyle:{\"padding-bottom\":\"20px\"},attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\",class:{\n                      'white--text': _vm.$store.getters.getTheme,\n                    }},[_vm._v(\" Tiimikilpailu \")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search_team),callback:function ($$v) {_vm.search_team=$$v},expression:\"search_team\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.team_headers,\"items\":_vm.team_results,\"search\":_vm.search_team},scopedSlots:_vm._u([{key:\"item.placement\",fn:function(ref){\n                    var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.placement)}},[_vm._v(_vm._s(item.placement)+\".\")])]}},{key:\"item.points\",fn:function(ref){\n                    var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.points.toLocaleString())+\" p\")])]}}],null,true)})],1)],1):_c('v-col',[(!_vm.loading)?_c('v-col'):_vm._e(),(!_vm.loading)?_c('p',{staticClass:\"flow-text\",class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ei tuloksia, viel... \")]):_c('v-col',[_c('h2',{class:{\n                    'white--text': _vm.$store.getters.getTheme,\n                  }},[_vm._v(\" Pivitetn tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1)],1)],1)],1):_vm._e(),_c('v-tab-item',{class:{\n            inputarea: !_vm.$store.getters.getTheme,\n            'inputarea-dark': _vm.$store.getters.getTheme,\n          },attrs:{\"value\":'biggest-fishes'}},[_c('v-row',{staticStyle:{\"padding-top\":\"50px\"}},[_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"label\":\"Valitse nytettvt tulokset\",\"outlined\":\"\",\"items\":_vm.fish_names},on:{\"input\":_vm.calculateBiggestFishes},model:{value:(_vm.selected_biggest_fish),callback:function ($$v) {_vm.selected_biggest_fish=$$v},expression:\"selected_biggest_fish\"}})],1),(_vm.biggest_fishes_results.length)?_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading_competition},on:{\"click\":function($event){_vm.saveAsPDF(\n                    (\"Suurimmat kalat (\" + _vm.selected_biggest_fish + \")\"),\n                    '#biggest-fishes-table'\n                  )}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf \")])],1):_vm._e()],1),(_vm.biggest_fishes_results.length)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-bottom\":\"40px\"},attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[(_vm.results_found_fishes)?_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Suurimmat kalat (\"+_vm._s(_vm.selected_biggest_fish)+\" \"+_vm._s(_vm.results_found_fishes)+\") \")]):_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Suurimmat kalat (\"+_vm._s(_vm.selected_biggest_fish)+\") \")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search_fishes),callback:function ($$v) {_vm.search_fishes=$$v},expression:\"search_fishes\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.biggest_fishes_headers,\"items\":_vm.biggest_fishes_results,\"search\":_vm.search_fishes},scopedSlots:_vm._u([{key:\"item.placement\",fn:function(ref){\n                  var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.placement)}},[_vm._v(_vm._s(item.placement)+\".\")])]}},{key:\"item.name\",fn:function(ref){\n                  var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.name))])]}},{key:\"item.weight\",fn:function(ref){\n                  var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.weight.toLocaleString())+\" g\")])]}}],null,true)})],1)],1)],1):_c('v-row',[(!_vm.loading)?_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ei tuloksia, viel... \")])]):_c('v-col',[_c('h2',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Pivitetn tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1)],1)],1),_c('v-tab-item',{class:{\n            inputarea: !_vm.$store.getters.getTheme,\n            'inputarea-dark': _vm.$store.getters.getTheme,\n          },attrs:{\"value\":'biggest-fish-amounts'}},[_c('v-row',{staticStyle:{\"padding-top\":\"50px\"}},[_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"label\":\"Valitse nytettvt tulokset\",\"outlined\":\"\",\"items\":_vm.fish_amount_names},on:{\"input\":_vm.calculateBiggestAmounts},model:{value:(_vm.selected_biggest_amount),callback:function ($$v) {_vm.selected_biggest_amount=$$v},expression:\"selected_biggest_amount\"}})],1),(_vm.biggest_amounts_results.length)?_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"1\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading_competition,\"disabled\":!_vm.biggest_amounts_results.length},on:{\"click\":function($event){_vm.saveAsPDF(\n                    (\"Suurimmat kalat (\" + _vm.selected_biggest_amount + \")\"),\n                    '#biggest-amounts-table'\n                  )}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf \")])],1):_vm._e()],1),(_vm.biggest_amounts_results.length)?_c('v-row',[_vm._v(\"> \"),_c('v-col',[(_vm.results_found_amounts)?_c('p',{staticClass:\"flow-text\",class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Suurimmat kalasaaliit (\"+_vm._s(_vm.selected_biggest_amount)+\" \"+_vm._s(_vm.results_found_amounts)+\") \")]):_c('p',{staticClass:\"flow-text\",class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Suurimmat kalasaaliit (\"+_vm._s(_vm.selected_biggest_amount)+\") \")])])],1):_vm._e(),(_vm.biggest_amounts_results.length)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-bottom\":\"40px\"},attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[(_vm.results_found_amounts)?_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Suurimmat kalasaaliit (\"+_vm._s(_vm.selected_biggest_amount)+\" \"+_vm._s(_vm.results_found_amounts)+\") \")]):_c('p',{staticClass:\"flow-text\"},[_vm._v(\" Suurimmat kalasaaliit (\"+_vm._s(_vm.selected_biggest_amount)+\") \")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search_amounts),callback:function ($$v) {_vm.search_amounts=$$v},expression:\"search_amounts\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.biggest_amounts_headers,\"items\":_vm.biggest_amounts_results,\"search\":_vm.search_amounts},scopedSlots:_vm._u([{key:\"item.placement\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.placement)}},[_vm._v(_vm._s(item.placement)+\".\")])]}},{key:\"item.name\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.name))])]}},{key:\"item.weight\",fn:function(ref){\n                var item = ref.item;\nreturn [_c('v-chip',[_vm._v(_vm._s(item.weight.toLocaleString())+\" g\")])]}}],null,true)})],1)],1)],1):_c('v-row',[(!_vm.loading)?_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('p',{staticClass:\"flow-text\",class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ei tuloksia, viel... \")])]):_c('v-col',{attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('h2',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Pivitetn tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1)],1)],1)],1):_c('v-row',[(!_vm.loading_competition && !_vm.loading)?_c('v-col',[_c('h2',{class:{\n              'white--text': _vm.$store.getters.getTheme,\n            }},[_vm._v(\" Kilpailua ei valittuna \")])]):_vm._e()],1),(_vm.competition)?_c('div',[(!_vm.loading_competition)?_c('v-row',[_c('v-col',[_c('v-btn',{staticClass:\"white--text\",attrs:{\"id\":\"updatebtn\",\"large\":\"\",\"tile\":\"\",\"loading\":_vm.loading_competition,\"color\":\"blue darken-4\"},on:{\"click\":function($event){return _vm.refreshCompetition(true)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"update\")]),_vm._v(\"Pivit tulokset \")])],1)],1):_c('v-row',[_c('v-col',[_c('h2',{class:{\n                'white--text': _vm.$store.getters.getTheme,\n              }},[_vm._v(\" Pivitetn tuloksia tietokannasta... \")]),_c('ProgressBarQuery')],1)],1)],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /public-results -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <v-container\r\n    style=\"margin-top:70px;margin-bottom:5px\"\r\n    v-bind:class=\"{\r\n      'container-transparent': !$store.getters.getTheme,\r\n      'container-transparent-dark': $store.getters.getTheme,\r\n    }\"\r\n  >\r\n    <MainHeader />\r\n    <v-row>\r\n      <v-col>\r\n        <v-row>\r\n          <v-col md=\"6\" offset-md=\"3\">\r\n            <h1>Kilpailujen tuloksia</h1>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col md=\"3\" offset-md=\"8\">\r\n            <router-link to=\"/public-cups\">\r\n              <v-btn large rounded color=\"blue\" class=\"white--text\">\r\n                <i class=\"material-icons left\">emoji_events</i>Cuppien tuloksia\r\n              </v-btn>\r\n            </router-link>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-if=\"competitions.length\" class=\"scroll_table\">\r\n          <v-col md=\"4\" offset-md=\"4\">\r\n            <!-- TODO add v-autocompelete, but so that it popsup the keyboad on mobile only when pressing search button? -->\r\n            <v-select\r\n              :dark=\"$store.getters.getTheme\"\r\n              :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n              v-model=\"selected_competition\"\r\n              :items=\"competitions\"\r\n              item-text=\"select\"\r\n              item-value=\"_id\"\r\n              label=\"Valitse nytettv kilpailu\"\r\n              :loading=\"loading\"\r\n              outlined\r\n              @input=\"pickCompetition\"\r\n              return-object\r\n              single-line\r\n            ></v-select>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col md=\"3\" offset-md=\"4\" style=\"margin-bottom:20px\">\r\n            <v-btn\r\n              large\r\n              tile\r\n              color=\"yellow\"\r\n              @click=\"\r\n                competition = null;\r\n                selected_competition = null;\r\n              \"\r\n              :disabled=\"!competition\"\r\n            >\r\n              <i class=\"material-icons left\">remove_circle</i>Peruuta valinta\r\n            </v-btn>\r\n          </v-col>\r\n          <v-col md=\"3\" offset-md=\"1\">\r\n            <v-dialog v-model=\"dialog\" scrollable max-width=\"300px\">\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn\r\n                  color=\"green darken-4\"\r\n                  dark\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                  large\r\n                  class=\"white--text\"\r\n                  :loading=\"loading_competition\"\r\n                  :disabled=\"!biggest_amounts_results.length || !competition\"\r\n                >\r\n                  <i class=\"material-icons left\">picture_as_pdf</i>Lataa kaikki\r\n                  tulokset\r\n                </v-btn>\r\n              </template>\r\n              <v-card :dark=\"$store.getters.getTheme\">\r\n                <v-card-title>Valitse mit lataus sislt</v-card-title>\r\n                <v-divider></v-divider>\r\n                <v-card-text style=\"height: 300px;width:100%;\">\r\n                  <v-checkbox\r\n                    v-model=\"selected_print\"\r\n                    label=\"Tilastoja\"\r\n                    :disabled=\"!biggest_amounts_results.length\"\r\n                    color=\"indigo darken-3\"\r\n                    value=\"stats\"\r\n                  ></v-checkbox>\r\n                  <v-checkbox\r\n                    v-model=\"selected_print\"\r\n                    :disabled=\"!biggest_amounts_results.length\"\r\n                    label=\"Normaalikilpailun tulokset\"\r\n                    color=\"indigo darken-3\"\r\n                    value=\"normal\"\r\n                  ></v-checkbox>\r\n                  <v-checkbox\r\n                    v-if=\"isTeamCompetition\"\r\n                    :disabled=\"!team_results.length\"\r\n                    v-model=\"selected_print\"\r\n                    label=\"Tiimikilpailun tulokset\"\r\n                    color=\"indigo darken-3\"\r\n                    value=\"team\"\r\n                  ></v-checkbox>\r\n                  <v-checkbox\r\n                    v-model=\"selected_print\"\r\n                    :disabled=\"!biggest_fishes_results.length\"\r\n                    label=\"Suurimmat yksittiset kalat\"\r\n                    color=\"indigo darken-3\"\r\n                    value=\"biggest_fishes\"\r\n                  ></v-checkbox>\r\n                  <v-checkbox\r\n                    v-model=\"selected_print\"\r\n                    :disabled=\"!biggest_amounts_results.length\"\r\n                    label=\"Suurimmat kalasaaliit\"\r\n                    color=\"indigo darken-3\"\r\n                    value=\"biggest_amounts\"\r\n                  ></v-checkbox>\r\n                  <v-checkbox\r\n                    v-model=\"selected_print\"\r\n                    :disabled=\"\r\n                      !biggest_amounts_results.length &&\r\n                        !biggest_amounts_results.length\r\n                    \"\r\n                    label=\"Suurimmat yksittiset kalat / kalasaaliit (Voittajat)\"\r\n                    color=\"indigo darken-3\"\r\n                    value=\"biggest_winners\"\r\n                  ></v-checkbox>\r\n                </v-card-text>\r\n                <v-divider></v-divider>\r\n                <v-card-actions>\r\n                  <v-col>\r\n                    <v-btn\r\n                      outlined\r\n                      color=\"red darken-4\"\r\n                      text\r\n                      @click=\"dialog = false\"\r\n                      >Sulje</v-btn\r\n                    >\r\n                  </v-col>\r\n                  <v-col>\r\n                    <v-btn\r\n                      outlined\r\n                      color=\"green darken-4\"\r\n                      text\r\n                      @click=\"choosePrints\"\r\n                      >Lataa</v-btn\r\n                    >\r\n                  </v-col>\r\n                </v-card-actions>\r\n              </v-card>\r\n            </v-dialog>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-if=\"loading\">\r\n          <v-col>\r\n            <h2\r\n              v-bind:class=\"{\r\n                'white--text': $store.getters.getTheme,\r\n              }\"\r\n            >\r\n              Haetaan kilpailuja...\r\n            </h2>\r\n            <ProgressBarQuery />\r\n          </v-col>\r\n        </v-row>\r\n        <!-- Tabs -->\r\n        <v-tabs\r\n          v-model=\"tab\"\r\n          background-color=\"blue lighten-2\"\r\n          color=\"blue darken-4\"\r\n          grow\r\n          show-arrows\r\n          next-icon=\"mdi-arrow-right-bold-box-outline\"\r\n          prev-icon=\"mdi-arrow-left-bold-box-outline\"\r\n          center-active\r\n        >\r\n          <v-tabs-slider color=\"blue darken-4\"></v-tabs-slider>\r\n          <v-tab href=\"#stats\">Tilastoja</v-tab>\r\n          <v-tab href=\"#normal-competition\" :disabled=\"!selected_competition\"\r\n            >Normaalikilpailu</v-tab\r\n          >\r\n          <v-tab\r\n            v-if=\"isTeamCompetition\"\r\n            href=\"#team-competition\"\r\n            :disabled=\"!selected_competition\"\r\n            >Tiimikilpailu</v-tab\r\n          >\r\n          <v-tab v-else href=\"#team-competition\" disabled\r\n            >Ei Tiimikilpailua</v-tab\r\n          >\r\n          <v-tab href=\"#biggest-fishes\" :disabled=\"!selected_competition\"\r\n            >Suurimmat Kalat</v-tab\r\n          >\r\n          <v-tab href=\"#biggest-fish-amounts\" :disabled=\"!selected_competition\"\r\n            >Suurimmat Kalasaaliit</v-tab\r\n          >\r\n        </v-tabs>\r\n\r\n        <v-tabs-items\r\n          v-model=\"tab\"\r\n          style=\"background: rgba(0,0,0,0.4);\"\r\n          v-if=\"!loading && selected_competition\"\r\n        >\r\n          <!-- Tilastoja -->\r\n          <v-tab-item\r\n            v-bind:class=\"{\r\n              inputarea: !$store.getters.getTheme,\r\n              'inputarea-dark': $store.getters.getTheme,\r\n            }\"\r\n            :value=\"'stats'\"\r\n          >\r\n            <!-- Save as pdf button, is disabled if there are no results -->\r\n            <v-row style=\"padding-top:50px\">\r\n              <v-col md=\"3\" offset-md=\"8\">\r\n                <v-btn\r\n                  large\r\n                  tile\r\n                  color=\"green darken-4\"\r\n                  class=\"white--text\"\r\n                  @click=\"saveStatsAsPDF(`Tilastoja`)\"\r\n                  :disabled=\"!biggest_amounts_results.length\"\r\n                  style=\"margin-bottom:20px\"\r\n                  ><i class=\"material-icons left\">picture_as_pdf</i>Lataa\r\n                  pdf</v-btn\r\n                >\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"competition\">\r\n              <v-row\r\n                style=\"min-height:400px;\"\r\n                v-if=\"competition.normal_points.length\"\r\n              >\r\n                <v-col\r\n                  md=\"6\"\r\n                  class=\"d-flex align-content-start\"\r\n                  style=\"margin-bottom:50px;\"\r\n                >\r\n                  <div\r\n                    class=\"chart-container\"\r\n                    style=\"position: relative; height:30vh; width:60vw\"\r\n                  >\r\n                    <canvas id=\"fishesChart\"></canvas>\r\n                  </div>\r\n                </v-col>\r\n                <v-col md=\"6\" class=\"d-flex align-content-start\">\r\n                  <div\r\n                    class=\"chart-container\"\r\n                    style=\"position: relative; height:30vh; width:60vw\"\r\n                  >\r\n                    <canvas id=\"signeesChart\"></canvas>\r\n                  </div>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-else>\r\n                <v-col md=\"12\">\r\n                  <p\r\n                    class=\"flow-text\"\r\n                    v-bind:class=\"{\r\n                      'white--text': $store.getters.getTheme,\r\n                    }\"\r\n                  >\r\n                    Ei tuloksia, viel...\r\n                  </p>\r\n                </v-col>\r\n              </v-row>\r\n            </v-row>\r\n            <v-row v-if=\"competition\">\r\n              <v-col md=\"8\" offset-md=\"2\">\r\n                <v-row>\r\n                  <v-col>\r\n                    <h3\r\n                      v-bind:class=\"{\r\n                        'white--text': $store.getters.getTheme,\r\n                      }\"\r\n                    >\r\n                      Kalalajien mritykset\r\n                    </h3>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col class=\"scroll_table\">\r\n                    <table\r\n                      id=\"fish-weights-table\"\r\n                      class=\"highlight centered responsive-table table_header\"\r\n                      v-bind:class=\"{\r\n                        'white--text': $store.getters.getTheme,\r\n                      }\"\r\n                    >\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Kalalaji</th>\r\n                          <th>Pistekerroin</th>\r\n                          <th>Alamitta</th>\r\n                          <th>Punnittu</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr\r\n                          v-for=\"(fish, index) in calculated_fish_weights\"\r\n                          :key=\"index\"\r\n                        >\r\n                          <th style=\"border:1px solid black;\" scope=\"row\">\r\n                            {{ fish.name }}\r\n                          </th>\r\n                          <td style=\"border:1px solid black;\">\r\n                            x {{ fish.multiplier }}\r\n                          </td>\r\n                          <td style=\"border:1px solid black;\">\r\n                            {{ fish.minsize }} cm\r\n                          </td>\r\n                          <td style=\"border:1px solid black;\">\r\n                            {{\r\n                              fish.weights\r\n                                ? Math.round(\r\n                                    (fish.weights / 1000 + Number.EPSILON) * 100\r\n                                  ) / 100\r\n                                : 0\r\n                            }}\r\n                            kg\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th scope=\"row\"></th>\r\n                          <th></th>\r\n                          <th style=\"border:1px solid black;\">\r\n                            Saalista yhteens\r\n                          </th>\r\n                          <td style=\"border:1px solid black;\">\r\n                            <b\r\n                              >{{\r\n                                Math.round(\r\n                                  (calculated_total_weights / 1000 +\r\n                                    Number.EPSILON) *\r\n                                    100\r\n                                ) / 100\r\n                              }}\r\n                              kg</b\r\n                            >\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </v-col>\r\n                </v-row>\r\n\r\n                <v-row>\r\n                  <v-col>\r\n                    <h3\r\n                      v-bind:class=\"{\r\n                        'white--text': $store.getters.getTheme,\r\n                      }\"\r\n                    >\r\n                      Yleisi tilastoja\r\n                    </h3>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col md=\"10\" offset-md=\"1\">\r\n                    <table\r\n                      id=\"misc-table\"\r\n                      class=\"centered responsive-table highlight\"\r\n                      v-bind:class=\"{\r\n                        'white--text': $store.getters.getTheme,\r\n                      }\"\r\n                    >\r\n                      <tr>\r\n                        <th\r\n                          style=\"border:1px solid black;\"\r\n                          class=\"center-align\"\r\n                        >\r\n                          <b>Cup pistekerroin</b>\r\n                        </th>\r\n                        <td\r\n                          style=\"border:1px solid black;\"\r\n                          class=\"center-align\"\r\n                        >\r\n                          <b>x {{ competition.cup_points_multiplier }}</b>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th\r\n                          style=\"border:1px solid black;\"\r\n                          class=\"center-align\"\r\n                        >\r\n                          <b>Ilmoittautuneita yhteens</b>\r\n                        </th>\r\n                        <td\r\n                          style=\"border:1px solid black;\"\r\n                          class=\"center-align\"\r\n                        >\r\n                          <b>{{ signees.length }}</b> venett\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th\r\n                          style=\"border:1px solid black;\"\r\n                          class=\"center-align\"\r\n                        >\r\n                          <b>Saalista saaneita</b>\r\n                        </th>\r\n                        <td\r\n                          style=\"border:1px solid black;\"\r\n                          class=\"center-align\"\r\n                          v-if=\"$store.getters.getPointSignees.length\"\r\n                        >\r\n                          <b\r\n                            >{{\r\n                              Math.round(\r\n                                ($store.getters.getPointSignees.length /\r\n                                  competition.signees.length) *\r\n                                  100 *\r\n                                  100\r\n                              ) / 100\r\n                            }}% ({{ $store.getters.getPointSignees.length }} /\r\n                            {{ signees.length }})</b\r\n                          >\r\n                        </td>\r\n                        <td\r\n                          style=\"border:1px solid black;\"\r\n                          class=\"center-align\"\r\n                          v-else\r\n                        >\r\n                          <b>0% (0/0)</b>\r\n                        </td>\r\n                      </tr>\r\n                    </table>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n            </v-row>\r\n          </v-tab-item>\r\n          <!-- Normaalikilpailu -->\r\n          <v-tab-item\r\n            v-bind:class=\"{\r\n              inputarea: !$store.getters.getTheme,\r\n              'inputarea-dark': $store.getters.getTheme,\r\n            }\"\r\n            :value=\"'normal-competition'\"\r\n          >\r\n            <v-row>\r\n              <v-col\r\n                md=\"10\"\r\n                offset-md=\"1\"\r\n                style=\"padding-top:50px;padding-bottom:20px\"\r\n              >\r\n                <v-row>\r\n                  <v-col md=\"4\" offset-md=\"4\">\r\n                    <v-select\r\n                      :dark=\"$store.getters.getTheme\"\r\n                      :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n                      label=\"Valitse nytettvt tulokset\"\r\n                      outlined\r\n                      :items=\"normal_options\"\r\n                      @input=\"switchNormalResults\"\r\n                      v-model=\"selected_normal\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col\r\n                    v-if=\"\r\n                      normal_points.length ||\r\n                        (signees.length &&\r\n                          selected_normal === 'Ilmoittautuneet')\r\n                    \"\r\n                    md=\"3\"\r\n                    offset-md=\"1\"\r\n                  >\r\n                    <v-btn\r\n                      large\r\n                      tile\r\n                      color=\"green darken-4\"\r\n                      class=\"white--text\"\r\n                      :loading=\"loading_competition\"\r\n                      @click=\"\r\n                        saveAsPDF(\r\n                          `Normaalikilpailun tulokset (${selected_normal})`,\r\n                          '#normal-table'\r\n                        )\r\n                      \"\r\n                    >\r\n                      <i class=\"material-icons left\">picture_as_pdf</i>Lataa pdf\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row\r\n                  class=\"row\"\r\n                  v-if=\"\r\n                    normal_points.length ||\r\n                      (signees.length && selected_normal === 'Ilmoittautuneet')\r\n                  \"\r\n                >\r\n                  <v-col md=\"12\">\r\n                    <v-card :dark=\"$store.getters.getTheme\">\r\n                      <v-card-title>\r\n                        <p class=\"flow-text\">\r\n                          Normaalikilpailu ({{ selected_normal }})\r\n                        </p>\r\n                        <v-spacer></v-spacer>\r\n                        <v-text-field\r\n                          v-model=\"search\"\r\n                          append-icon=\"mdi-magnify\"\r\n                          label=\"Hae kilpailijaa\"\r\n                          single-line\r\n                          hide-details\r\n                        ></v-text-field>\r\n                      </v-card-title>\r\n                      <v-data-table\r\n                        :headers=\"headers\"\r\n                        :items=\"results\"\r\n                        :search=\"search\"\r\n                      >\r\n                        <template v-slot:[`item.placement`]=\"{ item }\">\r\n                          <v-chip\r\n                            :outlined=\"$store.getters.getTheme\"\r\n                            :color=\"getColor(item.placement)\"\r\n                            >{{ item.placement }}.</v-chip\r\n                          >\r\n                        </template>\r\n                        <template\r\n                          v-if=\"selected_normal === 'Ilmoittautuneet'\"\r\n                          v-slot:[`item.boat_number`]=\"{ item }\"\r\n                        >\r\n                          <v-chip>{{ item.boat_number }}</v-chip>\r\n                        </template>\r\n                        <template v-slot:[`item.total_points`]=\"{ item }\">\r\n                          <v-chip\r\n                            >{{ item.total_points.toLocaleString() }} p</v-chip\r\n                          >\r\n                        </template>\r\n                        <template v-slot:[`item.cup_points_total`]=\"{ item }\">\r\n                          <v-chip\r\n                            :color=\"getColorPoints(item.cup_points_total)\"\r\n                            >{{ item.cup_points_total }}</v-chip\r\n                          >\r\n                        </template>\r\n                      </v-data-table>\r\n                    </v-card>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row v-else>\r\n                  <v-col v-if=\"!loading\">\r\n                    <p\r\n                      class=\"flow-text\"\r\n                      v-bind:class=\"{\r\n                        'white--text': $store.getters.getTheme,\r\n                      }\"\r\n                    >\r\n                      Ei tuloksia, viel...\r\n                    </p>\r\n                  </v-col>\r\n                  <v-col v-else>\r\n                    <h2\r\n                      v-bind:class=\"{\r\n                        'white--text': $store.getters.getTheme,\r\n                      }\"\r\n                    >\r\n                      Pivitetn tuloksia tietokannasta...\r\n                    </h2>\r\n                    <ProgressBarQuery />\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n            </v-row>\r\n          </v-tab-item>\r\n\r\n          <!-- Tiimikilpailu -->\r\n          <v-tab-item\r\n            v-bind:class=\"{\r\n              inputarea: !$store.getters.getTheme,\r\n              'inputarea-dark': $store.getters.getTheme,\r\n            }\"\r\n            :value=\"'team-competition'\"\r\n            v-if=\"isTeamCompetition\"\r\n          >\r\n            <v-row v-if=\"team_results.length\">\r\n              <v-col style=\"padding-top:50px;\" md=\"3\" offset-md=\"8\">\r\n                <v-btn\r\n                  large\r\n                  tile\r\n                  color=\"green darken-4\"\r\n                  class=\"white--text\"\r\n                  :loading=\"loading_competition\"\r\n                  @click=\"saveAsPDF(`Tiimikilpailun tulokset`, '#team-table')\"\r\n                >\r\n                  <i class=\"material-icons left\">picture_as_pdf</i>Lataa pdf\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col\r\n                md=\"10\"\r\n                offset-md=\"1\"\r\n                style=\"padding-bottom:20px\"\r\n                v-if=\"team_results.length\"\r\n              >\r\n                <v-card :dark=\"$store.getters.getTheme\">\r\n                  <v-card-title>\r\n                    <p\r\n                      class=\"flow-text\"\r\n                      v-bind:class=\"{\r\n                        'white--text': $store.getters.getTheme,\r\n                      }\"\r\n                    >\r\n                      Tiimikilpailu\r\n                    </p>\r\n                    <v-spacer></v-spacer>\r\n                    <v-text-field\r\n                      v-model=\"search_team\"\r\n                      append-icon=\"mdi-magnify\"\r\n                      label=\"Hae kilpailijaa\"\r\n                      single-line\r\n                      hide-details\r\n                    ></v-text-field>\r\n                  </v-card-title>\r\n                  <v-data-table\r\n                    :headers=\"team_headers\"\r\n                    :items=\"team_results\"\r\n                    :search=\"search_team\"\r\n                  >\r\n                    <template v-slot:[`item.placement`]=\"{ item }\">\r\n                      <v-chip\r\n                        :outlined=\"$store.getters.getTheme\"\r\n                        :color=\"getColor(item.placement)\"\r\n                        >{{ item.placement }}.</v-chip\r\n                      >\r\n                    </template>\r\n                    <template v-slot:[`item.points`]=\"{ item }\">\r\n                      <v-chip>{{ item.points.toLocaleString() }} p</v-chip>\r\n                    </template>\r\n                  </v-data-table>\r\n                </v-card>\r\n              </v-col>\r\n              <v-col v-else>\r\n                <v-col v-if=\"!loading\"> </v-col>\r\n                <p\r\n                  v-if=\"!loading\"\r\n                  class=\"flow-text\"\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ei tuloksia, viel...\r\n                </p>\r\n                <v-col v-else>\r\n                  <h2\r\n                    v-bind:class=\"{\r\n                      'white--text': $store.getters.getTheme,\r\n                    }\"\r\n                  >\r\n                    Pivitetn tuloksia tietokannasta...\r\n                  </h2>\r\n                  <ProgressBarQuery />\r\n                </v-col>\r\n              </v-col>\r\n            </v-row>\r\n          </v-tab-item>\r\n\r\n          <!-- Suurimmat kalat -->\r\n          <v-tab-item\r\n            v-bind:class=\"{\r\n              inputarea: !$store.getters.getTheme,\r\n              'inputarea-dark': $store.getters.getTheme,\r\n            }\"\r\n            :value=\"'biggest-fishes'\"\r\n          >\r\n            <v-row style=\"padding-top:50px\">\r\n              <v-col md=\"3\" offset-md=\"4\">\r\n                <v-select\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n                  label=\"Valitse nytettvt tulokset\"\r\n                  outlined\r\n                  @input=\"calculateBiggestFishes\"\r\n                  v-model=\"selected_biggest_fish\"\r\n                  :items=\"fish_names\"\r\n                />\r\n              </v-col>\r\n              <v-col md=\"3\" offset-md=\"1\" v-if=\"biggest_fishes_results.length\">\r\n                <v-btn\r\n                  large\r\n                  tile\r\n                  color=\"green darken-4\"\r\n                  class=\"white--text\"\r\n                  :loading=\"loading_competition\"\r\n                  @click=\"\r\n                    saveAsPDF(\r\n                      `Suurimmat kalat (${selected_biggest_fish})`,\r\n                      '#biggest-fishes-table'\r\n                    )\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons left\">picture_as_pdf</i>Lataa pdf\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"biggest_fishes_results.length\">\r\n              <v-col md=\"10\" offset-md=\"1\" style=\"margin-bottom:40px\">\r\n                <v-card :dark=\"$store.getters.getTheme\">\r\n                  <v-card-title>\r\n                    <p v-if=\"results_found_fishes\" class=\"flow-text\">\r\n                      Suurimmat kalat ({{ selected_biggest_fish }}\r\n                      {{ results_found_fishes }})\r\n                    </p>\r\n                    <p v-else class=\"flow-text\">\r\n                      Suurimmat kalat ({{ selected_biggest_fish }})\r\n                    </p>\r\n                    <v-spacer></v-spacer>\r\n                    <v-text-field\r\n                      v-model=\"search_fishes\"\r\n                      append-icon=\"mdi-magnify\"\r\n                      label=\"Hae kilpailijaa\"\r\n                      single-line\r\n                      hide-details\r\n                    ></v-text-field>\r\n                  </v-card-title>\r\n                  <v-data-table\r\n                    :headers=\"biggest_fishes_headers\"\r\n                    :items=\"biggest_fishes_results\"\r\n                    :search=\"search_fishes\"\r\n                  >\r\n                    <template v-slot:[`item.placement`]=\"{ item }\">\r\n                      <v-chip\r\n                        :outlined=\"$store.getters.getTheme\"\r\n                        :color=\"getColor(item.placement)\"\r\n                        >{{ item.placement }}.</v-chip\r\n                      >\r\n                    </template>\r\n                    <template v-slot:[`item.name`]=\"{ item }\">\r\n                      <v-chip>{{ item.name }}</v-chip>\r\n                    </template>\r\n                    <template v-slot:[`item.weight`]=\"{ item }\">\r\n                      <v-chip>{{ item.weight.toLocaleString() }} g</v-chip>\r\n                    </template>\r\n                  </v-data-table>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col v-if=\"!loading\">\r\n                <p\r\n                  class=\"flow-text\"\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ei tuloksia, viel...\r\n                </p>\r\n              </v-col>\r\n              <v-col v-else>\r\n                <h2\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Pivitetn tuloksia tietokannasta...\r\n                </h2>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-row>\r\n          </v-tab-item>\r\n\r\n          <!-- Suurimmat kalasaaliit -->\r\n          <v-tab-item\r\n            v-bind:class=\"{\r\n              inputarea: !$store.getters.getTheme,\r\n              'inputarea-dark': $store.getters.getTheme,\r\n            }\"\r\n            :value=\"'biggest-fish-amounts'\"\r\n          >\r\n            <v-row style=\"padding-top:50px\">\r\n              <v-col md=\"3\" offset-md=\"4\">\r\n                <v-select\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n                  label=\"Valitse nytettvt tulokset\"\r\n                  outlined\r\n                  @input=\"calculateBiggestAmounts\"\r\n                  v-model=\"selected_biggest_amount\"\r\n                  :items=\"fish_amount_names\"\r\n                />\r\n              </v-col>\r\n              <v-col md=\"3\" offset-md=\"1\" v-if=\"biggest_amounts_results.length\">\r\n                <v-btn\r\n                  large\r\n                  tile\r\n                  color=\"green darken-4\"\r\n                  class=\"white--text\"\r\n                  :loading=\"loading_competition\"\r\n                  @click=\"\r\n                    saveAsPDF(\r\n                      `Suurimmat kalat (${selected_biggest_amount})`,\r\n                      '#biggest-amounts-table'\r\n                    )\r\n                  \"\r\n                  :disabled=\"!biggest_amounts_results.length\"\r\n                >\r\n                  <i class=\"material-icons left\">picture_as_pdf</i>Lataa pdf\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"biggest_amounts_results.length\"\r\n              >>\r\n              <v-col>\r\n                <p\r\n                  v-if=\"results_found_amounts\"\r\n                  class=\"flow-text\"\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Suurimmat kalasaaliit ({{ selected_biggest_amount }}\r\n                  {{ results_found_amounts }})\r\n                </p>\r\n                <p\r\n                  v-else\r\n                  class=\"flow-text\"\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Suurimmat kalasaaliit ({{ selected_biggest_amount }})\r\n                </p>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"biggest_amounts_results.length\">\r\n              <v-col md=\"10\" offset-md=\"1\" style=\"margin-bottom:40px\">\r\n                <v-card :dark=\"$store.getters.getTheme\">\r\n                  <v-card-title>\r\n                    <p v-if=\"results_found_amounts\" class=\"flow-text\">\r\n                      Suurimmat kalasaaliit ({{ selected_biggest_amount }}\r\n                      {{ results_found_amounts }})\r\n                    </p>\r\n                    <p v-else class=\"flow-text\">\r\n                      Suurimmat kalasaaliit ({{ selected_biggest_amount }})\r\n                    </p>\r\n                    <v-spacer></v-spacer>\r\n                    <v-text-field\r\n                      v-model=\"search_amounts\"\r\n                      append-icon=\"mdi-magnify\"\r\n                      label=\"Hae kilpailijaa\"\r\n                      single-line\r\n                      hide-details\r\n                    ></v-text-field>\r\n                  </v-card-title>\r\n                  <v-data-table\r\n                    :headers=\"biggest_amounts_headers\"\r\n                    :items=\"biggest_amounts_results\"\r\n                    :search=\"search_amounts\"\r\n                  >\r\n                    <template v-slot:[`item.placement`]=\"{ item }\">\r\n                      <v-chip\r\n                        :outlined=\"$store.getters.getTheme\"\r\n                        :color=\"getColor(item.placement)\"\r\n                        >{{ item.placement }}.</v-chip\r\n                      >\r\n                    </template>\r\n                    <template v-slot:[`item.name`]=\"{ item }\">\r\n                      <v-chip>{{ item.name }}</v-chip>\r\n                    </template>\r\n                    <template v-slot:[`item.weight`]=\"{ item }\">\r\n                      <v-chip>{{ item.weight.toLocaleString() }} g</v-chip>\r\n                    </template>\r\n                  </v-data-table>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col v-if=\"!loading\" md=\"8\" offset-md=\"2\">\r\n                <p\r\n                  class=\"flow-text\"\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ei tuloksia, viel...\r\n                </p>\r\n              </v-col>\r\n              <v-col v-else md=\"8\" offset-md=\"2\">\r\n                <h2\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Pivitetn tuloksia tietokannasta...\r\n                </h2>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-row>\r\n          </v-tab-item>\r\n        </v-tabs-items>\r\n        <v-row v-else>\r\n          <v-col v-if=\"!loading_competition && !loading\">\r\n            <h2\r\n              v-bind:class=\"{\r\n                'white--text': $store.getters.getTheme,\r\n              }\"\r\n            >\r\n              Kilpailua ei valittuna\r\n            </h2>\r\n          </v-col>\r\n        </v-row>\r\n        <div v-if=\"competition\">\r\n          <v-row v-if=\"!loading_competition\">\r\n            <v-col>\r\n              <v-btn\r\n                id=\"updatebtn\"\r\n                large\r\n                tile\r\n                :loading=\"loading_competition\"\r\n                color=\"blue darken-4\"\r\n                @click=\"refreshCompetition(true)\"\r\n                class=\"white--text\"\r\n              >\r\n                <i class=\"material-icons left\">update</i>Pivit tulokset\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-else>\r\n            <v-col>\r\n              <h2\r\n                v-bind:class=\"{\r\n                  'white--text': $store.getters.getTheme,\r\n                }\"\r\n              >\r\n                Pivitetn tuloksia tietokannasta...\r\n              </h2>\r\n              <ProgressBarQuery />\r\n            </v-col>\r\n          </v-row>\r\n        </div>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n<script>\r\n\"use strict\";\r\nimport MainHeader from \"../components/layout/MainHeader\";\r\nimport M from \"materialize-css\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport ProgressBarQuery from \"../components/layout/ProgressBarQuery\";\r\nimport Chart from \"chart.js\";\r\nimport \"chartjs-plugin-labels\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n\r\nexport default {\r\n  name: \"PublicResults\",\r\n  components: {\r\n    ProgressBarQuery,\r\n    MainHeader,\r\n  },\r\n  data() {\r\n    return {\r\n      competitions: [],\r\n      competition: null,\r\n      selected_competition: null,\r\n      loading: false,\r\n      loading_competition: false,\r\n      tab: null,\r\n      signees: [],\r\n      fish_names: [],\r\n      fish_amount_names: [],\r\n      table_fish_names: [],\r\n      results: [],\r\n      normal_points: [],\r\n      normal_weights: [],\r\n      team_results: [],\r\n      biggest_fishes: {},\r\n      biggest_fishes_results: [],\r\n      selected_biggest_fish: null,\r\n      biggest_amounts: {},\r\n      biggest_amounts_results: [],\r\n      selected_biggest_amount: null,\r\n      results_found_fishes: \"\",\r\n      results_found_amounts: \"\",\r\n      isTeamCompetition: true,\r\n      calculated_total_weights: null,\r\n      calculated_fish_weights: null,\r\n      selected_normal: null,\r\n      fishes_chart: null,\r\n      signees_chart: null,\r\n      normal_options: [\"Pisteet\", \"Kalat\", \"Ilmoittautuneet\"],\r\n      headers: [],\r\n      biggest_fishes_headers: [],\r\n      biggest_amounts_headers: [],\r\n      normal_headers: [\r\n        { text: \"Sijoitus\", value: \"placement\" },\r\n        { text: \"Kilp. numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Varakippari\", value: \"temp_captain_name\" },\r\n        { text: \"Paikkakunta\", value: \"locality\" },\r\n        { text: \"Tulos\", value: \"total_points\" },\r\n        { text: \"Cup sij. pisteet\", value: \"cup_placement_points\" },\r\n        { text: \"Cup osal. pisteet\", value: \"cup_participation_points\" },\r\n        { text: \"Yht.\", value: \"cup_points_total\" },\r\n      ],\r\n      signee_headers: [],\r\n      team_headers: [\r\n        { text: \"Sijoitus\", value: \"placement\" },\r\n        { text: \"Tiimi\", value: \"name\" },\r\n        { text: \"Jsen 1\", value: \"captain_name_1\" },\r\n        { text: \"Jsen 2\", value: \"captain_name_2\" },\r\n        { text: \"Jsen 3\", value: \"captain_name_3\" },\r\n        { text: \"Pisteet\", value: \"points\" },\r\n      ],\r\n      winner_headers: [\r\n        { text: \"Kalalaji\", value: \"name\" },\r\n        { text: \"Kilp. numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Paino\", value: \"weight\" },\r\n      ],\r\n      biggest_headers: [\r\n        { text: \"Sijoitus\", value: \"placement\" },\r\n        { text: \"Kilp. numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Paino\", value: \"weight\" },\r\n      ],\r\n      search: \"\",\r\n      search_team: \"\",\r\n      search_fishes: \"\",\r\n      search_amounts: \"\",\r\n      selected_print: [],\r\n      dialog: false,\r\n    };\r\n  },\r\n  async mounted() {\r\n    //Init materialize elements\r\n    M.AutoInit();\r\n    /* eslint-disable no-unused-vars */\r\n\r\n    try {\r\n      this.loading = true;\r\n      // Query competitions that are public\r\n      const query = { isPublic: true };\r\n      this.competitions = await CompetitionService.getCompetitions(query);\r\n      if (this.competitions.length) {\r\n        this.competitions.forEach((competition) => {\r\n          competition.start_date = this.$moment(competition.start_date);\r\n          competition.end_date = this.$moment(competition.end_date);\r\n          competition.select = `${\r\n            competition.name\r\n          }, ${competition.start_date.year()}  (${competition.cup_name})`;\r\n        });\r\n        // Sort them based on start_date so the oldest competitions are the last\r\n        this.competitions.sort((a, b) => {\r\n          return b.start_date.isAfter(a.start_date);\r\n        });\r\n        // Update to vuex, Assing variables and arrays from vuex (see client/store/index.js)\r\n        this.$store.commit(\"refreshCompetition\", this.competition);\r\n        this.refreshCompetition(false);\r\n      } else {\r\n        this.signees = [];\r\n        this.biggest_fishes = [];\r\n        this.biggest_amounts = [];\r\n      }\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n    this.loading = false;\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n  },\r\n  methods: {\r\n    getColor(placement) {\r\n      if (placement > 30) return \"red\";\r\n      if (placement > 20) return \"orange\";\r\n      else if (placement > 5) return \"yellow\";\r\n      else return \"green\";\r\n    },\r\n    getColorPoints(points) {\r\n      if (points > 5) return \"primary darken-2\";\r\n      else return \"red\";\r\n    },\r\n    // Close dialog, print all the chosen tables to pdf\r\n    choosePrints: function() {\r\n      // Close dialog\r\n      this.dialog = false;\r\n      // Move to printing\r\n      this.saveAllAsPDF(this.tab);\r\n    },\r\n    // Fetch competition from database, and update all the arrays\r\n    async refreshCompetition(reload) {\r\n      if (this.competition) {\r\n        this.loading_competition = true;\r\n        // Load from database\r\n        if (reload) {\r\n          //Get competition from database (check 'client\\src\\CompetitionService.js' and 'server\\routes\\api\\competition.js' to see how this works)\r\n          let competition = await CompetitionService.getCompetitions({\r\n            _id: this.competition._id,\r\n          });\r\n          // IF competition found from database\r\n          if (competition) {\r\n            // Returns an array, get first result (there shouldn't be more than one in any case, since id's are unique)\r\n            //TODO make a test for this?\r\n            this.competition = competition;\r\n            this.$store.commit(\"refreshCompetition\", this.competition);\r\n          }\r\n        }\r\n        // Else update and calculate from picked competition\r\n        this.fish_names = []; // Fish names, including \"Voittajat\"\r\n        this.fish_amount_names = [];\r\n        this.table_fish_names = []; // only fish names\r\n        this.selected_print = [];\r\n        this.signee_headers = [\r\n          { text: \"Kilp. numero\", value: \"boat_number\" },\r\n          { text: \"Kippari\", value: \"captain_name\" },\r\n          { text: \"Varakippari\", value: \"temp_captain_name\" },\r\n          { text: \"Paikkakunta\", value: \"locality\" },\r\n          { text: \"Lhtpaikka\", value: \"starting_place\" },\r\n        ];\r\n        let placement = 1;\r\n        try {\r\n          this.isTeamCompetition = this.$store.getters.isTeamCompetition;\r\n          this.signees = this.$store.getters.getResultSignees;\r\n          this.normal_points = this.competition.normal_points;\r\n          this.normal_weights = this.competition.normal_weights;\r\n          if (this.isTeamCompetition) {\r\n            this.signee_headers.push({ text: \"Tiimi\", value: \"team\" });\r\n            this.team_results = this.competition.team_results;\r\n            let last_points = -1;\r\n            let last_placement = -1;\r\n            this.team_results.forEach((team) => {\r\n              if (last_points === team.points) {\r\n                team.placement = last_placement;\r\n              } else {\r\n                team.placement = last_placement = placement;\r\n                last_points = team.points;\r\n              }\r\n              placement++;\r\n            });\r\n          }\r\n          this.biggest_fishes = this.$store.getters.getBiggestFishes;\r\n          this.biggest_amounts = this.$store.getters.getBiggestAmounts;\r\n          this.calculated_total_weights = this.$store.getters.getCompetitionTotalWeights;\r\n          this.calculated_fish_weights = this.competition.fishes;\r\n          this.selected_normal = \"Pisteet\";\r\n          let temp_fish_names = this.$store.getters.getCompetitionFishes;\r\n          this.fish_names.push(\"Voittajat\");\r\n          this.fish_amount_names.push(\"Voittajat\");\r\n          temp_fish_names.forEach((fish) => {\r\n            this.fish_names.push(fish.name);\r\n            this.fish_amount_names.push(fish.name);\r\n            this.table_fish_names.push(fish.name);\r\n          });\r\n          this.calculateAll();\r\n\r\n          if (this.fishes_chart && this.signees_chart) {\r\n            this.fishes_chart.destroy();\r\n            this.signees_chart.destroy();\r\n          }\r\n          this.$nextTick(() => this.drawCharts(this.tab));\r\n\r\n          if (this.normal_points.length) {\r\n            this.results = this.normal_points;\r\n            this.headers = this.normal_headers;\r\n          } else {\r\n            this.results = this.$store.getters.getSignees;\r\n            this.headers = this.signee_headers;\r\n            this.selected_normal = \"Ilmoittautuneet\";\r\n          }\r\n          if (reload) {\r\n            M.toast({ html: \"Tiedot ajantasalla!\" });\r\n          }\r\n        } catch (err) {\r\n          console.error(err);\r\n        }\r\n\r\n        this.loading_competition = false;\r\n      }\r\n    },\r\n    pickCompetition: function() {\r\n      this.$store.commit(\"refreshCompetition\", this.selected_competition);\r\n      this.competition = this.selected_competition;\r\n      this.refreshCompetition(false);\r\n    },\r\n    // Parse data, define charts, draw them\r\n    drawCharts: function(tab) {\r\n      let current_tab = tab;\r\n      let temp_weights = [];\r\n      let colors = [];\r\n\r\n      // Get fish weights, and color from array for fishesChart\r\n      this.calculated_fish_weights.forEach((fish) => {\r\n        temp_weights.push(fish.weights);\r\n        colors.push(fish.color);\r\n      });\r\n\r\n      // Get data for signeesChart (total signees, and signees who have more than 0 points)\r\n      let signee_data = [];\r\n      let point_signees = this.$store.getters.getPointSignees.length;\r\n      let no_points_signees = this.signees.length - point_signees;\r\n      signee_data.push(point_signees);\r\n      signee_data.push(no_points_signees);\r\n\r\n      // Define fishesChart\r\n      const fishes_chart_data = {\r\n        type: \"doughnut\",\r\n        data: {\r\n          labels: this.table_fish_names, // Fish names\r\n          datasets: [\r\n            {\r\n              label: \"Paino (g)\",\r\n              backgroundColor: colors, // Colors\r\n              data: temp_weights, // Weights\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          maintainAspectRatio: true,\r\n          responsive: true,\r\n          plugins: {\r\n            labels: {\r\n              // convert grams to kilograms and add \"kg\" to end of the label\r\n              render: function(args) {\r\n                return (\r\n                  ((args.value / (1000 + Number.EPSILON)) * 100) / 100 + \" kg\"\r\n                );\r\n              },\r\n              // Other options\r\n              fontSize: 14,\r\n              fontStyle: \"bold\",\r\n              // draw text shadows under labels, default is false\r\n              textShadow: true,\r\n              position: \"border\",\r\n              textmargin: 1,\r\n\r\n              fontColor: \"#000\",\r\n              fontFamily: '\"Lucida Console\", Monaco, monospace',\r\n            },\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: \"Kaloja saatu yhteens\",\r\n            fontSize: 28,\r\n            fontColor: this.$store.getters.getTheme ? \"white\" : \"black\",\r\n          },\r\n        },\r\n      };\r\n\r\n      // Define signeesChart\r\n      const signee_chart_data = {\r\n        type: \"pie\",\r\n        data: {\r\n          labels: [\"Kyll\", \"Ei saalista\"],\r\n          datasets: [\r\n            {\r\n              label: \"Lukumr (kpl)\",\r\n              backgroundColor: [\"#7fbf7f\", \"#ff7f7f\"], // Green and red\r\n              data: signee_data, // Data\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          maintainAspectRatio: true,\r\n          responsive: true,\r\n          plugins: {\r\n            labels: {\r\n              render: \"percentage\",\r\n              fontSize: 26,\r\n              fontStyle: \"bold\",\r\n              fontColor: \"#000\",\r\n              fontFamily: '\"Lucida Console\", Monaco, monospace',\r\n              precision: 2,\r\n            },\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: \"Saalista saaneita\",\r\n            fontSize: 28,\r\n            fontColor: this.$store.getters.getTheme ? \"white\" : \"black\",\r\n          },\r\n        },\r\n      };\r\n      /* eslint-disable no-unused-vars */\r\n      // Draw the charts to canvas\r\n      let charts_drawn = true;\r\n      try {\r\n        var fishes_ctx = document\r\n          .getElementById(\"fishesChart\")\r\n          .getContext(\"2d\");\r\n        var signees_ctx = document\r\n          .getElementById(\"signeesChart\")\r\n          .getContext(\"2d\");\r\n      } catch (error) {\r\n        this.tab = \"stats\";\r\n        charts_drawn = false;\r\n        if (this.competition.normal_points.length) {\r\n          setTimeout(() => this.drawCharts(current_tab), 1000);\r\n          M.toast({ html: \"Piirretn kaaviot...\" });\r\n        } else {\r\n          M.toast({\r\n            html: \"Ei tuloksia viel, joten ei voida piirt kaavioita...\",\r\n          });\r\n        }\r\n      }\r\n\r\n      /* eslint-disable no-unused-vars */\r\n      if (charts_drawn) {\r\n        this.fishes_chart = new Chart(fishes_ctx, fishes_chart_data);\r\n        this.signees_chart = new Chart(signees_ctx, signee_chart_data);\r\n        this.tab = current_tab;\r\n        M.toast({\r\n          html: \"Kaaviot piirretty!\",\r\n        });\r\n      }\r\n    },\r\n    //Check if user is logged in has admin status, update values to vuex (Header.vue updates based on these values)\r\n    checkLogin: function() {\r\n      // If login token present --> user is logged in\r\n      if (localStorage.getItem(\"jwt\") != null) {\r\n        this.$store.state.logged_in = true;\r\n        let user = JSON.parse(localStorage.getItem(\"user\"));\r\n        // Check if user is admin\r\n        //TODO safer way to check this than use localstorage?\r\n        user.is_admin == true\r\n          ? (this.$store.state.is_admin = true)\r\n          : (this.$store.state.is_admin = false);\r\n      } else {\r\n        //Not logger in, so not admin either\r\n        this.$store.state.logged_in = false;\r\n        this.$store.state.is_admin = false;\r\n      }\r\n    },\r\n\r\n    // \"Wrapper\" to calculate all the results at once\r\n    async calculateAll() {\r\n      this.calculateBiggestFishes();\r\n      this.calculateBiggestAmounts();\r\n    },\r\n\r\n    // Switch table headers and columns based on this.selected_normal value (v-select)\r\n    switchNormalResults: function() {\r\n      // Prevent v-select having no value, would show error\r\n      if (!this.selected_normal) {\r\n        this.selected_normal = \"Pisteet\";\r\n      }\r\n      // If \"Pisteet\" selected in v-select, update headers and this.results (table data)\r\n      if (this.selected_normal === \"Pisteet\") {\r\n        this.headers = this.normal_headers;\r\n        this.results = this.normal_points;\r\n      }\r\n      // If \"Kalat\" selected in v-select, update headers and this.results (table data)\r\n      if (this.selected_normal === \"Kalat\") {\r\n        (this.headers = [\r\n          { text: \"Sijoitus\", value: \"placement\" },\r\n          { text: \"Kilp. numero\", value: \"boat_number\" },\r\n          { text: \"Kippari\", value: \"captain_name\" },\r\n        ]),\r\n          (this.results = this.normal_weights);\r\n        // Get fish names and add them to headers\r\n        this.table_fish_names.forEach((name) => {\r\n          this.headers.push({ text: name, value: name });\r\n        });\r\n        this.headers.push({ text: \"Tulos\", value: \"total_points\" });\r\n      }\r\n      if (this.selected_normal === \"Ilmoittautuneet\") {\r\n        this.headers = this.signee_headers;\r\n        this.results = this.$store.getters.getSignees;\r\n      }\r\n    },\r\n    // Sorts the dictionary based on weights\r\n    sortDict: function(fishes) {\r\n      if (fishes) {\r\n        let all_results = [];\r\n        let temp_results = [];\r\n        let placement = 1;\r\n        this.fish_names.forEach((name) => {\r\n          // If fish name is not \"Voittajat\"\r\n          if (name !== \"Voittajat\") {\r\n            // For every fish name, sort the array\r\n            if (fishes[name]) {\r\n              temp_results = fishes[name].sort(function compare(a, b) {\r\n                return parseInt(b.weight) - parseInt(a.weight);\r\n              });\r\n              fishes[name] = temp_results.filter((result) => result.weight > 0);\r\n              // Now it's sorted so first element is fine for \"voittajat\" table\r\n              if (fishes[name].length) {\r\n                all_results.push({\r\n                  name: name,\r\n                  boat_number: temp_results[0].boat_number,\r\n                  captain_name: temp_results[0].captain_name,\r\n                  weight: temp_results[0].weight.toLocaleString(),\r\n                });\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        return fishes, all_results;\r\n      } else {\r\n        return {}, [];\r\n      }\r\n    },\r\n    // Calculate \"Suurimmat Kalat\"\r\n    calculateBiggestFishes: function() {\r\n      let fishes = this.biggest_fishes;\r\n      let placement = 1;\r\n      this.results_found_fishes = null;\r\n\r\n      // Check v-select value, don't allow it to go null because it shows error\r\n      if (!this.selected_biggest_fish) {\r\n        this.selected_biggest_fish = \"Voittajat\";\r\n      }\r\n      if (this.selected_biggest_fish === \"Voittajat\") {\r\n        this.biggest_fishes_headers = this.winner_headers;\r\n        this.biggest_fishes,\r\n          (this.biggest_fishes_results = this.sortDict(fishes));\r\n      } else {\r\n        // If v-select (this.selected_biggest_fish) not \"Voittajat\", get fish related results and sort them\r\n        // based on the v-select fish name\r\n        let fish_results = [];\r\n        this.biggest_fishes_headers = this.biggest_headers;\r\n        if (fishes[this.selected_biggest_fish]) {\r\n          fish_results = fishes[this.selected_biggest_fish].sort(\r\n            function compare(a, b) {\r\n              return parseInt(b.weight) - parseInt(a.weight);\r\n            }\r\n          );\r\n          this.results_found_amounts = \"\";\r\n        } else {\r\n          this.results_found_fishes = \"- Ei tuloksia\";\r\n        }\r\n        let last_weight = -1;\r\n        let last_placement = -1;\r\n        this.biggest_fishes_results = fish_results;\r\n        this.biggest_fishes_results.forEach((result) => {\r\n          if (last_weight === result.weight) {\r\n            result.placement = last_placement;\r\n          } else {\r\n            result.placement = last_placement = placement;\r\n            last_weight = result.weight;\r\n          }\r\n          placement++;\r\n        });\r\n      }\r\n    },\r\n    // Calculate \"Suurimmat kalasaaliit\", works exactly like the calculateBiggestFishes\r\n    //TODO make these 2 to one function\r\n    calculateBiggestAmounts: function() {\r\n      let fishes = this.biggest_amounts;\r\n      let placement = 1;\r\n      this.results_found_amount = \"\";\r\n      if (!this.selected_biggest_amount) {\r\n        this.selected_biggest_amount = \"Voittajat\";\r\n      }\r\n      if (this.selected_biggest_amount === \"Voittajat\") {\r\n        this.biggest_amounts_headers = this.winner_headers;\r\n        this.biggest_amounts,\r\n          (this.biggest_amounts_results = this.sortDict(fishes));\r\n      } else {\r\n        this.biggest_amounts_headers = this.biggest_headers;\r\n        let fish_results = [];\r\n        if (fishes[this.selected_biggest_amount]) {\r\n          fish_results = fishes[this.selected_biggest_amount].sort(\r\n            function compare(a, b) {\r\n              return parseInt(b.weight) - parseInt(a.weight);\r\n            }\r\n          );\r\n          fish_results = fish_results.filter(\r\n            (result) => parseInt(result.weight) > 0\r\n          );\r\n          this.results_found_amounts = \"\";\r\n        } else {\r\n          this.results_found_amount = \"- Ei tuloksia\";\r\n        }\r\n        let last_weight = -1;\r\n        let last_placement = -1;\r\n        this.biggest_amounts_results = fish_results;\r\n        this.biggest_amounts_results.forEach((result) => {\r\n          if (last_weight === result.weight) {\r\n            result.placement = last_placement;\r\n          } else {\r\n            result.placement = last_placement = placement;\r\n            last_weight = result.weight;\r\n          }\r\n          placement++;\r\n        });\r\n      }\r\n    },\r\n    // For naming the pdf, replace certain characters\r\n    replaceAll: function(string, search, replace) {\r\n      return string.split(search).join(replace);\r\n    },\r\n    // Parses dictionary/json to array, for pdf autotables\r\n    dictToArray: function(dict, type) {\r\n      const temp_arr = Object.entries(dict);\r\n      const arr = [];\r\n      temp_arr.forEach((element) => {\r\n        let values = Object.values(element[1]);\r\n        // Normaalikilpailu, pisteet\r\n        if (type === 1) {\r\n          values[0] = String(values[0]) + \".\";\r\n          values[1] = \"(\" + String(values[1]) + \")\";\r\n          values[5] = values[5].toLocaleString() + \" p\";\r\n        }\r\n        // Normaalikilpailu, kalat\r\n        if (type === 2) {\r\n          values[0] = String(values[0]) + \".\";\r\n          values[1] = \"(\" + String(values[1]) + \")\";\r\n          for (let i of range(3, values.length - 2)) {\r\n            if (parseInt(values[i]) > 0) {\r\n              values[i] = values[i].toLocaleString() + \" g\";\r\n            } else {\r\n              values[i] = \"-\";\r\n            }\r\n          }\r\n          values[values.length - 1] =\r\n            values[values.length - 1].toLocaleString() + \" p\";\r\n        }\r\n        // Suurimmat kalat, suurimmat kalasaaliit\r\n        if (type === 3) {\r\n          let temp_placement = values[3];\r\n          let temp_bnumber = values[0];\r\n          let temp_captain = values[1];\r\n          let temp_points = values[2].toLocaleString() + \" g\";\r\n          values[0] = String(temp_placement) + \".\";\r\n          values[1] = \"(\" + String(temp_bnumber) + \")\";\r\n          values[2] = temp_captain;\r\n          values[3] = temp_points;\r\n        }\r\n        //Voittajat\r\n        if (type === 4) {\r\n          values[1] = \"(\" + String(values[1]) + \")\";\r\n          values[3] = values[values.length - 1].toLocaleString() + \" g\";\r\n        }\r\n        //Tiimikilpailu\r\n        if (type === 5) {\r\n          let place = values[5];\r\n          let team = values[0];\r\n          let captain_1 = values[1];\r\n          let captain_2 = values[2];\r\n          let captain_3 = values[3];\r\n          let points = values[4];\r\n          values[0] = String(place) + \".\";\r\n          values[1] = team;\r\n          values[2] = captain_1;\r\n          values[3] = captain_2;\r\n          values[4] = captain_3;\r\n          values[5] = points.toLocaleString() + \" p\";\r\n        }\r\n        //Normaalikilpailu, Ilmoittautuneet\r\n        if (type === 6) {\r\n          let b_number = values[1];\r\n          let captain = values[3];\r\n          let temp_captain = values[4];\r\n          let startin_place = values[2];\r\n          let locality = values[5];\r\n          let team = values[6];\r\n          values[0] = \"(\" + String(b_number) + \")\";\r\n          values[1] = captain;\r\n          values[2] = temp_captain;\r\n          values[3] = startin_place;\r\n          values[4] = locality;\r\n          values[5] = team;\r\n        }\r\n        arr.push(values);\r\n      });\r\n      return arr;\r\n    },\r\n    // Returns date in format dd/mm/yyyy as string\r\n    formatDate: function(start_date) {\r\n      start_date = this.$moment(start_date);\r\n      let formatted_date = `${start_date.date()}.${start_date.month() +\r\n        1}.${start_date.year()}`;\r\n\r\n      return formatted_date;\r\n    },\r\n    // Capitalize all the words in given string. Takes account all the characters like \"-\", \"'\" etc.\r\n    capitalize_words: function(str) {\r\n      return str.replace(\r\n        /(?:^|\\s|['`.-])[^\\x60^\\x7B-\\xDF](?!(\\s|$))/g,\r\n        function(txt) {\r\n          return txt.toUpperCase();\r\n        }\r\n      );\r\n    },\r\n    // Convert the charts and the tables to pdf\r\n    saveAsPDF: function(competition_type, table_id) {\r\n      this.onbeforeprint();\r\n      // Format dates for easier reding\r\n      let temp_start_date = this.formatDate(this.competition.start_date);\r\n      let temp_end_date = this.formatDate(this.competition.end_date);\r\n      let rows;\r\n      let columns;\r\n      let pdf_competition_type;\r\n      // PDF creation\r\n      let doc = new jsPDF();\r\n      // Title\r\n      const title = `${this.competition.name}`;\r\n      const date =\r\n        temp_start_date === temp_end_date\r\n          ? String(temp_start_date)\r\n          : `${temp_start_date} - ${temp_end_date}`;\r\n      const time = `${date}, Klo. ${this.competition.start_time} - ${this.competition.end_time}`;\r\n      doc.setFontSize(24);\r\n      doc.text(10, 10, title, { align: \"left\" });\r\n      doc.setFontSize(14);\r\n      doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n      doc.text(10, 30, time, { align: \"left\" });\r\n      doc.line(0, 35, 400, 35);\r\n      doc.setFontSize(20);\r\n\r\n      if (table_id === \"#normal-table\") {\r\n        pdf_competition_type = `Normaalikilpailu${this.selected_normal}`;\r\n        // Other tables are generated in code so no need to wait for rendering to html\r\n        if (this.selected_normal === \"Pisteet\") {\r\n          columns = [\r\n            \"Sijoitus\",\r\n            \"Nro.\",\r\n            \"Kippari\",\r\n            \"Varakippari\",\r\n            \"Paikkakunta\",\r\n            \"Tulos\",\r\n            \"Sij. pisteet\",\r\n            \"Osal. pisteet\",\r\n            \"Yht.\",\r\n          ];\r\n          // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n          rows = this.dictToArray(this.normal_points, 1);\r\n        }\r\n        if (this.selected_normal === \"Kalat\") {\r\n          columns = [\"Sijoitus\", \"Nro.\", \"Kippari\"];\r\n          // Get fish names for columns\r\n          this.table_fish_names.forEach((name) => {\r\n            columns.push(name);\r\n          });\r\n          columns.push(\"Tulos\");\r\n          // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n          rows = this.dictToArray(this.normal_weights, 2);\r\n        }\r\n        if (this.selected_normal === \"Ilmoittautuneet\") {\r\n          columns = [\r\n            \"Kilp. numero\",\r\n            \"Kippari\",\r\n            \"Varakippari\",\r\n            \"Paikkakunta\",\r\n            \"Lhtpaikka\",\r\n          ];\r\n          if (this.isTeamCompetition) {\r\n            columns.push(\"Tiimi\");\r\n          }\r\n          // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n          rows = this.dictToArray(this.$store.getters.getSignees, 6);\r\n        }\r\n      }\r\n\r\n      if (table_id === \"#team-table\") {\r\n        pdf_competition_type = `Tiimikilpailu`;\r\n        // Other tables are generated in code so no need to wait for rendering to html\r\n        columns = [\r\n          \"Sijoitus\",\r\n          \"Tiimi\",\r\n          \"Jsen 1\",\r\n          \"Jsen 2\",\r\n          \"Jsen 3\",\r\n          \"Pisteet\",\r\n        ];\r\n        // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n        rows = this.dictToArray(this.team_results, 5);\r\n      }\r\n\r\n      if (table_id === \"#biggest-fishes-table\") {\r\n        pdf_competition_type = `SuurimmatKalat${this.selected_biggest_fish}`;\r\n\r\n        if (this.selected_biggest_fish === \"Voittajat\") {\r\n          columns = [\"Kalalaji\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n          rows = this.dictToArray(this.biggest_fishes_results, 4);\r\n        } else {\r\n          columns = [\"Sijoitus\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n          rows = this.dictToArray(this.biggest_fishes_results, 3);\r\n        }\r\n      }\r\n\r\n      if (table_id === \"#biggest-amounts-table\") {\r\n        pdf_competition_type = `SuurimmatSaaliit${this.selected_biggest_amount}`;\r\n\r\n        if (this.selected_biggest_amount === \"Voittajat\") {\r\n          columns = [\"Kalalaji\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n          rows = this.dictToArray(this.biggest_amounts_results, 4);\r\n        } else {\r\n          columns = [\"Sijoitus\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n          rows = this.dictToArray(this.biggest_amounts_results, 3);\r\n        }\r\n      }\r\n\r\n      // Table, based on given table_id, and table title based on competition_type\r\n      doc.text(100, 50, competition_type, { align: \"center\" });\r\n      doc.autoTable({\r\n        head: [columns],\r\n        body: rows,\r\n        styles: {\r\n          overflow: \"linebreak\",\r\n          cellWidth: \"wrap\",\r\n          rowPageBreak: \"avoid\",\r\n          halign: \"justify\",\r\n          fontSize: \"8\",\r\n          lineColor: \"100\",\r\n          lineWidth: \".25\",\r\n        },\r\n        columnStyles: { text: { cellwidth: \"auto\" } },\r\n        theme: \"striped\",\r\n        pageBreak: \"auto\",\r\n        tableWidth: \"auto\",\r\n        startY: 55,\r\n        margin: { top: 20 },\r\n      });\r\n\r\n      // Save the pdf\r\n      doc.save(\r\n        `${this.$moment(this.competition.start_date).year()}_${this.replaceAll(\r\n          this.competition.name,\r\n          \" \",\r\n          \"\"\r\n        )}_${pdf_competition_type}.pdf`\r\n      );\r\n      this.onafterprint();\r\n    },\r\n    saveStatsAsPDF: function(competition_type) {\r\n      this.onbeforeprint();\r\n      // Format dates for easier reding\r\n      let temp_start_date = this.formatDate(this.competition.start_date);\r\n      let temp_end_date = this.formatDate(this.competition.end_date);\r\n\r\n      let doc = new jsPDF();\r\n\r\n      // Title\r\n      const title = `${this.competition.name}`;\r\n      const date =\r\n        temp_start_date === temp_end_date\r\n          ? String(temp_start_date)\r\n          : `${temp_start_date} - ${temp_end_date}`;\r\n      const time = `${date}, Klo. ${this.competition.start_time} - ${this.competition.end_time}`;\r\n      doc.setFontSize(24);\r\n      doc.text(10, 10, title, { align: \"left\" });\r\n      doc.setFontSize(14);\r\n      doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n      doc.text(10, 30, time, { align: \"left\" });\r\n      doc.line(0, 35, 400, 35);\r\n      doc.setFontSize(18);\r\n\r\n      // \"Tilastot\"\r\n      // Resize charts to be better looking on a pdf\r\n      var fishesImg = document\r\n        .getElementById(\"fishesChart\")\r\n        .toDataURL(\"image/png\", 1.0);\r\n      var signeeImg = document\r\n        .getElementById(\"signeesChart\")\r\n        .toDataURL(\"image/png\", 1.0);\r\n      doc.addImage(fishesImg, \"PNG\", -30, 40, 180, 90);\r\n      doc.addImage(signeeImg, \"PNG\", 70, 40, 180, 90);\r\n      doc.text(100, 145, \"Kalalajien mritykset\", { align: \"center\" });\r\n      // Table straight from html\r\n      doc.autoTable({\r\n        html: \"#fish-weights-table\",\r\n        styles: {\r\n          overflow: \"linebreak\",\r\n          cellWidth: \"wrap\",\r\n          rowPageBreak: \"avoid\",\r\n          halign: \"justify\",\r\n          fontSize: \"8\",\r\n          lineColor: \"100\",\r\n          lineWidth: \".25\",\r\n        },\r\n        columnStyles: { text: { cellwidth: \"auto\" } },\r\n        theme: \"striped\",\r\n        pageBreak: \"auto\",\r\n        tableWidth: \"auto\",\r\n        startY: 150,\r\n        margin: { top: 20 },\r\n      });\r\n\r\n      doc.text(100, doc.autoTable.previous.finalY + 20, \"Yleisi tilastoja\", {\r\n        align: \"center\",\r\n      });\r\n      doc.autoTable({\r\n        html: \"#misc-table\",\r\n        styles: {\r\n          overflow: \"linebreak\",\r\n          cellWidth: \"wrap\",\r\n          rowPageBreak: \"avoid\",\r\n          halign: \"justify\",\r\n          fontSize: \"8\",\r\n          lineColor: \"100\",\r\n          lineWidth: \".25\",\r\n        },\r\n        columnStyles: { text: { cellwidth: \"auto\" } },\r\n        theme: \"striped\",\r\n        pageBreak: \"auto\",\r\n        tableWidth: \"auto\",\r\n        margin: { top: 20 },\r\n        startY: doc.autoTable.previous.finalY + 25,\r\n      });\r\n\r\n      // Set charts to be responsive again\r\n\r\n      // Save to pdf\r\n      doc.save(\r\n        `${this.$moment(this.competition.start_date).year()}_${this.replaceAll(\r\n          this.competition.name,\r\n          \" \",\r\n          \"\"\r\n        )}_${this.replaceAll(\r\n          this.capitalize_words(competition_type),\r\n          \" \",\r\n          \"\"\r\n        )}.pdf`\r\n      );\r\n      this.onafterprint();\r\n    },\r\n    // Saves all the chosen tables to pdf\r\n    saveAllAsPDF: function(tab) {\r\n      this.onbeforeprint();\r\n      let current_tab = tab;\r\n      let charts_loaded = true;\r\n      let temp_selected_biggest_fish = this.selected_biggest_fish;\r\n      let temp_selected_biggest_amount = this.selected_biggest_amount;\r\n      let temp_selected_normal = this.selected_normal;\r\n      // Format dates for easier reding\r\n      let temp_start_date = this.formatDate(this.competition.start_date);\r\n      let temp_end_date = this.formatDate(this.competition.end_date);\r\n      let year = this.$moment(this.competition.start_date).year();\r\n\r\n      let doc = new jsPDF();\r\n\r\n      // Title\r\n      const title = `${this.competition.name}`;\r\n      const date =\r\n        temp_start_date === temp_end_date\r\n          ? String(temp_start_date)\r\n          : `${temp_start_date} - ${temp_end_date}`;\r\n      const time = `${date}, Klo. ${this.competition.start_time} - ${this.competition.end_time}`;\r\n      doc.setFontSize(24);\r\n      doc.text(10, 10, title, { align: \"left\" });\r\n      doc.setFontSize(14);\r\n      doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n      doc.text(10, 30, time, { align: \"left\" });\r\n      doc.line(0, 35, 400, 35);\r\n      doc.setFontSize(18);\r\n      // start_coord needed to keep track of y coordinates for tables (if there are no results -> no table drawn to pdf -> varying coordinates)\r\n      let start_coord;\r\n      let rows;\r\n      let columns;\r\n      //Normaalikilpailu (Pisteet), saved to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"normal\")) {\r\n        // Other tables are generated in code so no need to wait for rendering to html\r\n        columns = [\r\n          \"Sijoitus\",\r\n          \"Nro.\",\r\n          \"Kippari\",\r\n          \"Varakippari\",\r\n          \"Paikkakunta\",\r\n          \"Tulos\",\r\n          \"Sij. pisteet\",\r\n          \"Osal. pisteet\",\r\n          \"Yht.\",\r\n        ];\r\n        // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n        rows = this.dictToArray(this.normal_points, 1);\r\n        doc.text(100, 50, \"Normaalikilpailun tulokset (Pisteet)\", {\r\n          align: \"center\",\r\n        });\r\n        // Table generated in code\r\n        doc.autoTable({\r\n          head: [columns],\r\n          body: rows,\r\n          styles: {\r\n            overflow: \"linebreak\",\r\n            cellWidth: \"wrap\",\r\n            rowPageBreak: \"avoid\",\r\n            halign: \"justify\",\r\n            fontSize: \"8\",\r\n            lineColor: \"100\",\r\n            lineWidth: \".25\",\r\n          },\r\n          columnStyles: { text: { cellwidth: \"auto\" } },\r\n          theme: \"striped\",\r\n          pageBreak: \"auto\",\r\n          tableWidth: \"auto\",\r\n          startY: 55,\r\n          margin: { top: 20 },\r\n        });\r\n\r\n        //Normaalikilpailu (Kalat)\r\n        doc.addPage();\r\n        columns = [\"Sijoitus\", \"Nro.\", \"Kippari\"];\r\n        // Get fish names for columns\r\n        this.table_fish_names.forEach((name) => {\r\n          columns.push(name);\r\n        });\r\n        columns.push(\"Tulos\");\r\n\r\n        rows = this.dictToArray(this.normal_weights, 2);\r\n        doc.text(100, 10, \"Normaalikilpailun tulokset (Kalat)\", {\r\n          align: \"center\",\r\n        });\r\n        // Table generated in code\r\n        doc.autoTable({\r\n          head: [columns],\r\n          body: rows,\r\n          styles: {\r\n            overflow: \"linebreak\",\r\n            cellWidth: \"wrap\",\r\n            rowPageBreak: \"avoid\",\r\n            halign: \"justify\",\r\n            fontSize: \"8\",\r\n            lineColor: \"100\",\r\n            lineWidth: \".25\",\r\n          },\r\n          columnStyles: { text: { cellwidth: \"auto\" } },\r\n          theme: \"striped\",\r\n          pageBreak: \"auto\",\r\n          tableWidth: \"auto\",\r\n          margin: { top: 20 },\r\n          startY: 20,\r\n        });\r\n      }\r\n\r\n      // Tiimikilpailu, drawn to pdf if it exists and , if it's inclued in this.selected_print array\r\n      if (this.isTeamCompetition && this.selected_print.includes(\"team\")) {\r\n        // If there is \"Normaalikilpailun tulokset\" selected also, start from new page\r\n        if (this.selected_print.includes(\"normal\")) {\r\n          doc.addPage();\r\n        }\r\n        doc.setFontSize(24);\r\n        doc.text(10, 10, title, { align: \"left\" });\r\n        doc.setFontSize(14);\r\n        doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n        doc.text(10, 30, time, { align: \"left\" });\r\n        doc.line(0, 35, 400, 35);\r\n        doc.setFontSize(18);\r\n        doc.text(100, 50, \"Tiimikilpailun tulokset\", { align: \"center\" });\r\n        // Add results, if there are any\r\n        if (this.team_results.length) {\r\n          // Other tables are generated in code so no need to wait for rendering to html\r\n          columns = [\r\n            \"Sijoitus\",\r\n            \"Tiimi\",\r\n            \"Jsen 1\",\r\n            \"Jsen 2\",\r\n            \"Jsen 3\",\r\n            \"Pisteet\",\r\n          ];\r\n          // Format dictionary/json to format that autotable understands (arrays in arrays);\r\n          rows = this.dictToArray(this.normal_points, 1);\r\n          //TODO generate table in code instead of html, like the others\r\n          doc.autoTable({\r\n            head: [columns],\r\n            body: rows,\r\n            styles: {\r\n              overflow: \"linebreak\",\r\n              cellWidth: \"wrap\",\r\n              rowPageBreak: \"avoid\",\r\n              halign: \"justify\",\r\n              fontSize: \"8\",\r\n              lineColor: \"100\",\r\n              lineWidth: \".25\",\r\n            },\r\n            columnStyles: { text: { cellwidth: \"auto\" } },\r\n            theme: \"striped\",\r\n            pageBreak: \"auto\",\r\n            tableWidth: \"auto\",\r\n            margin: { top: 20 },\r\n            startY: 55,\r\n          });\r\n        }\r\n      }\r\n\r\n      //\"Suurimmat kalat\" to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"biggest_fishes\")) {\r\n        // If there is content before, start from new page\r\n        if (\r\n          this.selected_print.includes(\"normal\") ||\r\n          this.selected_print.includes(\"team\")\r\n        ) {\r\n          doc.addPage();\r\n        }\r\n        let counter = 0;\r\n        // For each fish, generate tables for \"Suurimmat Kalat (Kala)\" and \"Suurimmat Kalasaaliit (Kala)\"\r\n        this.table_fish_names.forEach((name) => {\r\n          // Same process as above, but for every fish instead of only winners\r\n          this.selected_biggest_fish = name;\r\n          this.calculateBiggestFishes();\r\n          start_coord = 10;\r\n\r\n          if (this.biggest_fishes_results.length) {\r\n            // So it doesn't add unnecessary page on the first loop\r\n            if (counter > 0) {\r\n              doc.addPage();\r\n            }\r\n            doc.setFontSize(24);\r\n            doc.text(10, 10, title, { align: \"left\" });\r\n            doc.setFontSize(14);\r\n            doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n            doc.text(10, 30, time, { align: \"left\" });\r\n            doc.line(0, 35, 400, 35);\r\n            doc.setFontSize(18);\r\n            start_coord = 50;\r\n\r\n            columns = [\"Sijoitus\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n            rows = this.dictToArray(this.biggest_fishes_results, 3);\r\n\r\n            doc.text(100, start_coord, \"Suurimmat kalat\" + ` (${name})`, {\r\n              align: \"center\",\r\n            });\r\n\r\n            doc.autoTable({\r\n              head: [columns],\r\n              body: rows,\r\n              styles: {\r\n                overflow: \"linebreak\",\r\n                cellWidth: \"wrap\",\r\n                rowPageBreak: \"avoid\",\r\n                halign: \"justify\",\r\n                fontSize: \"8\",\r\n                lineColor: \"100\",\r\n                lineWidth: \".25\",\r\n              },\r\n              columnStyles: { text: { cellwidth: \"auto\" } },\r\n              theme: \"striped\",\r\n              pageBreak: \"auto\",\r\n              tableWidth: \"auto\",\r\n              margin: { top: 20 },\r\n              startY: start_coord + 5,\r\n            });\r\n            counter++;\r\n          }\r\n        });\r\n      }\r\n\r\n      // Suurimmat kalasaaliit to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"biggest_amounts\")) {\r\n        // If there is content before, start from new page\r\n        if (\r\n          this.selected_print.includes(\"normal\") ||\r\n          this.selected_print.includes(\"team\") ||\r\n          this.selected_print.includes(\"biggest_fishes\")\r\n        ) {\r\n          doc.addPage();\r\n        }\r\n        let counter = 0;\r\n        columns = [\"Sijoitus\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n        this.table_fish_names.forEach((name) => {\r\n          this.selected_biggest_amount = name;\r\n          this.calculateBiggestAmounts();\r\n          start_coord = 10;\r\n\r\n          if (this.biggest_amounts[name].length) {\r\n            // So it doesn't add unnecessary page on the first loop\r\n            if (counter > 0) {\r\n              doc.addPage();\r\n            }\r\n            doc.setFontSize(24);\r\n            doc.text(10, 10, title, { align: \"left\" });\r\n            doc.setFontSize(14);\r\n            doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n            doc.text(10, 30, time, { align: \"left\" });\r\n            doc.line(0, 35, 400, 35);\r\n            doc.setFontSize(18);\r\n            start_coord = 50;\r\n            columns = [\"Sijoitus\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n            rows = this.dictToArray(this.biggest_amounts[name], 3);\r\n            doc.text(100, start_coord, \"Suurimmat kalasaaliit\" + ` (${name})`, {\r\n              align: \"center\",\r\n            });\r\n\r\n            doc.autoTable({\r\n              head: [columns],\r\n              body: rows,\r\n              styles: {\r\n                overflow: \"linebreak\",\r\n                cellWidth: \"wrap\",\r\n                rowPageBreak: \"avoid\",\r\n                halign: \"justify\",\r\n                fontSize: \"8\",\r\n                lineColor: \"100\",\r\n                lineWidth: \".25\",\r\n              },\r\n              columnStyles: { text: { cellwidth: \"auto\" } },\r\n              theme: \"striped\",\r\n              pageBreak: \"auto\",\r\n              tableWidth: \"auto\",\r\n              startY: start_coord + 5,\r\n            });\r\n            counter++;\r\n          }\r\n        });\r\n      }\r\n\r\n      // \"Suurimmat Kalat (Voittajat) / Suurimmat kalasaaliit (Voittajat)\"\" to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"biggest_winners\")) {\r\n        // If there is content before, start from new page\r\n        if (\r\n          this.selected_print.includes(\"normal\") ||\r\n          this.selected_print.includes(\"team\") ||\r\n          this.selected_print.includes(\"biggest_fishes\") ||\r\n          this.selected_print.includes(\"biggest_amounts\")\r\n        ) {\r\n          doc.addPage();\r\n        }\r\n        // Suurimmat Kalat  (Voittajat)\r\n        // Select these for calculations\r\n        this.selected_biggest_fish = this.selected_biggest_amount = \"Voittajat\";\r\n        columns = [\"Kalalaji\", \"Veneen nro\", \"Kippari\", \"Paino\"];\r\n        // Calculate data\r\n        this.calculateBiggestFishes();\r\n        this.calculateBiggestAmounts();\r\n        // If there are any results, add title\r\n        if (\r\n          this.biggest_fishes_results.length ||\r\n          this.biggest_amounts_results.length\r\n        ) {\r\n          doc.setFontSize(24);\r\n          doc.text(10, 10, title, { align: \"left\" });\r\n          doc.setFontSize(14);\r\n          doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n          doc.text(10, 30, time, { align: \"left\" });\r\n          doc.line(0, 35, 400, 35);\r\n          doc.setFontSize(18);\r\n        }\r\n\r\n        // If there are biggest fishes\r\n        if (this.biggest_fishes_results.length) {\r\n          rows = this.dictToArray(this.biggest_fishes_results, 4);\r\n          doc.text(\r\n            100,\r\n            50,\r\n            \"Suurimmat kalat\" + ` (${this.selected_biggest_fish})`,\r\n            { align: \"center\" }\r\n          );\r\n          // Table generated in code\r\n          doc.autoTable({\r\n            head: [columns],\r\n            body: rows,\r\n            styles: {\r\n              overflow: \"linebreak\",\r\n              cellWidth: \"wrap\",\r\n              rowPageBreak: \"avoid\",\r\n              halign: \"justify\",\r\n              fontSize: \"8\",\r\n              lineColor: \"100\",\r\n              lineWidth: \".25\",\r\n            },\r\n            columnStyles: { text: { cellwidth: \"auto\" } },\r\n            theme: \"striped\",\r\n            pageBreak: \"auto\",\r\n            tableWidth: \"auto\",\r\n            margin: { top: 20 },\r\n            startY: 55,\r\n          });\r\n          // Keep track of y coordinate\r\n          start_coord = doc.autoTable.previous.finalY + 25;\r\n        } else {\r\n          // If no biggest fishes, biggest amounts table starts from 50 instead\r\n          start_coord = 50;\r\n        }\r\n\r\n        //Suurimmat kalasaaliit (Voittajat)\r\n        // If there are any amounts --> if someone has gotten any fish\r\n        if (this.biggest_amounts_results.length) {\r\n          rows = this.dictToArray(this.biggest_amounts_results, 4);\r\n          doc.text(\r\n            100,\r\n            start_coord,\r\n            \"Suurimmat kalasaaliit\" + ` (${this.selected_biggest_fish})`,\r\n            { align: \"center\" }\r\n          );\r\n          // Table generated in code\r\n          doc.autoTable({\r\n            head: [columns],\r\n            body: rows,\r\n            styles: {\r\n              overflow: \"linebreak\",\r\n              cellWidth: \"wrap\",\r\n              rowPageBreak: \"avoid\",\r\n              halign: \"justify\",\r\n              fontSize: \"8\",\r\n              lineColor: \"100\",\r\n              lineWidth: \".25\",\r\n            },\r\n            columnStyles: { text: { cellwidth: \"auto\" } },\r\n            theme: \"striped\",\r\n            pageBreak: \"auto\",\r\n            tableWidth: \"auto\",\r\n            margin: { top: 20 },\r\n            startY: start_coord + 5,\r\n          });\r\n        }\r\n      }\r\n      // \"Tilastoja\" to pdf if it's inclued in this.selected_print array\r\n      if (this.selected_print.includes(\"stats\")) {\r\n        // If there is content before, start from new page\r\n        if (\r\n          this.selected_print.includes(\"normal\") ||\r\n          this.selected_print.includes(\"team\") ||\r\n          this.selected_print.includes(\"biggest_fishes\") ||\r\n          this.selected_print.includes(\"biggest_amounts\") ||\r\n          this.selected_print.includes(\"biggest_winners\")\r\n        ) {\r\n          doc.addPage();\r\n        }\r\n        doc.setFontSize(24);\r\n        doc.text(10, 10, title, { align: \"left\" });\r\n        doc.setFontSize(14);\r\n        doc.text(10, 20, this.competition.cup_name, { align: \"left\" });\r\n        doc.text(10, 30, time, { align: \"left\" });\r\n        doc.line(0, 35, 400, 35);\r\n        doc.setFontSize(18);\r\n        // \"Tilastot\"\r\n        // Resize charts to be better looking on a pdf\r\n        var fishesImg = document\r\n          .getElementById(\"fishesChart\")\r\n          .toDataURL(\"image/png\", 1.0);\r\n        var signeeImg = document\r\n          .getElementById(\"signeesChart\")\r\n          .toDataURL(\"image/png\", 1.0);\r\n        try {\r\n          doc.addImage(fishesImg, \"PNG\", -30, 40, 180, 90);\r\n          doc.addImage(signeeImg, \"PNG\", 70, 40, 180, 90);\r\n        } catch (err) {\r\n          charts_loaded = false;\r\n          this.tab = \"stats\";\r\n          // Try again after 1 sec\r\n          setTimeout(() => this.saveAllAsPDF(current_tab), 1000);\r\n        }\r\n        doc.text(100, 165, \"Kalalajien mritykset\", { align: \"center\" });\r\n        // Table generated straight from html\r\n        doc.autoTable({\r\n          html: \"#fish-weights-table\",\r\n          styles: {\r\n            overflow: \"linebreak\",\r\n            cellWidth: \"wrap\",\r\n            rowPageBreak: \"avoid\",\r\n            halign: \"justify\",\r\n            fontSize: \"8\",\r\n            lineColor: \"100\",\r\n            lineWidth: \".25\",\r\n          },\r\n          columnStyles: { text: { cellwidth: \"auto\" } },\r\n          theme: \"striped\",\r\n          pageBreak: \"auto\",\r\n          tableWidth: \"auto\",\r\n          startY: 170,\r\n          margin: { top: 20 },\r\n        });\r\n\r\n        doc.text(100, doc.autoTable.previous.finalY + 20, \"Yleisi tilastoja\", {\r\n          align: \"center\",\r\n        });\r\n        // Table generated straight from html\r\n        doc.autoTable({\r\n          html: \"#misc-table\",\r\n          styles: {\r\n            overflow: \"linebreak\",\r\n            cellWidth: \"wrap\",\r\n            rowPageBreak: \"avoid\",\r\n            halign: \"justify\",\r\n            fontSize: \"8\",\r\n            lineColor: \"100\",\r\n            lineWidth: \".25\",\r\n          },\r\n          columnStyles: { text: { cellwidth: \"auto\" } },\r\n          theme: \"striped\",\r\n          pageBreak: \"auto\",\r\n          tableWidth: \"auto\",\r\n          margin: { top: 20 },\r\n          startY: doc.autoTable.previous.finalY + 25,\r\n        });\r\n      }\r\n\r\n      // Reset variables\r\n      this.selected_biggest_fish = temp_selected_biggest_fish;\r\n      this.selected_biggest_amount = temp_selected_biggest_amount;\r\n      this.selected_normal = temp_selected_normal;\r\n      this.calculateBiggestFishes();\r\n      this.calculateBiggestAmounts();\r\n\r\n      // Save to pdf\r\n      if (charts_loaded) {\r\n        this.tab = current_tab;\r\n        doc.save(\r\n          `${year}_${this.replaceAll(\r\n            this.competition.name,\r\n            \" \",\r\n            \"\"\r\n          )}Tulokset.pdf`\r\n        );\r\n      } else {\r\n        M.toast({ html: \"Kaaviot ei ruudulla, yritetn uudelleen...\" });\r\n      }\r\n      this.onafterprint();\r\n    },\r\n    //Fix chartjs printing:\r\n    onbeforeprint: function() {\r\n      const Chart = require(\"chart.js\");\r\n      for (var id in Chart.instances) {\r\n        let chart = Chart.instances[id];\r\n        // Resize charts to fit pdf nicely\r\n        chart.canvas.parentNode.style.height = \"1000px\";\r\n        chart.canvas.parentNode.style.width = \"2000px\";\r\n        chart.resize();\r\n      }\r\n    },\r\n    onafterprint: function() {\r\n      const Chart = require(\"chart.js\");\r\n      for (var id in Chart.instances) {\r\n        let chart = Chart.instances[id];\r\n        // Resize charts back to original width\r\n        chart.canvas.parentNode.style.height = \"30vh\";\r\n        chart.canvas.parentNode.style.width = \"60vh\";\r\n        chart.resize();\r\n      }\r\n    },\r\n  },\r\n};\r\n\r\n// Custom range function for for loop, with recursion which is more efficient\r\nfunction* range(start, end) {\r\n  yield start;\r\n  if (start === end) return;\r\n  yield* range(start + 1, end);\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicResults.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicResults.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicResults.vue?vue&type=template&id=28ec51f0&\"\nimport script from \"./PublicResults.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicResults.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VChip,VCol,VContainer,VDataTable,VDialog,VDivider,VRow,VSelect,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{class:{\n    'container-transparent': !_vm.$store.getters.getTheme,\n    'container-transparent-dark': _vm.$store.getters.getTheme,\n  },staticStyle:{\"margin-top\":\"70px\",\"margin-bottom\":\"5px\"}},[_c('MainHeader'),(_vm.errors.length)?_c('v-row',{attrs:{\"id\":\"errordiv\"}},[_c('ul',{staticClass:\"collection with-header\",staticStyle:{\"border\":\"1px solid red\"}},[_c('li',{staticClass:\"collection-header\",staticStyle:{\"background\":\"rgba(0,0,0,0)\"}},[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Korjaa seuraavat virheet: \")])],1),_vm._l((_vm.errors),function(error,index){return _c('li',{key:index,staticClass:\"collection-item\",attrs:{\"id\":\"error\"}},[_c('p',{staticClass:\"flow-text\",class:{\n            'white--text': _vm.$store.getters.getTheme,\n          }},[_vm._v(\" \"+_vm._s(index + 1)+\". \"+_vm._s(error)+\" \")])])})],2)]):_vm._e(),_c('v-row',{staticClass:\"section\"},[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h1',[_vm._v(\"Cuppien tuloksia\")])])],1),_c('v-row',[_c('v-col',{attrs:{\"md\":\"3\",\"offset-md\":\"8\"}},[_c('router-link',{attrs:{\"to\":\"/public-results\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"green\"}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"emoji_events\")]),_vm._v(\"Kilpailujen tuloksia \")])],1)],1)],1),(_vm.cups.length)?_c('v-row',{staticClass:\"scroll_table\"},[_c('v-col',{attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"dark\":_vm.$store.getters.getTheme,\"items\":_vm.cups,\"item-text\":\"select\",\"item-value\":\"_id\",\"label\":\"Valitse nytettv Cup\",\"outlined\":\"\",\"return-object\":\"\",\"single-line\":\"\"},on:{\"input\":_vm.pickCup},model:{value:(_vm.selected_cup),callback:function ($$v) {_vm.selected_cup=$$v},expression:\"selected_cup\"}})],1)],1):_c('v-row',[(!_vm.loading)?_c('v-col',[_c('h2',{class:{\n          'white--text': _vm.$store.getters.getTheme,\n        }},[_vm._v(\" Haetaan cuppeja... \")]),_c('ProgressBarQuery')],1):_c('v-col',[_c('h2',{class:{\n          'white--text': _vm.$store.getters.getTheme,\n        }},[_vm._v(\" Ei cuppeja saatavilla :( \")])])],1),_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"yellow\",\"disabled\":!_vm.selected_cup},on:{\"click\":function($event){_vm.selected_cup = null;\n          _vm.competitions = [];\n          _vm.results = [];}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"remove_circle\")]),_vm._v(\"Peruuta valinta \")])],1)],1),(!_vm.loading)?_c('v-row',[_c('v-col',[(_vm.results.length)?_c('v-row',[_c('v-col',[_c('h1',[_vm._v(\"Cupin kokonaispisteet\")])])],1):_vm._e(),(_vm.results.length)?_c('v-row',{class:{\n          inputarea: !_vm.$store.getters.getTheme,\n          'inputarea-dark': _vm.$store.getters.getTheme,\n        },staticStyle:{\"padding-top\":\"25px\"}},[_c('v-col',{staticClass:\"d-flex\",attrs:{\"md\":\"4\"}},[_c('v-select',{attrs:{\"items\":_vm.header_options,\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"dark\":_vm.$store.getters.getTheme,\"label\":\"Kilpailun otsikko\",\"outlined\":\"\"},on:{\"input\":_vm.changeHeaders},model:{value:(_vm.header_selection),callback:function ($$v) {_vm.header_selection=$$v},expression:\"header_selection\"}})],1),_c('v-col',{staticClass:\"d-flex\",attrs:{\"md\":\"4\"}},[_c('v-select',{attrs:{\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"dark\":_vm.$store.getters.getTheme,\"items\":_vm.select_numbers,\"label\":\"Cup sijoittumispisteisiin vaikuttavien kilpailujen mr\",\"outlined\":\"\"},on:{\"input\":function($event){return _vm.calculateAll(_vm.competitions, _vm.selected_competitions)}},model:{value:(_vm.selected_competitions),callback:function ($$v) {_vm.selected_competitions=$$v},expression:\"selected_competitions\"}})],1),_c('v-col',{attrs:{\"md\":\"4\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"green darken-4\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.saveAsPDF(\"Cupin Kokonaistulokset\")}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"picture_as_pdf\")]),_vm._v(\"Lataa pdf \")])],1)],1):_vm._e(),(_vm.results.length && _vm.not_finished_count > 0)?_c('v-row',[_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n              'white--text': _vm.$store.getters.getTheme,\n            }},[_vm._v(\" *Punaisella merkityt kilpailut ovat viel kesken! (\"+_vm._s(_vm.not_finished_count)+\" kpl) \")])])],1):_vm._e(),(_vm.competitions.length)?_c('v-row',[_c('v-col',[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\"},[_vm._v(\"Cupin kokonaispisteet\")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailijaa\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"id\":\"normal-table\",\"headers\":_vm.headers,\"items\":_vm.results,\"search\":_vm.search},scopedSlots:_vm._u([_vm._l((_vm.headers),function(h,index){return {key:(\"header.\" + (h.value)),fn:function(ref){\n            var header = ref.header;\nreturn [(header.highlight)?_c('v-chip',{key:index,attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getCompetitionFinishedColor(header.isFinished)}},[_vm._v(_vm._s(header.text))]):_c('v-chip',{key:index,attrs:{\"outlined\":_vm.$store.getters.getTheme}},[_vm._v(_vm._s(header.text))])]}}}),{key:\"item.final_placement\",fn:function(ref){\n            var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.final_placement)}},[_vm._v(_vm._s(item.final_placement)+\".\")])]}},_vm._l((_vm.competitions.length),function(c,index){return {key:(\"item.cup_results[\" + c + \"].points\"),fn:function(ref){\n            var item = ref.item;\nreturn [(item.cup_results[c])?_c('div',{key:c},[(\n                      item.cup_results[c].points ===\n                        _vm.competitions[index].cup_participation_points\n                    )?_c('span',[_vm._v(_vm._s(item.cup_results[c].points)+\"p (\"+_vm._s(item.cup_results[c].placement)+\".)\")]):_c('v-chip',{attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":_vm.getColor(item.cup_results[c].placement)}},[_vm._v(_vm._s(item.cup_results[c].points)+\"p (\"+_vm._s(item.cup_results[c].placement)+\".)\")])],1):_c('span',{key:c},[_vm._v(\" - \")])]}}}),{key:\"item.final_cup_points\",fn:function(ref){\n                    var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":\"indigo darken-3 white--text\"}},[_vm._v(_vm._s(item.final_cup_points)+\"p\")])]}}],null,true)})],1)],1)],1):_vm._e(),(_vm.competitions.length && _vm.selected_cup)?_c('v-row',[(_vm.loading)?_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n              'white--text': _vm.$store.getters.getTheme,\n            }},[_vm._v(\" Pivitetn tuloksia... \")])]):_vm._e()],1):_vm._e(),(_vm.competitions.length && _vm.selected_cup)?_c('v-row',[_c('v-col',[_c('v-btn',{staticClass:\"white--text\",attrs:{\"id\":\"updatebtn\",\"large\":\"\",\"tile\":\"\",\"loading\":_vm.loading,\"color\":\"blue darken-4\"},on:{\"click\":function($event){return _vm.refreshCup(_vm.selected_cup)}}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"update\")]),_vm._v(\"Pivit cupin tulokset \")])],1)],1):_c('v-row',[_c('v-col',[(_vm.selected_cup && !_vm.competitions.length)?_c('h2',{class:{\n              'white--text': _vm.$store.getters.getTheme,\n            }},[_vm._v(\" Cupissa ei viel kilpailuja! \")]):_vm._e(),(!_vm.selected_cup)?_c('h2',{class:{\n              'white--text': _vm.$store.getters.getTheme,\n            }},[_vm._v(\" Cuppia ei viel valittuna! \")]):_vm._e()])],1)],1)],1):_c('v-row',[_c('v-row',[_c('v-col',[_c('h2',{class:{\n            'white--text': _vm.$store.getters.getTheme,\n          }},[_vm._v(\" Haetaan cupin kilpailuja... \")]),_c('ProgressBarQuery')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /cup-overview -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <v-container\r\n    style=\"margin-top:70px;margin-bottom:5px\"\r\n    v-bind:class=\"{\r\n      'container-transparent': !$store.getters.getTheme,\r\n      'container-transparent-dark': $store.getters.getTheme,\r\n    }\"\r\n  >\r\n    <MainHeader />\r\n    <v-row id=\"errordiv\" v-if=\"errors.length\">\r\n      <ul class=\"collection with-header\" style=\"border:1px solid red;\">\r\n        <li class=\"collection-header\" style=\"background: rgba(0,0,0,0);\">\r\n          <v-alert type=\"error\">\r\n            Korjaa seuraavat virheet:\r\n          </v-alert>\r\n        </li>\r\n        <li\r\n          class=\"collection-item\"\r\n          id=\"error\"\r\n          v-for=\"(error, index) in errors\"\r\n          v-bind:key=\"index\"\r\n        >\r\n          <p\r\n            class=\"flow-text\"\r\n            v-bind:class=\"{\r\n              'white--text': $store.getters.getTheme,\r\n            }\"\r\n          >\r\n            {{ index + 1 }}. {{ error }}\r\n          </p>\r\n        </li>\r\n      </ul>\r\n    </v-row>\r\n    <v-row class=\"section\">\r\n      <v-col md=\"6\" offset-md=\"3\">\r\n        <h1>Cuppien tuloksia</h1>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col md=\"3\" offset-md=\"8\">\r\n        <router-link to=\"/public-results\">\r\n          <v-btn large rounded color=\"green\" class=\"white--text\">\r\n            <i class=\"material-icons left\">emoji_events</i>Kilpailujen tuloksia\r\n          </v-btn>\r\n        </router-link>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row v-if=\"cups.length\" class=\"scroll_table\">\r\n      <v-col md=\"4\" offset-md=\"4\">\r\n        <!-- TODO add v-autocompelete, but so that it popsup the keyboad on mobile only when pressing search button? -->\r\n        <v-select\r\n          :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n          :dark=\"$store.getters.getTheme\"\r\n          v-model=\"selected_cup\"\r\n          :items=\"cups\"\r\n          item-text=\"select\"\r\n          item-value=\"_id\"\r\n          label=\"Valitse nytettv Cup\"\r\n          outlined\r\n          @input=\"pickCup\"\r\n          return-object\r\n          single-line\r\n        ></v-select>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row v-else>\r\n      <v-col v-if=\"!loading\">\r\n        <h2\r\n          v-bind:class=\"{\r\n            'white--text': $store.getters.getTheme,\r\n          }\"\r\n        >\r\n          Haetaan cuppeja...\r\n        </h2>\r\n        <ProgressBarQuery />\r\n      </v-col>\r\n      <v-col v-else>\r\n        <h2\r\n          v-bind:class=\"{\r\n            'white--text': $store.getters.getTheme,\r\n          }\"\r\n        >\r\n          Ei cuppeja saatavilla :(\r\n        </h2>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col>\r\n        <v-btn\r\n          large\r\n          tile\r\n          color=\"yellow\"\r\n          @click=\"\r\n            selected_cup = null;\r\n            competitions = [];\r\n            results = [];\r\n          \"\r\n          :disabled=\"!selected_cup\"\r\n        >\r\n          <i class=\"material-icons left\">remove_circle</i>Peruuta valinta\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row v-if=\"!loading\">\r\n      <v-col>\r\n        <v-row v-if=\"results.length\">\r\n          <v-col>\r\n            <h1>Cupin kokonaispisteet</h1>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row\r\n          v-if=\"results.length\"\r\n          v-bind:class=\"{\r\n            inputarea: !$store.getters.getTheme,\r\n            'inputarea-dark': $store.getters.getTheme,\r\n          }\"\r\n          style=\"padding-top:25px;\"\r\n        >\r\n          <v-col class=\"d-flex\" md=\"4\">\r\n            <v-select\r\n              :items=\"header_options\"\r\n              :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n              :dark=\"$store.getters.getTheme\"\r\n              label=\"Kilpailun otsikko\"\r\n              outlined\r\n              v-model=\"header_selection\"\r\n              @input=\"changeHeaders\"\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col class=\"d-flex\" md=\"4\">\r\n            <v-select\r\n              :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n              :dark=\"$store.getters.getTheme\"\r\n              :items=\"select_numbers\"\r\n              label=\"Cup sijoittumispisteisiin vaikuttavien kilpailujen mr\"\r\n              outlined\r\n              v-model=\"selected_competitions\"\r\n              @input=\"calculateAll(competitions, selected_competitions)\"\r\n            ></v-select>\r\n          </v-col>\r\n          <v-col md=\"4\">\r\n            <v-btn\r\n              large\r\n              tile\r\n              color=\"green darken-4\"\r\n              class=\"white--text\"\r\n              @click=\"saveAsPDF(`Cupin Kokonaistulokset`)\"\r\n              :loading=\"loading\"\r\n            >\r\n              <i class=\"material-icons left\">picture_as_pdf</i>Lataa pdf\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-if=\"results.length && not_finished_count > 0\">\r\n          <v-col>\r\n            <p\r\n              class=\"flow-text\"\r\n              v-bind:class=\"{\r\n                'white--text': $store.getters.getTheme,\r\n              }\"\r\n            >\r\n              *Punaisella merkityt kilpailut ovat viel kesken! ({{\r\n                not_finished_count\r\n              }}\r\n              kpl)\r\n            </p>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-if=\"competitions.length\">\r\n          <v-col>\r\n            <v-card :dark=\"$store.getters.getTheme\">\r\n              <v-card-title>\r\n                <p class=\"flow-text\">Cupin kokonaispisteet</p>\r\n                <v-spacer></v-spacer>\r\n                <v-text-field\r\n                  v-model=\"search\"\r\n                  append-icon=\"mdi-magnify\"\r\n                  label=\"Hae kilpailijaa\"\r\n                  single-line\r\n                  hide-details\r\n                ></v-text-field>\r\n              </v-card-title>\r\n              <v-data-table\r\n                id=\"normal-table\"\r\n                :headers=\"headers\"\r\n                :items=\"results\"\r\n                :search=\"search\"\r\n              >\r\n                <template\r\n                  v-for=\"(h, index) in headers\"\r\n                  v-slot:[`header.${h.value}`]=\"{ header }\"\r\n                >\r\n                  <v-chip\r\n                    v-if=\"header.highlight\"\r\n                    :key=\"index\"\r\n                    :outlined=\"$store.getters.getTheme\"\r\n                    :color=\"getCompetitionFinishedColor(header.isFinished)\"\r\n                    >{{ header.text }}</v-chip\r\n                  >\r\n                  <v-chip\r\n                    v-else\r\n                    :key=\"index\"\r\n                    :outlined=\"$store.getters.getTheme\"\r\n                    >{{ header.text }}</v-chip\r\n                  >\r\n                </template>\r\n                <template v-slot:[`item.final_placement`]=\"{ item }\">\r\n                  <v-chip\r\n                    :outlined=\"$store.getters.getTheme\"\r\n                    :color=\"getColor(item.final_placement)\"\r\n                    >{{ item.final_placement }}.</v-chip\r\n                  >\r\n                </template>\r\n                <template\r\n                  v-for=\"(c, index) in competitions.length\"\r\n                  v-slot:[`item.cup_results[${c}].points`]=\"{ item }\"\r\n                >\r\n                  <div v-if=\"item.cup_results[c]\" v-bind:key=\"c\">\r\n                    <!-- Points which are the same as competition participation points == not that important -->\r\n                    <span\r\n                      v-if=\"\r\n                        item.cup_results[c].points ===\r\n                          competitions[index].cup_participation_points\r\n                      \"\r\n                      >{{ item.cup_results[c].points }}p ({{\r\n                        item.cup_results[c].placement\r\n                      }}.)</span\r\n                    >\r\n                    <!-- Highlight pointsthat matter -->\r\n                    <v-chip\r\n                      :outlined=\"$store.getters.getTheme\"\r\n                      :color=\"getColor(item.cup_results[c].placement)\"\r\n                      v-else\r\n                      >{{ item.cup_results[c].points }}p ({{\r\n                        item.cup_results[c].placement\r\n                      }}.)</v-chip\r\n                    >\r\n                  </div>\r\n                  <!-- No points, show '-' -->\r\n                  <span v-else v-bind:key=\"c\">\r\n                    -\r\n                  </span>\r\n                </template>\r\n                <template v-slot:[`item.final_cup_points`]=\"{ item }\">\r\n                  <v-chip color=\"indigo darken-3 white--text\"\r\n                    >{{ item.final_cup_points }}p</v-chip\r\n                  >\r\n                </template>\r\n              </v-data-table>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-if=\"competitions.length && selected_cup\">\r\n          <v-col v-if=\"loading\">\r\n            <p\r\n              class=\"flow-text\"\r\n              v-bind:class=\"{\r\n                'white--text': $store.getters.getTheme,\r\n              }\"\r\n            >\r\n              Pivitetn tuloksia...\r\n            </p>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-if=\"competitions.length && selected_cup\">\r\n          <v-col>\r\n            <v-btn\r\n              id=\"updatebtn\"\r\n              large\r\n              tile\r\n              :loading=\"loading\"\r\n              color=\"blue darken-4\"\r\n              @click=\"refreshCup(selected_cup)\"\r\n              class=\"white--text\"\r\n            >\r\n              <i class=\"material-icons left\">update</i>Pivit cupin tulokset\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-else>\r\n          <v-col>\r\n            <h2\r\n              v-if=\"selected_cup && !competitions.length\"\r\n              v-bind:class=\"{\r\n                'white--text': $store.getters.getTheme,\r\n              }\"\r\n            >\r\n              Cupissa ei viel kilpailuja!\r\n            </h2>\r\n            <h2\r\n              v-if=\"!selected_cup\"\r\n              v-bind:class=\"{\r\n                'white--text': $store.getters.getTheme,\r\n              }\"\r\n            >\r\n              Cuppia ei viel valittuna!\r\n            </h2>\r\n          </v-col>\r\n        </v-row>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row v-else>\r\n      <v-row>\r\n        <v-col>\r\n          <h2\r\n            v-bind:class=\"{\r\n              'white--text': $store.getters.getTheme,\r\n            }\"\r\n          >\r\n            Haetaan cupin kilpailuja...\r\n          </h2>\r\n          <ProgressBarQuery />\r\n        </v-col>\r\n      </v-row>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n<script>\r\n\"use strict\";\r\nimport M from \"materialize-css\";\r\nimport CupService from \"../CupService\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport MainHeader from \"../components/layout/MainHeader\";\r\nimport ProgressBarQuery from \"../components/layout/ProgressBarQuery\";\r\n\r\nexport default {\r\n  name: \"PublicCups\",\r\n  components: {\r\n    ProgressBarQuery,\r\n    MainHeader,\r\n  },\r\n  data() {\r\n    return {\r\n      cup: null,\r\n      cups: [],\r\n      competitions: [],\r\n      headers: [],\r\n      results: [],\r\n      loading: false,\r\n      errors: [],\r\n      select_numbers: [],\r\n      header_options: [\"Paikkakunta\", \"Kilpailun nimi\"],\r\n      header_selection: \"Paikkakunta\",\r\n      selected_competitions: 0,\r\n      selected_cup: null,\r\n      tab: null,\r\n      search: \"\",\r\n      not_finished_count: 0,\r\n    };\r\n  },\r\n  async mounted() {\r\n    //Check if user is logged in has admin status, update header\r\n    this.checkLogin();\r\n    this.cups = await CupService.getCups({\r\n      isPublic: true,\r\n    });\r\n    if (this.cups.length) {\r\n      this.cups.forEach((cup) => {\r\n        cup.select = `${cup.name} (${cup.year})`;\r\n      });\r\n    }\r\n\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n  },\r\n  methods: {\r\n    pickCup: function() {\r\n      this.refreshCup(this.selected_cup);\r\n    },\r\n    // Calculate all the cup points, and limit the number of races taken into account\r\n    // If limit = 4, 4 races with highest points will be calculated, other races will have 5 points where the signee has participated\r\n    calculateAll: function(competitions, limit) {\r\n      let all_results = [];\r\n      this.isResults = false;\r\n      competitions.forEach((competition) => {\r\n        // Dynamic headers, because competition names change\r\n        //If there are any results in the competition\r\n        if (competition.normal_points.length) {\r\n          //Loop through each competition's results\r\n          competition.normal_points.forEach((signee) => {\r\n            // Get each signee's results from array that has all the results\r\n            let index = all_results.findIndex((item) => {\r\n              return (\r\n                parseInt(signee.boat_number) === parseInt(item.boat_number)\r\n              );\r\n            });\r\n            //If the signee is found there\r\n            if (index > -1) {\r\n              // Get the signee, and add competitions results to array, under the competition.name key\r\n              let found_signee = all_results[index];\r\n              found_signee.points_compare.push(signee.cup_points_total); // For comparing\r\n              found_signee.cup_results[competition.key_name] = {\r\n                points: signee.cup_points_total,\r\n                placement: signee.placement,\r\n              };\r\n              // For tracking total points\r\n              all_results.splice(index, 1, found_signee);\r\n            }\r\n            // Not any points on cup_results yet\r\n            else {\r\n              // Get the data that is stored in the cup's signees array\r\n              let cup_signee = this.selected_cup.signees.find(\r\n                (element) => element.boat_number === signee.boat_number\r\n              );\r\n              signee.captain_name = cup_signee.captain_name;\r\n              signee.temp_captain_name = cup_signee.temp_captain_name;\r\n              signee.locality = cup_signee.locality;\r\n              // Initialize variables and add first points\r\n              signee.cup_results = [];\r\n              // Array for comparing points with limit\r\n              signee.points_compare = [];\r\n              signee.points_compare.push(signee.cup_points_total); // For comparing\r\n              signee.cup_results[competition.key_name] = {\r\n                points: signee.cup_points_total,\r\n                placement: signee.placement,\r\n              };\r\n              all_results.push(signee);\r\n            }\r\n          });\r\n        }\r\n      });\r\n      if (all_results.length) {\r\n        this.isResults = true;\r\n        // limits the amount of competitions are taken into account in the cup\r\n        all_results = this.limitCompetitions(all_results, limit);\r\n        // Sort the array based on total cup points\r\n        this.results = all_results.sort(function compare(a, b) {\r\n          return (\r\n            parseInt(b.cup_results[\"Total\"]) - parseInt(a.cup_results[\"Total\"])\r\n          );\r\n        });\r\n        this.changeHeaders();\r\n\r\n        let final_placement = 1;\r\n        let last_points = -1;\r\n        let last_placement = -1;\r\n        this.results.forEach((signee) => {\r\n          if (last_points === signee.cup_results[\"Total\"]) {\r\n            signee.final_placement = last_placement;\r\n          } else {\r\n            signee.final_placement = final_placement;\r\n            last_points = signee.cup_results[\"Total\"];\r\n            last_placement = signee.final_placement;\r\n          }\r\n          signee.final_cup_points = signee.cup_results[\"Total\"];\r\n          final_placement++;\r\n        });\r\n      }\r\n    },\r\n    limitCompetitions: function(results, limit) {\r\n      limit = limit < 0 ? 0 : limit; // Make sure limit is at least 1\r\n\r\n      results.forEach((signee) => {\r\n        // If there are more or equal amount of competitions than the limit, limit remaining competitions after the limit\r\n        if (this.competitions.length >= limit) {\r\n          // sort the array that points are compared to\r\n          // so first \"limit\" amount of competitions are only taken into account\r\n          signee.points_compare.sort(function compare(a, b) {\r\n            return parseInt(b) - parseInt(a);\r\n          });\r\n          // Initialize total points to 0\r\n          signee.cup_results[\"Total\"] = 0;\r\n          let counter = 0; // counter for competitions that have same points as the limit\r\n          // Check each competition\r\n          this.competitions.forEach((competition) => {\r\n            // If signee has points for this competition\r\n            if (signee.cup_results[competition.key_name]) {\r\n              // If signee's points are less than the limit points from the array\r\n              // check which placement the points would have from array, and pair it with points, the signee.placement isn't accurate anymore if competitions are limited\r\n\r\n              signee.cup_results[\r\n                competition.key_name\r\n              ].placement = competition.normal_points.find(\r\n                (result) => result.boat_number === signee.boat_number\r\n              ).placement;\r\n\r\n              if (\r\n                signee.cup_results[competition.key_name].points <\r\n                signee.points_compare[limit]\r\n              ) {\r\n                // Give signee only participation points\r\n                signee.cup_results[competition.key_name].points =\r\n                  competition.cup_participation_points;\r\n              }\r\n              // If the competition points are same as the limit\r\n              if (\r\n                signee.cup_results[competition.key_name].points ===\r\n                signee.points_compare[limit]\r\n              ) {\r\n                if (counter !== 1) {\r\n                  // Points are greater than the limit points, give full points\r\n                  signee.cup_results[competition.key_name].points =\r\n                    competition.cup_participation_points;\r\n                }\r\n                counter++;\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n        // Add all the limited points to total points\r\n        signee.cup_results.forEach((element) => {\r\n          signee.cup_results[\"Total\"] += element.points;\r\n        });\r\n      });\r\n      // Return sorted results\r\n      return results;\r\n    },\r\n    async refreshCup(cup) {\r\n      this.loading = true;\r\n      this.errors = [];\r\n\r\n      // Returns an array, get first result (there shouldn't be more than one in any case, since id's are unique)\r\n      //TODO make a test for this?\r\n      // Update to vuex, Assing variables from vuex (see client/store/index.js)\r\n      this.$store.commit(\"refreshCup\", cup);\r\n      try {\r\n        this.competitions = await CompetitionService.getCompetitions({\r\n          cup_id: cup.id,\r\n        });\r\n        // Convert dates to moment objects\r\n        let counter = 1;\r\n        this.competitions = this.competitions.filter((competition) => {\r\n          return competition.isPublic;\r\n        });\r\n        this.competitions.forEach((competition) => {\r\n          this.select_numbers.push(counter);\r\n          competition.start_date = this.$moment(competition.start_date);\r\n          competition.end_date = this.$moment(competition.end_date);\r\n          // Index for competition\r\n          competition.key_name = counter;\r\n          counter++;\r\n        });\r\n        this.competitions.sort((a, b) => {\r\n          return b.start_date.isBefore(a.start_date);\r\n        });\r\n        this.selected_competitions = this.competitions.length;\r\n        this.calculateAll(this.competitions, this.selected_competitions);\r\n        M.toast({ html: \"Tiedot ajantasalla!\" });\r\n        this.loading = false;\r\n      } catch (error) {\r\n        this.loading = false;\r\n        console.error(error);\r\n      }\r\n    },\r\n    //Check if user is logged in has admin status, update values to vuex (Header.vue updates based on these values)\r\n    checkLogin: function() {\r\n      // If login token present --> user is logged in\r\n      if (localStorage.getItem(\"jwt\") != null) {\r\n        this.$store.state.logged_in = true;\r\n        let user = JSON.parse(localStorage.getItem(\"user\"));\r\n        // Check if user is admin\r\n        //TODO safer way to check this than use localstorage?\r\n        user.is_admin == true\r\n          ? (this.$store.state.is_admin = true)\r\n          : (this.$store.state.is_admin = false);\r\n      } else {\r\n        //Not logger in, so not admin either\r\n        this.$store.state.logged_in = false;\r\n        this.$store.state.is_admin = false;\r\n      }\r\n    },\r\n    getColor(placement) {\r\n      if (placement > 30) return \"red\";\r\n      if (placement > 20) return \"orange\";\r\n      else if (placement > 5) return \"yellow\";\r\n      else return \"green\";\r\n    },\r\n    getCompetitionFinishedColor(isFinished) {\r\n      if (isFinished) return \"red\";\r\n      else return \"primary\";\r\n    },\r\n    replaceAllChars: function(text, obj) {\r\n      return [...text]\r\n        .map((each) => {\r\n          for (const o in obj) {\r\n            each == o ? (each = obj[o]) : o;\r\n          }\r\n          return each;\r\n        })\r\n        .join(\"\");\r\n    },\r\n    changeHeaders: function() {\r\n      this.headers = [];\r\n      this.headers.push({\r\n        text: \"Sijoitus\",\r\n        highlight: false,\r\n        align: \"center\",\r\n        value: \"final_placement\",\r\n      });\r\n      this.headers.push({\r\n        text: \"Kilp. Nro\",\r\n        align: \"center\",\r\n        highlight: false,\r\n        value: \"boat_number\",\r\n      });\r\n      this.headers.push({\r\n        text: \"Kippari\",\r\n        align: \"center\",\r\n        highlight: false,\r\n        value: \"captain_name\",\r\n      });\r\n      this.headers.push({\r\n        text: \"Paikkakunta\",\r\n        align: \"center\",\r\n        highlight: false,\r\n        value: \"locality\",\r\n      });\r\n      this.not_finished_count = 0;\r\n      this.competitions.forEach((competition) => {\r\n        // Keep track if there are unfinished competitions\r\n        if (!competition.isFinished) {\r\n          this.not_finished_count++;\r\n        }\r\n        // Dynamic headers, because competition names change\r\n        if (this.header_selection === \"Paikkakunta\") {\r\n          // Check if there are competitions with same locality, if so, add identifier\r\n          let found_headers = this.headers.filter((header) => {\r\n            return competition.locality === header.text;\r\n          });\r\n          if (found_headers.length) {\r\n            let new_header_text = ` ${\r\n              competition.locality\r\n            } #${found_headers.length + 1}`;\r\n            this.headers.push({\r\n              text: new_header_text,\r\n              align: \"center\",\r\n              highlight: true,\r\n              isFinished: !competition.isFinished,\r\n              value: `cup_results[${competition.key_name}].points`,\r\n            });\r\n          } else {\r\n            this.headers.push({\r\n              text: competition.locality,\r\n              align: \"center\",\r\n              highlight: true,\r\n              isFinished: !competition.isFinished,\r\n              value: `cup_results[${competition.key_name}].points`,\r\n            });\r\n          }\r\n        } else {\r\n          this.headers.push({\r\n            text: competition.name,\r\n            align: \"center\",\r\n            highlight: true,\r\n            isFinished: !competition.isFinished,\r\n            value: `cup_results[${competition.key_name}].points`,\r\n          });\r\n        }\r\n      });\r\n      this.headers.push({\r\n        text: \"Yhteens\",\r\n        align: \"center\",\r\n        highlight: false,\r\n        value: \"final_cup_points\",\r\n      });\r\n    },\r\n    pickCompetition: function(competition) {\r\n      // Pick competition for the app to use\r\n      //NOTE Store competition to vuex, redundant?\r\n      this.$store.state.competition = competition;\r\n      // Set competition._id to localstorage for database queries\r\n      localStorage.setItem(\r\n        \"competition\",\r\n        JSON.stringify({\r\n          id: competition._id,\r\n          start_date: competition.start_date,\r\n          end_date: competition.end_date,\r\n        })\r\n      );\r\n      // redirect to /overview\r\n      this.$router.push({ path: \"/overview\" });\r\n    },\r\n    // For naming the pdf, replace certain characters\r\n    replaceAll: function(string, search, replace) {\r\n      return string.split(search).join(replace);\r\n    },\r\n    // Capitalize all the words in given string. Takes account all the characters like \"-\", \"'\" etc.\r\n    capitalize_words: function(str) {\r\n      return str.replace(\r\n        /(?:^|\\s|['`.-])[^\\x60^\\x7B-\\xDF](?!(\\s|$))/g,\r\n        function(txt) {\r\n          return txt.toUpperCase();\r\n        }\r\n      );\r\n    },\r\n    // Parses dictionary/json to array, for pdf autotables\r\n    dictToArray: function(dict) {\r\n      const temp_arr = Object.entries(dict);\r\n      const arr = [];\r\n\r\n      temp_arr.forEach((element) => {\r\n        let values = Object.values(element[1]);\r\n        let cup_results = values[9];\r\n        values[0] = String(values[11]) + \".\";\r\n        values[1] = \"(\" + String(values[1]) + \")\";\r\n        values[3] = values[4];\r\n        let counter = 4;\r\n        this.competitions.forEach((competition) => {\r\n          if (cup_results[competition.key_name]) {\r\n            values[counter] = `${cup_results[competition.key_name].points}p (${\r\n              cup_results[competition.key_name].placement\r\n            }.)`;\r\n          } else {\r\n            values[counter] = \"-\";\r\n          }\r\n          counter++;\r\n        });\r\n        values[counter] = `${cup_results[\"Total\"]}p`;\r\n        arr.push(values);\r\n      });\r\n      return arr;\r\n    },\r\n    // Convert the charts and the tables to pdf\r\n    saveAsPDF: function(table_title) {\r\n      // Format dates for easier reding\r\n      // PDF creation\r\n      let doc;\r\n      if (this.competitions.length > 4) {\r\n        doc = new jsPDF(\"landscape\");\r\n      } else {\r\n        doc = new jsPDF();\r\n      }\r\n\r\n      // Title\r\n      const title = `${this.selected_cup.name} (${this.selected_cup.year})`;\r\n      let sub_title;\r\n      let columns = [];\r\n      let rows;\r\n      let startY;\r\n      // Find last competition from the array which has finished\r\n      let temp_array = [...this.competitions];\r\n      var index = temp_array\r\n        .slice()\r\n        .reverse()\r\n        .findIndex((competition) => competition.isFinished === true);\r\n      var count = temp_array.length - 1;\r\n      var finalIndex = index >= 0 ? count - index : index;\r\n      const last_competition = temp_array[finalIndex];\r\n      const start_date = this.$moment(last_competition.start_date);\r\n      const formatted_date = `${start_date.date()}.${start_date.month() +\r\n        1}.${start_date.year()}`;\r\n      doc.setFontSize(24);\r\n      doc.text(13, 15, title, { align: \"left\" });\r\n      doc.line(0, 20, 400, 20);\r\n      doc.setFontSize(14);\r\n      // Table, based on given table_id, and table title based on competition_type\r\n      let finished_competitions = 0;\r\n      let unfinished_competitions = 0;\r\n      this.competitions.forEach((competition) => {\r\n        competition.isFinished\r\n          ? finished_competitions++\r\n          : unfinished_competitions++;\r\n      });\r\n\r\n      if (unfinished_competitions === 0) {\r\n        sub_title = `Tulokset ${formatted_date}`;\r\n      } else {\r\n        sub_title = `Tilanne ${formatted_date}, ${last_competition.name} (${last_competition.locality}) jlkeen (${unfinished_competitions} kpl kilpailuja kesken)`;\r\n      }\r\n      doc.text(13, 30, sub_title, { align: \"left\" });\r\n      doc.text(\r\n        13,\r\n        40,\r\n        table_title +\r\n          ` (${this.selected_competitions}/${this.competitions.length} parasta kilpailua otettu huomioon)`,\r\n        { align: \"left\" }\r\n      );\r\n      this.headers.forEach((header) => {\r\n        columns.push(header.text);\r\n      });\r\n      rows = this.dictToArray(this.results, 1);\r\n      startY = 45;\r\n\r\n      doc.autoTable({\r\n        head: [columns],\r\n        body: rows,\r\n        styles: {\r\n          overflow: \"linebreak\",\r\n          halign: \"justify\",\r\n          fontSize: \"8\",\r\n          lineColor: \"100\",\r\n          lineWidth: \".25\",\r\n        },\r\n        columnStyles: { text: { cellwidth: \"auto\" } },\r\n        headStyles: { text: { cellwidth: \"wrap\" } },\r\n        theme: \"striped\",\r\n        pageBreak: \"auto\",\r\n        tableWidth: \"auto\",\r\n        startY: startY,\r\n        margin: { top: 20 },\r\n      });\r\n\r\n      // Save the pdf\r\n      doc.save(\r\n        `${this.selected_cup.year}_${this.replaceAll(\r\n          \"Cup\",\r\n          \" \",\r\n          \"\"\r\n        )}_${this.replaceAll(this.capitalize_words(table_title), \" \", \"\")}.pdf`\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.isFinished {\r\n  background-color: rgb(117, 23, 0);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicCups.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicCups.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicCups.vue?vue&type=template&id=61ca3724&scoped=true&\"\nimport script from \"./PublicCups.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicCups.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicCups.vue?vue&type=style&index=0&id=61ca3724&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61ca3724\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardTitle,VChip,VCol,VContainer,VDataTable,VRow,VSelect,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('MainHeader'),_c('div',{class:{\n      'container-transparent': !_vm.$store.getters.getTheme,\n      'container-transparent-dark': _vm.$store.getters.getTheme,\n    },staticStyle:{\"margin-top\":\"100px\"}},[_c('v-container',[(_vm.errors.length)?_c('div',{attrs:{\"id\":\"errordiv\"}},[_c('ul',{staticClass:\"collection with-header\",staticStyle:{\"border\":\"1px solid red\"}},[_c('li',{staticClass:\"collection-header\",staticStyle:{\"background\":\"rgba(0,0,0,0)\"}},[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Korjaa seuraavat virheet: \")])],1),_vm._l((_vm.errors),function(error,index){return _c('li',{key:index,staticClass:\"collection-item\",attrs:{\"id\":\"error\"}},[_c('p',{staticClass:\"flow-text\"},[_vm._v(_vm._s(index + 1)+\". \"+_vm._s(error))])])})],2)]):_vm._e(),_c('h1',[_vm._v(\"Login\")]),_c('form',[_c('v-row',[_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"id\":\"email\",\"label\":\"Shkpostiosoite\",\"type\":\"email\",\"maxlength\":\"40\",\"loading\":_vm.loading,\"counter\":40},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1)],1),_c('v-row',[_c('v-col',{staticClass:\"input-fields\",attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Salasana\",\"id\":\"password\",\"type\":\"password\",\"maxlength\":\"40\",\"loading\":_vm.loading,\"counter\":40},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),(_vm.loading)?_c('v-row',[_c('ProgressBarQuery',{staticStyle:{\"margin-bottom\":\"20px\"}})],1):_c('v-row',[_c('v-col',[_c('v-btn',{staticClass:\"white--text\",attrs:{\"id\":\"sbtn\",\"large\":\"\",\"tile\":\"\",\"color\":\"blue darken-4\"},on:{\"click\":_vm.handleSubmit}},[_c('i',{staticClass:\"material-icons left\"},[_vm._v(\"login\")]),_vm._v(\"Kirjaudu \")])],1)],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /login -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <div class=\"container\">\r\n    <MainHeader />\r\n    <div\r\n      v-bind:class=\"{\r\n        'container-transparent': !$store.getters.getTheme,\r\n        'container-transparent-dark': $store.getters.getTheme,\r\n      }\"\r\n      style=\"margin-top:100px\"\r\n    >\r\n      <v-container>\r\n        <!-- if there are errors, show this div -->\r\n        <div id=\"errordiv\" v-if=\"errors.length\">\r\n          <ul class=\"collection with-header\" style=\"border:1px solid red;\">\r\n            <li class=\"collection-header\" style=\"background: rgba(0,0,0,0);\">\r\n              <v-alert type=\"error\">\r\n                Korjaa seuraavat virheet:\r\n              </v-alert>\r\n            </li>\r\n            <li\r\n              class=\"collection-item\"\r\n              id=\"error\"\r\n              v-for=\"(error, index) in errors\"\r\n              v-bind:key=\"index\"\r\n            >\r\n              <p class=\"flow-text\">{{ index + 1 }}. {{ error }}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <h1>Login</h1>\r\n        <form>\r\n          <v-row>\r\n            <v-col md=\"8\" offset-md=\"2\" class=\"input-fields\">\r\n              <v-text-field\r\n                :dark=\"$store.getters.getTheme\"\r\n                id=\"email\"\r\n                label=\"Shkpostiosoite\"\r\n                v-model=\"email\"\r\n                type=\"email\"\r\n                maxlength=\"40\"\r\n                :loading=\"loading\"\r\n                :counter=\"40\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col md=\"8\" offset-md=\"2\" class=\"input-fields\">\r\n              <v-text-field\r\n                :dark=\"$store.getters.getTheme\"\r\n                label=\"Salasana\"\r\n                id=\"password\"\r\n                v-model=\"password\"\r\n                type=\"password\"\r\n                maxlength=\"40\"\r\n                :loading=\"loading\"\r\n                :counter=\"40\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-if=\"loading\">\r\n            <ProgressBarQuery style=\"margin-bottom:20px\" />\r\n          </v-row>\r\n          <v-row v-else>\r\n            <v-col>\r\n              <v-btn\r\n                id=\"sbtn\"\r\n                large\r\n                tile\r\n                color=\"blue darken-4\"\r\n                class=\"white--text\"\r\n                @click=\"handleSubmit\"\r\n              >\r\n                <i class=\"material-icons left\">login</i>Kirjaudu\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </form>\r\n      </v-container>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\"use strict\";\r\nimport M from \"materialize-css\";\r\nimport UserService from \"../UserService\";\r\nimport MainHeader from \"../components/layout/MainHeader\";\r\nimport ProgressBarQuery from \"../components/layout/ProgressBarQuery\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      errors: [],\r\n      email: null,\r\n      password: null,\r\n      loading: false,\r\n    };\r\n  },\r\n  components: {\r\n    MainHeader,\r\n    ProgressBarQuery,\r\n  },\r\n  mounted() {\r\n    var input = document.getElementById(\"password\");\r\n    input.addEventListener(\"keyup\", function(event) {\r\n      if (event.keyCode === 13) {\r\n        event.preventDefault();\r\n        document.getElementById(\"sbtn\").click();\r\n      }\r\n    });\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n  },\r\n  methods: {\r\n    // Add error to error array and direct user to it\r\n    showError: function(error) {\r\n      this.errors.push(error);\r\n      M.toast({ html: error });\r\n      location.href = \"#\";\r\n      location.href = \"#app\";\r\n    },\r\n    // Submit login credentials and confirm user login\r\n    async handleSubmit(e) {\r\n      e.preventDefault();\r\n      this.errors = [];\r\n      if (!this.email) {\r\n        this.showError(\"Syt shkposti!\");\r\n      }\r\n      if (!this.password) {\r\n        this.showError(\"Syt salasana!\");\r\n      }\r\n      // If no errors in array, proceed to login\r\n      if (!this.errors.length) {\r\n        this.loading = true;\r\n        // user object\r\n        const user = {\r\n          email: this.email,\r\n          password: this.password,\r\n        };\r\n        try {\r\n          // Login user  (check 'client\\src\\UserService.js' and 'server\\routes\\api\\users.js' to see how this works)\r\n          await UserService.loginUser(user)\r\n            .then((response) => {\r\n              // Check if user is admin\r\n              let is_admin = JSON.stringify(response.data.user.is_admin);\r\n              this.$store.state.is_admin = is_admin;\r\n              // Set login token (jwt) and user data to localstorage and vuex\r\n              let preferences = response.data.user.preferences;\r\n              if (!preferences) {\r\n                preferences = { isDark: true, lang: \"fi\" };\r\n              }\r\n              localStorage.setItem(\r\n                \"user\",\r\n                JSON.stringify({\r\n                  id: response.data.user._id,\r\n                  name: response.data.user.name,\r\n                  email: response.data.user.email,\r\n                  is_admin: response.data.user.is_admin,\r\n                  createdAt: response.data.user.createdAt,\r\n                  preferences: preferences,\r\n                })\r\n              );\r\n              // Set preferences to vuex\r\n              this.$store.state.isDark = preferences.isDark;\r\n              this.$store.state.lang = preferences.lang;\r\n              localStorage.setItem(\"jwt\", response.data.token);\r\n              this.$store.state.logged_in = true;\r\n              if (localStorage.getItem(\"jwt\") != null) {\r\n                this.$emit(\"loggedIn\");\r\n                if (this.$route.params.nextUrl != null) {\r\n                  this.$router.push(this.$route.params.nextUrl);\r\n                }\r\n                // if route.params.nextURL not set, redirect to dashboard\r\n                else {\r\n                  this.$router.push({ path: \"/dashboard\" });\r\n                }\r\n              }\r\n              this.loading = false;\r\n            })\r\n            .catch((err) => {\r\n              if (err.response) {\r\n                if (\r\n                  err.response.status === 401 ||\r\n                  err.response.status === 404\r\n                ) {\r\n                  this.loading = false;\r\n                  this.showError(\"Kyttjnimi tai salasana ei tsm!\");\r\n                  return;\r\n                } else {\r\n                  this.loading = false;\r\n                  return console.log(err);\r\n                }\r\n              } else {\r\n                return console.log(err);\r\n              }\r\n            });\r\n        } catch (error) {\r\n          console.log(error);\r\n          this.showError(\"Nill tiedoilla ei lytynyt kyttj!\");\r\n          this.$router.push({ path: \"/login\" });\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=1d1d1cb8&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCol,VContainer,VRow,VTextField})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicCups.vue?vue&type=style&index=0&id=61ca3724&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicCups.vue?vue&type=style&index=0&id=61ca3724&scoped=true&lang=css&\""],"sourceRoot":""}