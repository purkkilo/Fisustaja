{"version":3,"sources":["webpack:///./src/views/Dashboard.vue?5e00","webpack:///./src/views/Admin.vue?d10f","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?5b90","webpack:///./src/views/Admin.vue?3974","webpack:///./src/views/Feedback.vue?1447","webpack:///src/views/Feedback.vue","webpack:///./src/views/Feedback.vue?16ba","webpack:///./src/views/Feedback.vue","webpack:///./src/views/Dashboard.vue?88a1","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?3f19","webpack:///./src/views/Dashboard.vue?eacd","webpack:///./src/views/CompSettings.vue?59ee","webpack:///src/views/CompSettings.vue","webpack:///./src/views/CompSettings.vue?bf33","webpack:///./src/views/CompSettings.vue","webpack:///./src/views/CupOverview.vue?c00c","webpack:///src/views/CupOverview.vue","webpack:///./src/views/CupOverview.vue?84d6","webpack:///./src/views/CupOverview.vue","webpack:///./src/views/Admin.vue?fb48"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","mobile","$vuetify","breakpoint","width","browser","wide","attrs","model","value","callback","$$v","tab","expression","_v","staticStyle","inputarea","$store","getters","getTheme","prevRoute","on","$event","$router","push","path","_e","loading","feedback","staticClass","_s","length","loading_users","users","loading_competitions","all_competitions","competitions","loading_cups","all_cups","cups","search","scopedSlots","_u","key","fn","proxy","props","_l","user","index","ref","_g","is_admin","name","$set","email","menu","_b","copyToClipboard","_id","createdAt","JSON","stringify","search_comp","headers","item","start_date","format","getColor","cup_points_multiplier","pickCompetition","deleteCompetition","type","message","deleteFeedback","timeout","snackbar","text","staticRenderFns","data","user_id","cup","signees_amount","team_competition","number_rules","beforeRouteEnter","next","vm","from","components","ProgressBarQuery","methods","multiplier","fallbackCopyToClipboard","textArea","document","createElement","style","top","left","position","body","appendChild","focus","select","successful","execCommand","msg","console","log","error","err","removeChild","navigator","clipboard","writeText","then","state","competition","localStorage","setItem","component","VAvatar","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCol","VContainer","VDataIterator","VDataTable","VDivider","VIcon","VList","VListItem","VListItemAction","VListItemAvatar","VListItemContent","VListItemSubtitle","VListItemTitle","VMenu","VRow","VSheet","VSkeletonLoader","VSnackbar","VSpacer","VTab","VTabItem","VTabs","VTabsItems","VTabsSlider","VTextField","VToolbar","VTooltip","type_options","sendFeedback","mounted","location","href","VSelect","VTextarea","errors","created","publishing","createCupDialog","year","saveYear","isThereCompetitionLimit","preventDefault","isNumber","meaningful_competitions","saveCup","tweenedCompetitions","toFixed","tweenedCups","CompCupTable","cupsAmount","competitionsAmount","animationLength","watch","val","$nextTick","gsap","duration","Number","n","commit","removeItem","getItem","parse","charToCheckCode","charToCheck","isDate","evt","window","event","charCode","which","keyCode","target","indexOf","showError","split","$refs","picker","activePicker","VAlert","VCheckbox","VDatePicker","VDialog","VListItemIcon","basic_info_validated","locality","cup_name","formatted_start_date","formatted_end_date","start_time","end_time","p","placement","points","cup_participation_points","fish","minsize","isPublic","updating","publishCompetition","isFinished","endCompetition","loadingMessage","max_input","rules","editPoints","sortPlacements","removePlacement","addPlacement","cancelPoints","confirmPoints","resetPoints","end_date","inputs","input","parseInt","deleteFish","original_name","addInput","setOriginalValues","checkBasicInformation","Timedate","CompetitionNavigation","draggable","dialog","fish_specs","placement_points_array","temp_placement_points_array","selectedItem","items","refreshCompetition","competition_id","lastItem","splice","sort","savePlacements","forEach","changePage","currentRoute","route","drawer","weights","color","generateRandomColor","confirmed","signees","signee","fish_name","signee_index","$confirm","original_multiplier","original_minsize","Date","randomColor","Math","floor","random","toString","validated","isDateValid","$moment","isEndDateValid","isStartTimeValid","isEndTimeValid","isValid","id","isBefore","cup_id","temp_placement_points","temp_placement","placement_point","cup_placement_points_array","total_points","weight_index","normal_weight","Object","assign","point_index","normal_point","fishes","normal_points","normal_results","normal_weights","team_results","calculateTeamResults","updateCompetition","calculateNormalResults","filter","a","b","last_points","last_placement","cup_placement_points","cup_points_total","boat_number","captain_name","temp_captain_name","toLocaleString","temp_dict","weight","output","team_names","team","members","member","team_points","team_name","captain_name_1","captain_name_2","captain_name_3","VRadio","VRadioGroup","VSubheader","VTimePicker","isLandscape","saveAsPDF","select_table","selectTableData","selected","allCompetitions","selected_headers","selected_items","getMultiplierColor","stopPropagation","new_captain_name","new_temp_captain_name","new_locality","dialog_signee","modifySignee","publishCup","results","isResults","selectNumbers","selection","changeHeaders","refreshCup","selectedCompetitions","calculateAll","options","showInfoInPdf","show","showUnfinishedCompetitions","sortUnfinished","CupPoints","CupStats","dialog_clock","cup_fishes_competition","cup_fishes_total","cup_signees","cup_biggest_fishes","cup_biggest_amounts","total_fishes_chart_data","competition_fishes_chart_data","cup_signees_chart_data","cup_biggest_fishes_chart_data","cup_biggest_amounts_chart_data","headers_comp","headers_signees","isSimpleMode","setCompetitionData","query","key_name","i","shared","found_signee","cup_results","all_results","cup_signee","alert","limitCompetitions","limit","final_placement","final_cup_points","highlight","align","notFinishedCount","headerSelection","header","found_headers","new_header_text","temp","element","comp","orientation","temp_array","count","finalIndex","last_competition","last_competition_string","doc","setFontSize","title","line","table_title","sub_title","unfinished_competitions","columns","rows","startY","autoTable","head","styles","overflow","halign","fontSize","lineColor","lineWidth","columnStyles","headStyles","theme","pageBreak","tableWidth","margin"],"mappings":"oKAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CACpHC,OAAQP,EAAIQ,SAASC,WAAWC,MAAQ,IACxCC,QAASX,EAAIQ,SAASC,WAAWC,OAAS,IAC1CE,KAAMZ,EAAIQ,SAASC,WAAWC,OAAS,OACtC,CAACN,EAAG,SAAS,CAACS,MAAM,CAAC,mBAAmB,iBAAiB,MAAQ,gBAAgB,KAAO,GAAG,cAAc,GAAG,YAAY,mCAAmC,YAAY,kCAAkC,gBAAgB,IAAIC,MAAM,CAACC,MAAOf,EAAO,IAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,IAAID,GAAKE,WAAW,QAAQ,CAACf,EAAG,gBAAgB,CAACS,MAAM,CAAC,MAAQ,mBAAmBT,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,cAAc,CAACb,EAAIoB,GAAG,iBAAiBhB,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,WAAW,CAACb,EAAIoB,GAAG,eAAehB,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,kBAAkB,CAACb,EAAIoB,GAAG,eAAehB,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,cAAc,CAACb,EAAIoB,GAAG,oBAAoB,GAAGhB,EAAG,eAAe,CAACiB,YAAY,CAAC,WAAa,sBAAsBP,MAAM,CAACC,MAAOf,EAAO,IAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,IAAID,GAAKE,WAAW,QAAQ,CAACf,EAAG,aAAa,CAACE,MAAM,CACnxBgB,WAAYtB,EAAIuB,OAAOC,QAAQC,SAC/B,iBAAkBzB,EAAIuB,OAAOC,QAAQC,UACrCZ,MAAM,CAAC,MAAQ,aAAa,CAACT,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAEJ,EAAa,UAAEI,EAAG,QAAQ,CAAEJ,EAAI0B,UAAc,KAAEtB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,MAAQ,UAAUc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,QAAQC,KAAK,CAAEC,KAAM/B,EAAI0B,UAAUK,UAAW,CAAC3B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyBpB,EAAIoB,GAAG,mBAAmB,GAAGpB,EAAIgC,MAAM,GAAGhC,EAAIgC,MAAM,GAAG5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,qBAAqB,GAAKpB,EAAIiC,QAAgb7B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,KAAK,CAACE,MAAM,CACh6B,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,+BAA+BhB,EAAG,qBAAqB,IAAI,GAF2WA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,UAAY,KAAK,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAAEzB,EAAIkC,SAAe,OAAE9B,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,uBAAuBpB,EAAIoB,GAAG,wBAAwBpB,EAAIoC,GAAGpC,EAAIkC,SAASG,QAAQ,UAAU,GAAGjC,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,uBAAuBpB,EAAIoB,GAAG,qBAAqB,MAAM,IAAI,GAE1wBpB,EAAIsC,cAAiblC,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,KAAK,CAACE,MAAM,CACxkB,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,6BAA6BhB,EAAG,qBAAqB,IAAI,GAF0BA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,UAAY,KAAK,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAAEzB,EAAIuC,MAAY,OAAEnC,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,wBAAwBpB,EAAIoB,GAAG,wBAAwBpB,EAAIoC,GAAGpC,EAAIuC,MAAMF,QAAQ,UAAU,GAAGjC,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,wBAAwBpB,EAAIoB,GAAG,oBAAoB,MAAM,IAAI,GAEpbpB,EAAIwC,qBAAmjBpC,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,KAAK,CAACE,MAAM,CACxsB,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,8BAA8BhB,EAAG,qBAAqB,IAAI,GAF8BA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,UAAY,KAAK,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAAEzB,EAAIyC,iBAAuB,OAAErC,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,eAAepB,EAAIoB,GAAG,yBAAyBpB,EAAIoC,GAAGpC,EAAIyC,iBAAiBJ,QAAQ,QAAQjC,EAAG,MAAMJ,EAAIoB,GAAG,wBAAqBpB,EAAIoC,GAAGpC,EAAI0C,aAAaL,QAAQ,IAAIrC,EAAIoC,GAAGpC,EAAIyC,iBAAiBJ,QAAQ,UAAU,GAAGjC,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,eAAepB,EAAIoB,GAAG,qBAAqB,MAAM,IAAI,GAEnjBpB,EAAI2C,aAAyiBvC,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,KAAK,CAACE,MAAM,CAC/rB,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,2BAA2BhB,EAAG,qBAAqB,IAAI,GAF0BA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,UAAY,KAAK,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAAEzB,EAAI4C,SAAe,OAAExC,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,oBAAoB,CAACb,EAAIoB,GAAG,eAAepB,EAAIoB,GAAG,sBAAsBpB,EAAIoC,GAAGpC,EAAI4C,SAASP,QAAQ,QAAQjC,EAAG,MAAMJ,EAAIoB,GAAG,wBAAqBpB,EAAIoC,GAAGpC,EAAI6C,KAAKR,QAAQ,IAAIrC,EAAIoC,GAAGpC,EAAI4C,SAASP,QAAQ,UAAU,GAAGjC,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,eAAepB,EAAIoB,GAAG,kBAAkB,MAAM,IAAI,IAE9iB,IAAI,IAAI,GAAGhB,EAAG,aAAa,CAACE,MAAM,CAChHgB,WAAYtB,EAAIuB,OAAOC,QAAQC,SAC/B,iBAAkBzB,EAAIuB,OAAOC,QAAQC,UACrCZ,MAAM,CAAC,MAAQ,UAAU,CAACT,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAEJ,EAAa,UAAEI,EAAG,QAAQ,CAAEJ,EAAI0B,UAAc,KAAEtB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,MAAQ,UAAUc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,QAAQC,KAAK,CAAEC,KAAM/B,EAAI0B,UAAUK,UAAW,CAAC3B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyBpB,EAAIoB,GAAG,mBAAmB,GAAGpB,EAAIgC,MAAM,GAAGhC,EAAIgC,MAAM,GAAG5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,eAAehB,EAAG,MAAMA,EAAG,IAAI,CAAC+B,YAAY,YAAY7B,MAAM,CACnc,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,+CAA+C,GAAIpB,EAAIuC,MAAY,OAAEnC,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAC9G,gBAAiBN,EAAIuB,OAAOC,QAAQC,UACpCZ,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,kBAAkB,CAAC+B,YAAY,eAAetB,MAAM,CAAC,MAAQb,EAAIuC,MAAM,OAASvC,EAAI8C,OAAO,sBAAsB,IAAIC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAAC9C,EAAG,YAAY,CAAC+B,YAAY,OAAOtB,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,eAAe,CAACS,MAAM,CAAC,UAAY,GAAG,KAAO,GAAG,gBAAgB,GAAG,eAAe,GAAG,qBAAqB,SAAS,MAAQ,QAAQC,MAAM,CAACC,MAAOf,EAAU,OAAEgB,SAAS,SAAUC,GAAMjB,EAAI8C,OAAO7B,GAAKE,WAAW,aAAa,KAAKgC,OAAM,GAAM,CAACF,IAAI,UAAUC,GAAG,SAASE,GAAO,OAAOpD,EAAIqD,GAAID,EAAW,OAAE,SAASE,EAAKC,GAAO,OAAOnD,EAAG,QAAQ,CAAC6C,IAAIM,EAAMlC,YAAY,CAAC,aAAa,SAAS,CAACjB,EAAG,SAAS,CAACS,MAAM,CAAC,OAAS,GAAG,MAAQ,GAAG,WAAa,mBAAmB,OAAS,WAAW,kBAAiB,GAAOkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GACn1B,IAAI7B,EAAK6B,EAAI7B,GAC3B,MAAO,CAACvB,EAAG,SAASJ,EAAIyD,GAAG,CAAC5C,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,SAAWzB,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,GAAG,MAAQ6B,EAAKI,SAAW,kBAAoB,UAAU/B,GAAI,CAACvB,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,KAAK,CAAEyC,EAAa,SAAElD,EAAG,SAAS,CAACJ,EAAIoB,GAAG,sBAAsBhB,EAAG,SAAS,CAACJ,EAAIoB,GAAG,kBAAkB,GAAGpB,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGkB,EAAKK,MAAM,MAAM,OAAO,MAAK,GAAM7C,MAAM,CAACC,MAAOuC,EAAS,KAAEtC,SAAS,SAAUC,GAAMjB,EAAI4D,KAAKN,EAAM,OAAQrC,IAAME,WAAW,cAAc,CAACf,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,KAAK,CAACT,EAAG,cAAc,CAACA,EAAG,qBAAqB,CAAEkD,EAAa,SAAElD,EAAG,SAAS,CAACJ,EAAIoB,GAAG,sBAAsBhB,EAAG,SAAS,CAACJ,EAAIoB,GAAG,kBAAkB,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGkB,EAAKK,SAASvD,EAAG,uBAAuB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGkB,EAAKO,WAAW,GAAGzD,EAAG,qBAAqB,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ0B,EAAKQ,MAAO,KAAS,CAAC1D,EAAG,SAAS,CAACJ,EAAIoB,GAAG,uBAAuB,IAAI,IAAI,IAAI,GAAGhB,EAAG,SAAS,CAACA,EAAG,YAAY,CAACS,MAAM,CAAC,MAAQ,IAAIkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GAC5iC,IAAI7B,EAAK6B,EAAI7B,GACTd,EAAQ2C,EAAI3C,MAC9B,MAAO,CAACT,EAAG,cAAcJ,EAAIyD,GAAGzD,EAAI+D,GAAG,CAACpC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAIgE,gBAAgBV,EAAKW,IAAKX,MAAS,cAAczC,GAAM,GAAOc,GAAI,CAACvB,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,mCAAmC,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGkB,EAAKW,QAAQ7D,EAAG,uBAAuB,CAACJ,EAAIoB,GAAG,SAAS,IAAI,OAAO,MAAK,IAAO,CAAChB,EAAG,OAAO,CAACJ,EAAIoB,GAAG,cAAchB,EAAG,YAAY,CAACS,MAAM,CAAC,MAAQ,IAAIkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GAC5d,IAAI7B,EAAK6B,EAAI7B,GACTd,EAAQ2C,EAAI3C,MAC9B,MAAO,CAACT,EAAG,cAAcJ,EAAIyD,GAAGzD,EAAI+D,GAAG,CAACpC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAIgE,gBAAgBV,EAAKY,UAAWZ,MAAS,cAAczC,GAAM,GAAOc,GAAI,CAACvB,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyB,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGkB,EAAKY,cAAc9D,EAAG,uBAAuB,CAACJ,EAAIoB,GAAG,iBAAiB,IAAI,OAAO,MAAK,IAAO,CAAChB,EAAG,OAAO,CAACJ,EAAIoB,GAAG,cAAekC,EAAa,SAAElD,EAAG,cAAc,CAACuB,GAAG,CAAC,MAAQ,eAAiB,CAACvB,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,oBAAoB,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,WAAWhB,EAAG,uBAAuB,CAACJ,EAAIoB,GAAG,YAAY,IAAI,GAAGhB,EAAG,cAAc,CAACuB,GAAG,CAAC,MAAQ,eAAiB,CAACvB,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,oBAAoB,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,cAAchB,EAAG,uBAAuB,CAACJ,EAAIoB,GAAG,YAAY,IAAI,GAAGhB,EAAG,cAAc,CAACuB,GAAG,CAAC,MAAQ,eAAiB,CAACvB,EAAG,sBAAsB,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,QAAQc,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAIgE,gBAAgBG,KAAKC,UAAUd,GAAOA,MAAS,CAAClD,EAAG,SAAS,CAACJ,EAAIoB,GAAG,sBAAsBpB,EAAIoB,GAAG,yBAAyB,IAAI,IAAI,IAAI,IAAI,IAAI,GAAGhB,EAAG,YAAY,CAACiB,YAAY,CAAC,aAAa,WAAW,SAAQ,MAAK,EAAM,eAAe,IAAI,GAAIrB,EAAiB,cAAEI,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,KAAK,YAAY,MAAM,CAACT,EAAG,UAAU,CAAC+B,YAAY,iBAAiBtB,MAAM,CAAC,MAAS,SAAWb,EAAIuB,OAAOC,QAAQC,SAAW,WAAa,eAAgB,CAACrB,EAAG,oBAAoB,CAAC+B,YAAY,UAAUtB,MAAM,CAAC,KAAO,WAAW,IAAI,IAAI,GAAGT,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,MAAM,CACnkD,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,wBAAwB,IAAI,IAAI,IAAI,GAAGhB,EAAG,aAAa,CAACE,MAAM,CACjFgB,WAAYtB,EAAIuB,OAAOC,QAAQC,SAC/B,iBAAkBzB,EAAIuB,OAAOC,QAAQC,UACrCZ,MAAM,CAAC,MAAQ,iBAAiB,CAACT,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAEJ,EAAa,UAAEI,EAAG,QAAQ,CAAEJ,EAAI0B,UAAc,KAAEtB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,MAAQ,UAAUc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,QAAQC,KAAK,CAAEC,KAAM/B,EAAI0B,UAAUK,UAAW,CAAC3B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyBpB,EAAIoB,GAAG,mBAAmB,GAAGpB,EAAIgC,MAAM,GAAGhC,EAAIgC,MAAM,GAAG5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,kBAAkB,GAAIpB,EAAIyC,iBAAuB,OAAErC,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,eAAe,CAACA,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAACnC,EAAIoB,GAAG,eAAehB,EAAG,YAAYA,EAAG,eAAe,CAACS,MAAM,CAAC,cAAc,cAAc,MAAQ,gBAAgB,cAAc,GAAG,eAAe,IAAIC,MAAM,CAACC,MAAOf,EAAe,YAAEgB,SAAS,SAAUC,GAAMjB,EAAIqE,YAAYpD,GAAKE,WAAW,kBAAkB,GAAGf,EAAG,eAAe,CAACS,MAAM,CAAC,GAAK,eAAe,QAAUb,EAAIsE,QAAQ,MAAQtE,EAAIyC,iBAAiB,OAASzC,EAAIqE,YAAY,QAAUrE,EAAIwC,sBAAsBO,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,kBAAkBC,GAAG,SAASM,GAC3iC,IAAIe,EAAOf,EAAIe,KACrB,MAAO,CAACnE,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,qBAAqB,CAACb,EAAIoB,GAAGpB,EAAIoC,GAAGmC,EAAKC,WAAWC,OAAO,qBAAqB,CAACxB,IAAI,6BAA6BC,GAAG,SAASM,GAC5J,IAAIe,EAAOf,EAAIe,KACrB,MAAO,CAACnE,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQb,EAAI0E,SAASH,EAAKI,uBAAuB,SAAW3E,EAAIuB,OAAOC,QAAQC,WAAW,CAACzB,EAAIoB,GAAGpB,EAAIoC,GAAGmC,EAAKI,uBAAuB,UAAU,CAAC1B,IAAI,cAAcC,GAAG,SAASM,GACpM,IAAIe,EAAOf,EAAIe,KACrB,MAAO,CAACnE,EAAG,YAAY,CAACS,MAAM,CAAC,MAAQ,IAAIkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GACtF,IAAI7B,EAAK6B,EAAI7B,GACTd,EAAQ2C,EAAI3C,MACtB,MAAO,CAACT,EAAG,QAAQJ,EAAIyD,GAAGzD,EAAI+D,GAAG,CAAClD,MAAM,CAAC,MAAQ,WAAWc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI4E,gBAAgBL,MAAS,QAAQ1D,GAAM,GAAOc,GAAI,CAACvB,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,UAAU,CAACb,EAAIoB,GAAG,uCAAuC,OAAO,MAAK,IAAO,CAAChB,EAAG,OAAO,CAACJ,EAAIoB,GAAG,4BAA4B,CAAC6B,IAAI,cAAcC,GAAG,SAASM,GACvU,IAAIe,EAAOf,EAAIe,KACrB,MAAO,CAACnE,EAAG,YAAY,CAACS,MAAM,CAAC,MAAQ,IAAIkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GACtF,IAAI7B,EAAK6B,EAAI7B,GACTd,EAAQ2C,EAAI3C,MACtB,MAAO,CAACT,EAAG,QAAQJ,EAAIyD,GAAGzD,EAAI+D,GAAG,CAAClD,MAAM,CAAC,MAAQ,MAAM,QAAUb,EAAIwC,sBAAsBb,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6E,kBAAkBN,EAAKN,KAAK,MAAU,QAAQpD,GAAM,GAAOc,GAAI,CAACvB,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyB,OAAO,MAAK,IAAO,CAAChB,EAAG,OAAO,CAACJ,EAAIoB,GAAG,2BAA2B,MAAK,MAAS,IAAI,IAAI,GAAGhB,EAAG,QAAQ,CAAEJ,EAAwB,qBAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,KAAK,YAAY,MAAM,CAACT,EAAG,UAAU,CAAC+B,YAAY,iBAAiBtB,MAAM,CAAC,MAAS,SAAWb,EAAIuB,OAAOC,QAAQC,SAAW,WAAa,eAAgB,CAACrB,EAAG,oBAAoB,CAAC+B,YAAY,UAAUtB,MAAM,CAAC,KAAO,WAAW,IAAI,GAAGT,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,MAAM,CAC1nB,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,yBAAyB,IAAI,IAAI,IAAI,GAAGhB,EAAG,aAAa,CAACE,MAAM,CAClFgB,WAAYtB,EAAIuB,OAAOC,QAAQC,SAC/B,iBAAkBzB,EAAIuB,OAAOC,QAAQC,UACrCZ,MAAM,CAAC,MAAQ,aAAa,CAACT,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAEJ,EAAa,UAAEI,EAAG,QAAQ,CAAEJ,EAAI0B,UAAc,KAAEtB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,MAAQ,UAAUc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,QAAQC,KAAK,CAAEC,KAAM/B,EAAI0B,UAAUK,UAAW,CAAC3B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyBpB,EAAIoB,GAAG,mBAAmB,GAAGpB,EAAIgC,MAAM,GAAGhC,EAAIgC,MAAM,GAAG5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,sBAAsB,GAAIpB,EAAIkC,SAAe,OAAE9B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACS,MAAM,CAAC,GAAK,iBAAiBb,EAAIqD,GAAIrD,EAAY,UAAE,SAASkC,EAASqB,GAAO,OAAOnD,EAAG,KAAK,CAAC6C,IAAIM,GAAO,CAACnD,EAAG,SAAS,CAAC+B,YAAY,UAAUd,YAAY,CAAC,gBAAgB,OAAO,aAAa,QAAQR,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,YAAY,QAAQ,YAAY,UAAU,CAACrB,EAAG,eAAe,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,KAAK,YAAY,MAAM,CAACT,EAAG,OAAO,CAAC+B,YAAY,2BAA2B,CAACnC,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGmB,EAAQ,GAAG,IAAIvD,EAAIoC,GAAGF,EAAS4C,YAAY,GAAG1E,EAAG,cAAc,CAAC+B,YAAY,4BAA4Bd,YAAY,CAAC,aAAa,cAAc,CAACrB,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGF,EAAS6C,SAAS,OAAO3E,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC+B,YAAY,cAActB,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,MAAQ,SAAS,QAAUb,EAAIiC,SAASN,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAIgF,eAAe9C,EAAS+B,QAAQ,CAAC7D,EAAG,SAAS,CAACJ,EAAIoB,GAAG,uBAAuBpB,EAAIoB,GAAG,aAAa,IAAI,IAAI,IAAI,IAAI,MAAK,MAAM,GAAGhB,EAAG,QAAQ,CAAEJ,EAAW,QAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,KAAK,YAAY,MAAM,CAACT,EAAG,UAAU,CAAC+B,YAAY,iBAAiBtB,MAAM,CAAC,MAAS,SAAWb,EAAIuB,OAAOC,QAAQC,SAAW,WAAa,eAAgB,CAACrB,EAAG,oBAAoB,CAAC+B,YAAY,UAAUtB,MAAM,CAAC,KAAO,WAAW,IAAI,GAAGT,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,MAAM,CAC9pD,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,uCAAuC,IAAI,IAAI,IAAI,IAAI,GAAGhB,EAAG,aAAa,CAACS,MAAM,CAAC,QAAUb,EAAIiF,SAASlC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASM,GAClK,IAAI3C,EAAQ2C,EAAI3C,MAChC,MAAO,CAACT,EAAG,QAAQJ,EAAI+D,GAAG,CAAClD,MAAM,CAAC,MAAQ,OAAO,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAIkF,UAAW,KAAS,QAAQrE,GAAM,GAAO,CAACb,EAAIoB,GAAG,kBAAkBN,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIkF,SAASjE,GAAKE,WAAW,aAAa,CAACnB,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAImF,MAAM,QAAQ,IAChSC,EAAkB,G,yLCykBtB,GACEC,KADF,WAEI,MAAO,CACLnE,IAAK,KACLgB,SAAU,GACVK,MAAO,GACPE,iBAAkB,GAClBC,aAAc,GACd4C,QAAS,KACTrD,SAAS,EACTK,eAAe,EACfE,sBAAsB,EACtBG,cAAc,EACdC,SAAU,GACVC,KAAM,GACN0C,IAAK,GACLC,eAAgB,GAChBC,iBAAkB,KAClBC,aAAc,CACpB,YAAQ,QAAR,oCACA,YAAQ,OAAR,gCACA,YAAQ,OAAR,gDAEMpB,QAAS,CACf,CAAQ,KAAR,uBAAQ,MAAR,cACA,CAAQ,KAAR,OAAQ,MAAR,QACA,CAAQ,KAAR,WAAQ,MAAR,YACA,CAAQ,KAAR,MAAQ,MAAR,YACA,CAAQ,KAAR,eAAQ,MAAR,yBACA,CAAQ,KAAR,UAAQ,MAAR,SAAQ,UAAR,GACA,CAAQ,KAAR,SAAQ,MAAR,SAAQ,UAAR,IAEMD,YAAa,GACbvB,OAAQ,GACRpB,UAAW,KACXwD,UAAU,EACVC,KAAM,GACNF,QAAS,MAGbU,iBAxCF,SAwCA,OACIC,GAAK,SAAT,GACMC,EAAGnE,UAAYoE,MAGnBC,WAAY,CACVC,iBAAJ,cAGE,QAjDF,WAiDA,qKAGA,kBACA,qBAEA,UACA,gBACA,uBACA,gBACA,EACA,2CACA,IACA,oBAbA,kBAkBA,kBACA,KADA,yDACA,+GACA,qBADA,cACA,WADA,OAEA,aACA,UACA,6BACA,aAEA,mBAPA,SASA,yBATA,OASA,mBATA,OAUA,wCACA,yBACA,wCACA,KACA,qCACA,iCACA,qBACA,WADA,aAEA,4BAFA,QAKA,0CACA,4CAGA,uCACA,6CAEA,YACA,0BA7BA,4CADA,uDAgCA,MAhCA,yDAgCA,kGACA,wBADA,uBAEA,kDACA,cAHA,SAIA,oBACA,iBACA,mCAEA,mBACA,kBATA,6BAYA,6BAZA,2CAhCA,uDAlBA,4DAkEA,4BAlEA,6DAqEEC,QAAS,CACPvB,SADJ,SACA,GACM,OAAIwB,EAAa,EAAU,MACR,IAAfA,EAAyB,QACnC,QAGIC,wBAAyB,SAA7B,GACM,IAAIC,EAAWC,SAASC,cAAc,YACtCF,EAASrF,MAAQoE,EAEjBiB,EAASG,MAAMC,IAAM,IACrBJ,EAASG,MAAME,KAAO,IACtBL,EAASG,MAAMG,SAAW,QAC1BL,SAASM,KAAKC,YAAYR,GAC1BA,EAASS,QACTT,EAASU,SACT,IACE,IAAIC,EAAaV,SAASW,YAAY,QAClCC,EAAMF,EAAa,aAAe,eACtCG,QAAQC,IAAI,2BAA6BF,GACjD,SACQC,QAAQE,MAAM,4BAA6BC,GAG7ChB,SAASM,KAAKW,YAAYlB,IAE5BpC,gBAAiB,SAArB,gBAEWuD,UAAUC,WAIfD,UAAUC,UAAUC,UAAUtC,GAAMuC,MAC1C,WACQ,EAAR,8CACQ,EAAR,eAEA,YACQ,QAAR,OACQ,EAAR,iDACQ,EAAR,eAGMpE,EAAKQ,MAAO,GAdV7D,KAAKkG,wBAAwBhB,IAgBjC,QA9CJ,WA8CA,4JACA,UADA,wBAEA,kBAFA,kBAKA,iBALA,OAKA,WALA,OAMA,oBACA,+BACA,wBAEA,gCACA,sDAEA,0BACA,4CAEA,+BAhBA,mDAmBA,qBAnBA,gCAsBA,gDAtBA,QAwBA,kBAxBA,4DA2BI,eAzEJ,SAyEA,kKACA,aADA,kBAIA,yBAJA,cAKA,4BACA,cANA,SAQA,qBARA,OAQA,WARA,OASA,aATA,qDAWA,4BAXA,6DAcIP,gBAAiB,SAArB,GAGM3E,KAAKsB,OAAOoG,MAAMC,YAAcA,EAEhCC,aAAaC,QACnB,cACA,gBACQ,GAAR,MACQ,WAAR,aACQ,SAAR,cAIM7H,KAAK4B,QAAQC,KAAK,CAAxB,oBAGI,kBAxGJ,SAwGA,uKAEA,EAFA,wBAGA,mCACA,cACA,0BALA,kBAQA,4BARA,OAUA,gEACA,MACA,+BAEA,0BAdA,qDAgBA,4BAhBA,gCAqBA,yDACA,kBAEA,GACA,4BAGA,mBACA,GACA,oBA9BA,+DCl2B+U,I,qZCQ3UiG,EAAY,eACd,EACAhI,EACAqF,GACA,EACA,KACA,WACA,MAIa,aAAA2C,EAAiB,QAsChC,IAAkBA,EAAW,CAACC,UAAA,KAAQC,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,QAAA,KAAMC,OAAA,KAAKC,aAAA,KAAWC,gBAAA,KAAcC,aAAA,KAAWC,WAAA,KAASC,QAAA,KAAMC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,kBAAA,KAAgBC,iBAAA,OAAiBC,kBAAA,OAAkBC,eAAA,OAAeC,QAAA,KAAMC,OAAA,KAAKC,SAAA,KAAOC,kBAAA,KAAgBC,YAAA,KAAUC,UAAA,KAAQC,OAAA,KAAKC,WAAA,KAASC,QAAA,KAAMC,aAAA,KAAWC,cAAA,KAAYC,aAAA,KAAWC,WAAA,KAASC,WAAA,Q,2CCzDtW,IAAIlK,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CACpHC,OAAQP,EAAIQ,SAASC,WAAWC,MAAQ,IACxCC,QAASX,EAAIQ,SAASC,WAAWC,OAAS,IAC1CE,KAAMZ,EAAIQ,SAASC,WAAWC,OAAS,OACtC,CAACN,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,UAAY,KAAK,SAAW,GAAG,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAEJ,EAAS,MAAEI,EAAG,QAAQ,CAACJ,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAIoH,OAAO,OAAOpH,EAAIgC,KAAK5B,EAAG,QAAQ,CAACiB,YAAY,CAAC,OAAS,QAAQR,MAAM,CAAC,GAAK,kBAAkB,CAAEb,EAAa,UAAEI,EAAG,QAAQ,CAAEJ,EAAI0B,UAAc,KAAEtB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,SAAW,GAAG,MAAQ,UAAUc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,QAAQC,KAAK,CAAEC,KAAM/B,EAAI0B,UAAUK,UAAW,CAAC3B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyBpB,EAAIoB,GAAG,mBAAmB,GAAGpB,EAAIgC,MAAM,GAAGhC,EAAIgC,MAAM,GAAG5B,EAAG,KAAK,CAACJ,EAAIoB,GAAG,uBAAuBhB,EAAG,IAAI,CAAC+B,YAAY,8BAA8B,CAACnC,EAAIoB,GAAG,sDAAsDhB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC+B,YAAY,SAAStB,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,WAAW,CAACS,MAAM,CAAC,aAAab,EAAIuB,OAAOC,QAAQC,SAAW,OAAS,QAAQ,KAAOzB,EAAIuB,OAAOC,QAAQC,SAAS,aAAa,OAAO,MAAQzB,EAAIkK,aAAa,MAAQ,oBAAoB,SAAW,IAAIpJ,MAAM,CAACC,MAAOf,EAAQ,KAAEgB,SAAS,SAAUC,GAAMjB,EAAI8E,KAAK7D,GAAKE,WAAW,WAAW,IAAI,GAAGf,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CACroCgB,WAAYtB,EAAIuB,OAAOC,QAAQC,SAC/B,iBAAkBzB,EAAIuB,OAAOC,QAAQC,UACrCZ,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,aAAa,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,KAAO,YAAY,OAAS,GAAG,MAAQ,gBAAgB,YAAY,GAAG,MAAQzB,EAAI+E,QAAQ,UAAY,OAAOjE,MAAM,CAACC,MAAOf,EAAW,QAAEgB,SAAS,SAAUC,GAAMjB,EAAI+E,QAAQ9D,GAAKE,WAAW,cAAc,IAAI,GAAGf,EAAG,QAAQ,CAACiB,YAAY,CAAC,OAAS,SAAS,CAACjB,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,SAAW,GAAG,MAAQ,QAAQ,QAAUb,EAAIiC,SAASN,GAAG,CAAC,MAAQ3B,EAAImK,eAAe,CAAC/J,EAAG,SAAS,CAACJ,EAAIoB,GAAG,cAAcpB,EAAIoB,GAAG,mBAAmB,IAAI,IAAI,IAAI,IAAI,GAAGhB,EAAG,aAAa,CAACS,MAAM,CAAC,QAAUb,EAAIiF,SAASlC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASM,GACvrB,IAAI3C,EAAQ2C,EAAI3C,MAC5B,MAAO,CAACT,EAAG,QAAQJ,EAAI+D,GAAG,CAAClD,MAAM,CAAC,MAAQ,OAAO,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAIkF,UAAW,KAAS,QAAQrE,GAAM,GAAO,CAACb,EAAIoB,GAAG,kBAAkBN,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIkF,SAASjE,GAAKE,WAAW,aAAa,CAACnB,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAImF,MAAM,QAAQ,IAAI,IACpSC,EAAkB,G,oCCkGtB,GACEzB,KAAM,WACNoC,WAAY,GACZV,KAHF,WAII,MAAO,CACL3D,UAAW,KACXqD,QAAS,KACTD,KAAM,OACNoF,aAAc,CAAC,OAAQ,UAAW,OAClCjI,SAAS,EACTmF,MAAO,KACPlC,UAAU,EACVC,KAAM,GACNF,QAAS,MAGbU,iBAhBF,SAgBA,OACIC,GAAK,SAAT,GACMC,EAAGnE,UAAYoE,MAGnBsE,QArBF,WAuBIC,SAASC,KAAO,IAChBD,SAASC,KAAO,QAElBrE,QAAS,CACP,aADJ,WACA,iKAEA,SACA,aAGA,UANA,sBAOA,qBAPA,wBASA,kCACA,aAVA,kBAcA,yBAdA,OAeA,gCACA,cAhBA,qDAkBA,4BAlBA,QAoBA,aACA,eArBA,wBAuBA,qDACA,cAxBA,gCA2BA,qDACA,cA5BA,+DCvIkV,I,6ICO9U8B,EAAY,eACd,EACAhI,EACAqF,GACA,EACA,KACA,KACA,MAIa,aAAA2C,EAAiB,QAahC,IAAkBA,EAAW,CAACE,OAAA,KAAKC,QAAA,KAAMK,OAAA,KAAKC,aAAA,KAAWI,QAAA,KAAMS,OAAA,KAAKkB,UAAA,KAAQf,YAAA,KAAUgB,YAAA,Q,yCC/BtF,IAAIzK,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CACpHC,OAAQP,EAAIQ,SAASC,WAAWC,MAAQ,IACxCC,QAASX,EAAIQ,SAASC,WAAWC,OAAS,IAC1CE,KAAMZ,EAAIQ,SAASC,WAAWC,OAAS,OACtC,CAAEV,EAAIyK,OAAa,OAAErK,EAAG,SAAS,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,GAAK,WAAW,UAAY,OAAO,CAACrB,EAAG,UAAU,CAACS,MAAM,CAAC,KAAO,UAAU,CAACb,EAAIoB,GAAG,iCAAiChB,EAAG,SAASJ,EAAIqD,GAAIrD,EAAU,QAAE,SAASoH,EAAM7D,GAAO,OAAOnD,EAAG,cAAc,CAAC6C,IAAIM,GAAO,CAACnD,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,uBAAuB,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGgF,OAAW,IAAI,MAAK,IAAI,GAAGpH,EAAIgC,KAAK5B,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,cAAc,QAAU,QAAQR,MAAM,CAAC,UAAY,KAAK,SAAW,GAAG,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,kBAAkB,GAAGhB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAEJ,EAAQ,KAAEI,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,SAAW,GAAG,KAAO,KAAK,CAACT,EAAG,eAAe,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,UAAU,KAAK,CAACb,EAAIoB,GAAG,wBAAwBpB,EAAIoB,GAAG,qBAAqB,GAAGhB,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,WAAW,GAAG,SAAW,KAAK,CAACT,EAAG,cAAc,CAACA,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,wBAAwB,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAIsD,KAAKK,SAASvD,EAAG,uBAAuB,CAACJ,EAAIoB,GAAG,WAAW,IAAI,GAAGhB,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,kBAAkB,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAIsD,KAAKO,UAAUzD,EAAG,uBAAuB,CAACJ,EAAIoB,GAAG,iBAAiB,IAAI,GAAGhB,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,qBAAqB,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAI0K,YAAYtK,EAAG,uBAAuB,CAACJ,EAAIoB,GAAG,YAAY,IAAI,IAAI,IAAI,GAAGpB,EAAIgC,MAAM,GAAG5B,EAAG,QAAQ,CAAEJ,EAAQ,KAAEI,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,SAAW,GAAG,KAAO,KAAK,CAACT,EAAG,eAAe,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,UAAU,KAAK,CAACb,EAAIoB,GAAG,eAAepB,EAAIoB,GAAG,gBAAgB,GAAGhB,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,SAAW,KAAK,CAACT,EAAG,cAAc,CAACA,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,wBAAwB,GAAGhB,EAAG,qBAAqB,CAACA,EAAG,cAAc,CAACS,MAAM,CAAC,GAAK,mBAAmB,CAACT,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,GAAG,SAAW,GAAG,QAAUb,EAAIiC,SAAWjC,EAAI2K,WAAW,SAAW3K,EAAIiC,SAAWjC,EAAI2K,aAAa,CAACvK,EAAG,SAAS,CAACJ,EAAIoB,GAAG,eAAe,IAAI,IAAI,IAAI,GAAGhB,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,mBAAmB,GAAGhB,EAAG,qBAAqB,CAACA,EAAG,WAAW,CAACS,MAAM,CAAC,MAAQ,MAAM,WAAa,IAAIkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GAC1lF,IAAI7B,EAAK6B,EAAI7B,GACTd,EAAQ2C,EAAI3C,MAClB,MAAO,CAACT,EAAG,QAAQJ,EAAIyD,GAAGzD,EAAI+D,GAAG,CAAClD,MAAM,CAAC,KAAO,GAAG,SAAW,GAAG,QAAUb,EAAIiC,SAAWjC,EAAI2K,WAAW,SAAW3K,EAAIiC,SAAWjC,EAAI2K,aAAa,QAAQ9J,GAAM,GAAOc,GAAI,CAACvB,EAAG,SAAS,CAACJ,EAAIoB,GAAG,eAAe,OAAO,MAAK,EAAM,YAAYN,MAAM,CAACC,MAAOf,EAAmB,gBAAEgB,SAAS,SAAUC,GAAMjB,EAAI4K,gBAAgB3J,GAAKE,WAAW,oBAAoB,CAACf,EAAG,SAAS,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,eAAe,CAACJ,EAAIoB,GAAG,eAAehB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,aAAa,UAAY,GAAG,QAAUzB,EAAIiC,QAAQ,QAAU,IAAInB,MAAM,CAACC,MAAOf,EAAQ,KAAEgB,SAAS,SAAUC,GAAMjB,EAAI2D,KAAK1C,GAAKE,WAAW,WAAW,IAAI,GAAGf,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,SAAS,CAACoD,IAAI,OAAO3C,MAAM,CAAC,0BAAyB,EAAM,cAAc,GAAG,WAAa,mBAAmB,WAAW,GAAG,YAAY,SAASkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GACrlC,IAAI7B,EAAK6B,EAAI7B,GACTd,EAAQ2C,EAAI3C,MAClB,MAAO,CAACT,EAAG,eAAeJ,EAAIyD,GAAGzD,EAAI+D,GAAG,CAAClD,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,QAAQ,eAAe,QAAQ,SAAW,IAAIX,MAAM,CAACC,MAAOf,EAAQ,KAAEgB,SAAS,SAAUC,GAAMjB,EAAI6K,KAAK5J,GAAKE,WAAW,SAAS,eAAeN,GAAM,GAAOc,QAAS,MAAK,EAAM,YAAYb,MAAM,CAACC,MAAOf,EAAQ,KAAEgB,SAAS,SAAUC,GAAMjB,EAAI8D,KAAK7C,GAAKE,WAAW,SAAS,CAACf,EAAG,gBAAgB,CAACoD,IAAI,SAAS3C,MAAM,CAAC,IAAM,aAAa,SAAW,GAAG,WAAW,IAAIc,GAAG,CAAC,MAAQ3B,EAAI8K,UAAUhK,MAAM,CAACC,MAAOf,EAAQ,KAAEgB,SAAS,SAAUC,GAAMjB,EAAI6K,KAAK5J,GAAKE,WAAW,WAAW,IAAI,IAAI,GAAGf,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,aAAa,CAACS,MAAM,CAAC,MAAQ,yCAAyCC,MAAM,CAACC,MAAOf,EAA2B,wBAAEgB,SAAS,SAAUC,GAAMjB,EAAI+K,wBAAwB9J,GAAKE,WAAW,8BAA8B,IAAI,GAAInB,EAA2B,wBAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,iCAAiC,UAAY,IAAI,KAAO,SAAS,QAAU,IAAI,IAAM,IAAI,IAAM,MAAM,MAAQzB,EAAI0F,aAAa,QAAU1F,EAAIiC,SAASN,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOoJ,kBAAmB,SAAW,SAASpJ,GAAQ,OAAO5B,EAAIiL,SAASrJ,GAAQ,KAAQd,MAAM,CAACC,MAAOf,EAA2B,wBAAEgB,SAAS,SAAUC,GAAMjB,EAAIkL,wBAAwBjK,GAAKE,WAAW,8BAA8B,IAAI,GAAGnB,EAAIgC,KAAK5B,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACT,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,GAAG,MAAQ,UAAU,QAAUb,EAAIiC,SAASN,GAAG,CAAC,MAAQ3B,EAAImL,UAAU,CAAC/K,EAAG,SAAS,CAACJ,EAAIoB,GAAG,eAAepB,EAAIoB,GAAG,YAAY,IAAI,IAAI,GAAGhB,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,UAAU,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAI4K,iBAAkB,KAAS,CAAC5K,EAAIoB,GAAG,gBAAgB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAGpB,EAAIgC,KAAK5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAEJ,EAAQ,KAAEI,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,cAAc,aAAa,OAAOR,MAAM,CAAC,SAAW,GAAG,KAAO,KAAK,CAACT,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,SAAW,KAAK,CAACT,EAAG,cAAc,CAACA,EAAG,YAAYA,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAIoL,oBAAoBC,QAAQ,IAAI,SAASjL,EAAG,uBAAuB,CAACJ,EAAIoB,GAAG,iBAAiB,GAAGhB,EAAG,YAAYA,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAIsL,YAAYD,QAAQ,IAAI,SAASjL,EAAG,uBAAuB,CAACJ,EAAIoB,GAAG,cAAc,GAAGhB,EAAG,aAAa,IAAI,IAAI,GAAGJ,EAAIgC,MAAM,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG5B,EAAG,iBAAiB,CAACS,MAAM,CAAC,aAAeb,EAAI0C,aAAa,KAAO1C,EAAI6C,KAAK,QAAU7C,EAAIiC,QAAQ,WAAajC,EAAI2K,cAAcvK,EAAG,aAAa,CAACS,MAAM,CAAC,QAAUb,EAAIiF,SAASlC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASM,GACt0F,IAAI3C,EAAQ2C,EAAI3C,MAClB,MAAO,CAACT,EAAG,QAAQJ,EAAI+D,GAAG,CAAClD,MAAM,CAAC,MAAQ,OAAO,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAIkF,UAAW,KAAS,QAAQrE,GAAM,GAAO,CAACb,EAAIoB,GAAG,kBAAkBN,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIkF,SAASjE,GAAKE,WAAW,aAAa,CAACnB,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAImF,MAAM,QAAQ,IAChSC,EAAkB,G,yJC2StB,GACEzB,KAAM,OACNoC,WAAY,CACVwF,aAAJ,QAEElG,KALF,WAMI,MAAO,CACL/B,KAAM,KACNoH,QAAS,KACTE,iBAAiB,EACjB9G,MAAM,EACN7B,SAAS,EACT0I,YAAY,EACZhH,KAAM,KACNkH,KAAM,KACNK,wBAAyB,EACzBH,yBAAyB,EACzBrI,aAAc,GACdG,KAAM,GACN4H,OAAQ,GACR/E,aAAc,CACpB,YAAQ,QAAR,oCACA,YAAQ,OAAR,iCAEMR,UAAU,EACVC,KAAM,GACNF,QAAS,IACTuG,WAAY,EACZC,mBAAoB,EACpBL,oBAAqB,EACrBE,YAAa,EACbI,gBAAiB,MAGrBC,MAAO,CACL7H,KADJ,SACA,cACM8H,GAAO3L,KAAK4L,WAAU,WAA5B,8CAEIL,WAJJ,SAIA,GACMM,EAAN,cACQC,SAAU9L,KAAKyL,gBACfJ,YAAaU,OAAOC,IAAM,KAG9BR,mBAVJ,SAUA,GACMK,EAAN,cACQC,SAAU9L,KAAKyL,gBACfN,oBAAqBY,OAAOC,IAAM,MAIxC,QAnDF,WAmDA,yKACA,aACA,2CACA,WAEA,cALA,SAMA,0BACA,kBACA,iBACA,2CAEA,oCACA,qCACA,oCAGA,mCACA,gDAGA,mBACA,mBACA,kBACA,aACA,gBAMA,kBA9BA,uBAmCA,gBACA,YAEA,kBACA,SACA,2BACA,2BACA,0DAGA,mBACA,kBACA,yBACA,eACA,6BAEA,wBACA,YACA,+FAGA,eAGA,kBA3DA,OA8DA,aA9DA,8CAiEE7B,QApHF,WA2HI,GALAnK,KAAKsB,OAAO2K,OAAO,qBAAsB,MACzCrE,aAAasE,WAAW,eACxBlM,KAAKsB,OAAO2K,OAAO,aAAc,MACjCrE,aAAasE,WAAW,OAEY,MAAhCtE,aAAauE,QAAQ,QAAiB,CACxCnM,KAAKqD,KAAOa,KAAKkI,MAAMxE,aAAauE,QAAQ,SAC5C,IAAN,oCACMnM,KAAKyK,QAAU,GAArB,4BACA,YADA,YAEA,UAIIL,SAASC,KAAO,IAChBD,SAASC,KAAO,QAElBrE,QAAS,CAEPgF,SAAU,SAAd,KACM,IAAIqB,EAAkB,GAClBC,EAAc,IAEbC,IACHF,EAAkB,GAClBC,EAAc,KAGhBE,EAAMA,GAAYC,OAAOC,MACzB,IAAIC,EAAWH,EAAII,MAAQJ,EAAII,MAAQJ,EAAIK,QAC3C,GACN,OACA,aACA,MAEQL,EAAIzB,qBACZ,CACQ,GAAI4B,GAAYN,EAOd,OAAO,EANP,KAAIG,EAAIM,OAAOhM,MAAMiM,QAAQT,IAAgB,GAG3C,OAAO,EAFPE,EAAIzB,mBASZ,WA/BJ,SA+BA,wKACA,uBADA,SAIA,gBACA,GACA,4BANA,SAQA,4BARA,0DAUA,4BAVA,QAYA,gBAZA,4DAeIiC,UA9CJ,SA8CA,GACMhN,KAAKwK,OAAO3I,KAAKsF,GACjBiD,SAASC,KAAO,IAChBD,SAASC,KAAO,QAGlBQ,SApDJ,SAoDA,GACMD,EAAOA,EAAKqC,MAAM,KAAK,GACvBjN,KAAK4K,KAAOA,EACZ5K,KAAKkN,MAAMC,OAAOC,aAAe,OACjCpN,KAAK6D,MAAO,GAEd,QA1DJ,WA0DA,qKACA,YACA,aAEA,QACA,mCAEA,QACA,sCAGA,uDACA,qDAGA,gBAfA,wBAgBA,2CACA,WACA,GACA,UACA,YACA,YACA,kDACA,2BACA,GAxBA,mBA4BA,oBA5BA,QA6BA,mCACA,cAMA,eACA,2BACA,2BACA,uDAEA,aACA,YACA,YACA,aA5CA,qDA8CA,4BA9CA,QAiDA,aACA,qBACA,6BACA,4BApDA,+DCzfmV,I,qTCQ/UiE,EAAY,eACd,EACAhI,EACAqF,GACA,EACA,KACA,KACA,MAIa,aAAA2C,EAAiB,QA6BhC,IAAkBA,EAAW,CAACuF,SAAA,KAAOrF,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaE,WAAA,OAAWkF,YAAA,KAAUhF,OAAA,KAAKC,aAAA,KAAWgF,cAAA,KAAYC,UAAA,KAAQ9E,WAAA,KAASC,QAAA,KAAMC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,kBAAA,KAAgBC,iBAAA,OAAiByE,gBAAA,KAAcxE,kBAAA,OAAkBC,eAAA,OAAeC,QAAA,KAAMC,OAAA,KAAKG,YAAA,KAAUC,UAAA,KAAQM,aAAA,Q,yCChDlR,IAAIhK,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,0BAA0B,GAAGA,EAAG,QAAQ,CAACA,EAAG,aAAa,IAAI,GAAGA,EAAG,cAAc,CAACE,MAAM,CACvNC,OAAQP,EAAIQ,SAASC,WAAWC,MAAQ,IACxCC,QAASX,EAAIQ,SAASC,WAAWC,OAAS,IAC1CE,KAAMZ,EAAIQ,SAASC,WAAWC,OAAS,OACtC,CAACN,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,UAAY,KAAK,SAAW,GAAG,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,WAAW,CAACT,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACiB,YAAY,CAAC,OAAS,SAAS,CAACrB,EAAIoB,GAAG,6BAA6BhB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,UAAYb,EAAI2N,qBAAqB,MAAQ,GAAG,KAAO,GAAG,MAAQ,QAAQhM,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAI2N,sBAAuB,KAAS,CAACvN,EAAG,SAAS,CAACJ,EAAIoB,GAAG,sBAAsBpB,EAAIoB,GAAG,kBAAkB,IAAI,IAAI,IAAI,GAAIpB,EAAwB,qBAAEI,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,UAAY,KAAK,SAAW,GAAG,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,EAAGzB,EAAIiC,SAAWjC,EAAI4H,YAAaxH,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,kBAAkB,CAACT,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACiB,YAAY,CAAC,aAAa,SAAS,CAACjB,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,KAAK,YAAY,MAAM,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,UAAY,KAAK,SAAW,KAAK,CAACrB,EAAG,eAAe,CAAC+B,YAAY,eAAe,CAAC/B,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAACnC,EAAIoB,GAAG,mBAAmBhB,EAAG,SAAS,CAACS,MAAM,CAAC,SAAW,GAAG,UAAY,OAAO,CAACT,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,gBAAgB,GAAGhB,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,cAAchB,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,IAAI,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAI4H,YAAYjE,MAAM,KAAK3D,EAAIoC,GAAGpC,EAAI4H,YAAYgG,UAAU,UAAU,GAAGxN,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,oBAAoB,CAACb,EAAIoB,GAAG,iBAAiB,GAAGhB,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,SAAShB,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,IAAI,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAI4H,YAAYiG,gBAAgB,GAAGzN,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,+BAA+B,GAAGhB,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,kBAAkBhB,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,IAAI,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAI8N,4BAA4B,GAAG1N,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,kCAAkC,GAAGhB,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,kBAAkBhB,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,IAAI,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAI+N,0BAA0B,GAAG3N,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyB,GAAGhB,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,kBAAkBhB,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,IAAI,CAACJ,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAI4H,YAAYoG,YAAY,MAAMhO,EAAIoC,GAAGpC,EAAI4H,YAAYqG,gBAAgB,GAAG7N,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,UAAU,CAACb,EAAIoB,GAAG,0BAA0B,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,kCAAkChB,EAAG,SAAS,CAACiB,YAAY,CAAC,aAAa,QAAQ,aAAa,QAAQR,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,UAAY,KAAK,SAAW,KAAKzB,EAAIqD,GAAIrD,EAA0B,wBAAE,SAASkO,EAAE3K,GAAO,OAAOnD,EAAG,MAAM,CAAC6C,IAAIM,EAAMlC,YAAY,CAAC,aAAa,SAAS,CAACjB,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,WAAW,CAACT,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAG8L,EAAEC,gBAAgB/N,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAG8L,EAAEE,QAAQ,UAAU,IAAI,GAAGhO,EAAG,cAAc,MAAK,IAAI,IAAI,GAAGA,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,mBAAmB,CAACb,EAAIoB,GAAG,0BAA0B,GAAGhB,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,4CAA4ChB,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,IAAI,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAI4H,YAAYyG,gCAAgC,GAAGjO,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,mBAAmB,CAACb,EAAIoB,GAAG,qCAAqC,GAAGhB,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,4BAA4BhB,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,IAAI,CAACJ,EAAIoB,GAAG,KAAKpB,EAAIoC,GAAGpC,EAAI4H,YAAYjD,6BAA6B,GAAGvE,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,oBAAoB,GAAGhB,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,4BAA4BhB,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAEnC,EAAI4H,YAAoB,SAAExH,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,mBAAmB,CAACb,EAAIoB,GAAG,oBAAoBhB,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,gBAAgB,IAAI,GAAGhB,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,oBAAoB,CAACb,EAAIoB,GAAG,uBAAuB,GAAGhB,EAAG,oBAAoB,CAACJ,EAAIoB,GAAG,6BAA6BhB,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAEnC,EAAI4H,YAAsB,WAAExH,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,mBAAmB,CAACb,EAAIoB,GAAG,oBAAoBhB,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,gBAAgB,IAAI,IAAI,IAAI,IAAI,IAAI,GAAGhB,EAAG,QAAQ,CAAC+B,YAAY,kBAAkB,CAAC/B,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,GAAK,KAAK,YAAY,MAAM,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,SAAW,KAAK,CAACrB,EAAG,eAAe,CAAC+B,YAAY,eAAe,CAAC/B,EAAG,IAAI,CAAC+B,YAAY,aAAa,CAACnC,EAAIoB,GAAG,2BAA2BhB,EAAG,SAAS,CAACS,MAAM,CAAC,SAAW,GAAG,UAAY,OAAOb,EAAIqD,GAAIrD,EAAc,YAAE,SAASsO,EAAK/K,GAAO,OAAOnD,EAAG,MAAM,CAAC6C,IAAIM,GAAO,CAACnD,EAAG,cAAc,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGkM,EAAK3K,SAASvD,EAAG,YAAY,CAACS,MAAM,CAAC,SAAW,MAAMT,EAAG,uBAAuB,CAAC+B,YAAY,cAAc,CAAC/B,EAAG,IAAI,CAACJ,EAAIoB,GAAG,MAAMpB,EAAIoC,GAAGkM,EAAKpI,iBAAiB9F,EAAG,YAAY,CAACS,MAAM,CAAC,SAAW,MAAMT,EAAG,uBAAuB,CAAC+B,YAAY,aAAa,CAAC/B,EAAG,IAAI,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGkM,EAAKC,SAAS,YAAY,GAAGnO,EAAG,cAAc,MAAK,IAAI,IAAI,IAAI,GAAKJ,EAAIiC,QAAinCjC,EAAIgC,KAA5mC5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACiB,YAAY,CAAC,aAAa,SAAS,CAACjB,EAAG,QAAQ,CAAC+B,YAAY,cAActB,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,MAAQb,EAAI4H,YAAY4G,SAAW,gBAAkB,iBAAiB,QAAUxO,EAAIyO,UAAU9M,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI0O,mBAAmB1O,EAAI4H,YAAY4G,aAAa,CAAExO,EAAI4H,YAAoB,SAAExH,EAAG,MAAM,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,mBAAmBpB,EAAIoB,GAAG,gCAAgC,GAAGhB,EAAG,MAAM,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,UAAU,CAACb,EAAIoB,GAAG,iBAAiBpB,EAAIoB,GAAG,gCAAgC,MAAM,GAAGhB,EAAG,QAAQ,CAACiB,YAAY,CAAC,aAAa,SAAS,CAACjB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,MAAQb,EAAI4H,YAAY+G,WAAa,SAAW,iBAAiB,QAAU3O,EAAIyO,UAAU9M,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI4O,eAAe5O,EAAI4H,YAAY+G,eAAe,CAAE3O,EAAI4H,YAAsB,WAAExH,EAAG,MAAM,CAAC+B,YAAY,eAAe,CAAC/B,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,iBAAiB,CAACb,EAAIoB,GAAG,gBAAgBpB,EAAIoB,GAAG,qCAAqC,GAAGhB,EAAG,MAAM,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,WAAW,CAACb,EAAIoB,GAAG,gBAAgBpB,EAAIoB,GAAG,kCAAkC,MAAM,IAAI,GAAYhB,EAAG,QAAQ,CAACiB,YAAY,CAAC,gBAAgB,SAAS,CAACjB,EAAG,QAAQ,CAACiB,YAAY,CAAC,aAAa,QAAQR,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,QAAQ,CAAC+B,YAAY,cAActB,MAAM,CAAC,MAAQ,GAAG,MAAQ,eAAe,QAAUb,EAAIyO,UAAU9M,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6E,kBAAkB7E,EAAI4H,YAAY3D,KAAK,MAAU,CAAC7D,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,UAAU,CAACb,EAAIoB,GAAG,wBAAwBpB,EAAIoB,GAAG,qBAAqB,IAAI,IAAI,IAAI,IAAI,GAAGpB,EAAIgC,KAAMhC,EAAW,QAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACT,EAAG,QAAQ,CAACA,EAAG,KAAK,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAI6O,mBAAmBzO,EAAG,qBAAqB,IAAI,GAAGJ,EAAIgC,MAAM,GAAGhC,EAAIgC,KAAOhC,EAAI2N,qBAkBnpK3N,EAAIgC,KAlBqqK5B,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,UAAY,KAAK,SAAW,GAAG,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAAEzB,EAAIyK,OAAa,OAAErK,EAAG,SAAS,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,GAAK,aAAa,CAACrB,EAAG,UAAU,CAACS,MAAM,CAAC,KAAO,UAAU,CAACb,EAAIoB,GAAG,iCAAiChB,EAAG,SAASJ,EAAIqD,GAAIrD,EAAU,QAAE,SAASoH,EAAM7D,GAAO,OAAOnD,EAAG,cAAc,CAAC6C,IAAIM,GAAO,CAACnD,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,uBAAuB,GAAGhB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGgF,OAAW,IAAI,MAAK,IAAI,GAAGpH,EAAIgC,KAAK5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,0BAA0B,GAAGhB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,IAAI,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,2BAA4BpB,EAAwB,qBAAEI,EAAG,IAAI,CAAC+B,YAAY,2CAA2C,CAACnC,EAAIoB,GAAG,mFAAqFpB,EAAIgC,QAAQ,GAAKhC,EAAIiC,QAkBhnMjC,EAAIgC,KAlBqnM5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,OAAO,CAAEb,EAAe,YAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,QAAU,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,iBAAiB,UAAYzB,EAAI8O,UAAU,SAAW9O,EAAI2N,qBAAqB,MAAQ3N,EAAI+O,MAAM,QAAU/O,EAAI8O,WAAWhO,MAAM,CAACC,MAAOf,EAAQ,KAAEgB,SAAS,SAAUC,GAAMjB,EAAI2D,KAAK1C,GAAKE,WAAW,WAAW,IAAI,GAAGnB,EAAIgC,KAAMhC,EAAe,YAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,QAAU,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,cAAc,UAAYzB,EAAI8O,UAAU,SAAW9O,EAAI2N,qBAAqB,MAAQ3N,EAAI+O,MAAM,QAAU/O,EAAI8O,WAAWhO,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAI4N,SAAS3M,GAAKE,WAAW,eAAe,IAAI,GAAGnB,EAAIgC,KAAMhC,EAAgB,aAAEI,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,wBAAwBhB,EAAG,qBAAqB,IAAI,GAAGJ,EAAIgC,KAAOhC,EAAI6C,KAEhmS7C,EAAIgC,KAFkmS5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,MAAM,CAC1rS,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,iCAAiC,GAAcpB,EAAI4H,YAAYiG,SAEhBzN,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,cAAc,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,mBAAmBhB,EAAG,WAAW,CAACS,MAAM,CAAC,MAAQ,cAAc,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQzB,EAAI6C,KAAK,YAAY,SAAS,aAAa,MAAM,KAAS7C,EAAIuF,IAAQ,KAAI,KAAQvF,EAAIuF,IAAQ,KAAI,IAAK,SAAWvF,EAAI2N,qBAAqB,SAAW,GAAG,gBAAgB,GAAG,cAAc,IAAI7M,MAAM,CAACC,MAAOf,EAAO,IAAEgB,SAAS,SAAUC,GAAMjB,EAAIuF,IAAItE,GAAKE,WAAW,UAAU,IAAI,GAF/gBf,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,MAAM,CACzH,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,4CAA4C,GAAgjBpB,EAAe,YAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,QAAU,WAAW,CAACT,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,KAAK,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,kCAAkChB,EAAG,SAAS,CAACiB,YAAY,CAAC,aAAa,QAAQ,aAAa,QAAQR,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,UAAY,KAAK,SAAW,KAAKzB,EAAIqD,GAAIrD,EAA0B,wBAAE,SAASkO,EAAE3K,GAAO,OAAOnD,EAAG,MAAM,CAAC6C,IAAIM,EAAMlC,YAAY,CAAC,aAAa,SAAS,CAACjB,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,WAAW,CAACT,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAG8L,EAAEC,gBAAgB/N,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,UAAU,MAAQzB,EAAI0F,aAAa,SAAW1F,EAAI2N,uBAAyB3N,EAAIgP,YAAYrN,GAAG,CAAC,KAAO3B,EAAIiP,gBAAgBnO,MAAM,CAACC,MAAOmN,EAAQ,OAAElN,SAAS,SAAUC,GAAMjB,EAAI4D,KAAKsK,EAAG,SAAUjN,IAAME,WAAW,eAAe,GAAInB,EAAc,WAAEI,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,OAAOc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAIkP,gBAAgB3L,MAAU,CAACnD,EAAG,SAAS,CAACJ,EAAIoB,GAAG,iBAAiB,IAAI,GAAGpB,EAAIgC,MAAM,IAAI,GAAG5B,EAAG,cAAc,MAAK,GAAIJ,EAAc,WAAEI,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,SAASc,GAAG,CAAC,MAAQ3B,EAAImP,eAAe,CAAC/O,EAAG,SAAS,CAACJ,EAAIoB,GAAG,cAAcpB,EAAIoB,GAAG,oBAAoB,IAAI,IAAI,GAAGpB,EAAIgC,KAAK5B,EAAG,QAAQ,CAAEJ,EAAc,WAAEI,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC+B,YAAY,cAActB,MAAM,CAAC,MAAQ,GAAG,MAAQ,UAAUc,GAAG,CAAC,MAAQ3B,EAAIoP,eAAe,CAAChP,EAAG,SAAS,CAACJ,EAAIoB,GAAG,gBAAgBpB,EAAIoB,GAAG,YAAY,IAAI,GAAGpB,EAAIgC,KAAK5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,MAAQb,EAAIgP,WAAa,iBAAmB,OAAO,SAAWhP,EAAI2N,sBAAsBhM,GAAG,CAAC,MAAQ3B,EAAIqP,gBAAgB,CAACjP,EAAG,SAAS,CAACJ,EAAIoB,GAAG,eAAepB,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAIgP,WAAa,SAAW,aAAa,IAAI,IAAI,IAAI,GAAIhP,EAAc,WAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,MAAM,CAACiB,YAAY,CAAC,aAAa,UAAU,CAACjB,EAAG,IAAI,CAAC+B,YAAY,yBAAyB7B,MAAM,CACv8E,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,kCAAkChB,EAAG,MAAMJ,EAAIoB,GAAG,mCAAmChB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,OAAOc,GAAG,CAAC,MAAQ3B,EAAIsP,cAAc,CAACtP,EAAIoB,GAAG,cAAc,KAAKpB,EAAIgC,MAAM,GAAGhC,EAAIgC,KAAMhC,EAAe,YAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,QAAU,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,oCAAoC,oBAAoB,MAAM,UAAY,IAAI,eAAe,SAAS,QAAU,EAAE,MAAQzB,EAAI0F,aAAa,SAAW1F,EAAI2N,sBAAsBhM,GAAG,CAAC,qBAAqB,SAASC,GAAQ5B,EAAIqO,0BAA4B,EACnoBrO,EAAIqO,2BACHrO,EAAIqO,yBAA2B,GAAI,gBAAgB,SAASzM,GAAQ5B,EAAIqO,0BAA4B,EACrGrO,EAAIqO,2BACHrO,EAAIqO,yBAA2B,GAAI,MAAQ,SAASzM,GAAQA,EAAOoJ,kBAAmB,SAAW,SAASpJ,GAAQ,OAAO5B,EAAIiL,SAASrJ,GAAQ,KAAQd,MAAM,CAACC,MAAOf,EAA4B,yBAAEgB,SAAS,SAAUC,GAAMjB,EAAIqO,yBAAyBpN,GAAKE,WAAW,+BAA+B,IAAI,GAAGnB,EAAIgC,KAAMhC,EAAe,YAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,QAAU,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,mBAAmB,oBAAoB,MAAM,UAAY,IAAI,eAAe,SAAS,QAAU,EAAE,MAAQzB,EAAI0F,aAAa,SAAW1F,EAAI2N,sBAAsBhM,GAAG,CAAC,qBAAqB,SAASC,GAAQ5B,EAAI2E,uBAAyB,EACztB3E,EAAI2E,uBAAyB,GAC7B3E,EAAI2E,sBAAwB,GAAI,gBAAgB,SAAS/C,GAAQ5B,EAAI2E,uBAAyB,IAC9F3E,EAAI2E,uBAAyB,GAC7B3E,EAAI2E,sBAAwB,GAAI,MAAQ,SAAS/C,GAAQA,EAAOoJ,kBAAmB,SAAW,SAASpJ,GAAQ,OAAO5B,EAAIiL,SAASrJ,GAAQ,KAAQd,MAAM,CAACC,MAAOf,EAAyB,sBAAEgB,SAAS,SAAUC,GAAMjB,EAAI2E,sBAAsB1D,GAAKE,WAAW,4BAA4B,IAAI,GAAGnB,EAAIgC,KAAMhC,EAAe,YAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,QAAU,SAAS,MAAQ,WAAW,CAACT,EAAG,QAAQ,CAAC+B,YAAY,eAAetB,MAAM,CAAC,KAAO,MAAM,CAACT,EAAG,OAAO,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,0BAA0BhB,EAAG,QAAQ,CAACS,MAAM,CAAC,QAAU,SAAS,MAAQ,WAAW,CAACT,EAAG,YAAYA,EAAG,QAAQ,CAACA,EAAG,gBAAgB,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,IAAM,GAAG,SAAWzB,EAAI2N,sBAAsB7M,MAAM,CAACC,MAAOf,EAAoB,iBAAEgB,SAAS,SAAUC,GAAMjB,EAAIyF,iBAAiBxE,GAAKE,WAAW,qBAAqB,CAACf,EAAG,UAAU,CAACS,MAAM,CAAC,MAAQ,QAAQ,MAAQ,WAAWT,EAAG,UAAU,CAACS,MAAM,CAAC,MAAQ,KAAK,MAAQ,SAAS,IAAI,GAAGT,EAAG,aAAa,IAAI,IAAI,GAAGJ,EAAIgC,KAAMhC,EAAe,YAAEI,EAAG,QAAQ,CAACiB,YAAY,CAAC,QAAU,OAAO,gBAAgB,QAAQR,MAAM,CAAC,QAAU,SAAS,MAAQ,WAAW,CAACT,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,EAAI,IAAI,GAAK,IAAI,EAAI,KAAK,GAAK,OAAO,CAACT,EAAG,OAAO,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,4BAA4BhB,EAAG,gBAAgB,CAAC+B,YAAY,OAAOd,YAAY,CAAC,OAAS,SAASR,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,aAAa,GAAG,UAAY,KAAK,OAAS,KAAK,oBAAoB,IAAI,SAAWzB,EAAI2N,sBAAsB7M,MAAM,CAACC,MAAOf,EAAc,WAAEgB,SAAS,SAAUC,GAAMjB,EAAIwE,WAAWvD,GAAKE,WAAW,iBAAiB,GAAGf,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,EAAI,IAAI,GAAK,IAAI,EAAI,KAAK,GAAK,OAAO,CAACT,EAAG,OAAO,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,4BAA4BhB,EAAG,gBAAgB,CAAC+B,YAAY,OAAOd,YAAY,CAAC,OAAS,SAASR,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,aAAa,GAAG,UAAY,KAAK,OAAS,KAAK,oBAAoB,IAAI,SAAWzB,EAAI2N,sBAAsB7M,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIuP,SAAStO,GAAKE,WAAW,eAAe,IAAI,GAAGnB,EAAIgC,KAAMhC,EAAe,YAAEI,EAAG,QAAQ,CAACiB,YAAY,CAAC,QAAU,OAAO,gBAAgB,QAAQR,MAAM,CAAC,QAAU,SAAS,MAAQ,WAAW,CAACT,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,EAAI,IAAI,GAAK,IAAI,EAAI,KAAK,GAAK,OAAO,CAACT,EAAG,OAAO,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,8BAA8BhB,EAAG,gBAAgB,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,OAAS,OAAO,aAAa,GAAG,WAAa,GAAG,UAAY,KAAK,SAAWzB,EAAI2N,sBAAsB7M,MAAM,CAACC,MAAOf,EAAc,WAAEgB,SAAS,SAAUC,GAAMjB,EAAIgO,WAAW/M,GAAKE,WAAW,iBAAiB,GAAGf,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,EAAI,IAAI,GAAK,IAAI,EAAI,KAAK,GAAK,OAAO,CAACT,EAAG,OAAO,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,4BAA4BhB,EAAG,gBAAgB,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,OAAS,OAAO,aAAa,GAAG,WAAa,GAAG,UAAY,KAAK,SAAWzB,EAAI2N,sBAAsB7M,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIiO,SAAShN,GAAKE,WAAW,eAAe,IAAI,GAAGnB,EAAIgC,KAAK5B,EAAG,QAAQ,CAAC+B,YAAY,iBAAiBtB,MAAM,CAAC,QAAU,SAAS,MAAQ,WAAW,CAACT,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,EAAI,IAAI,GAAK,KAAK,EAAI,KAAK,GAAK,OAAO,CAACT,EAAG,QAAQ,CAAC+B,YAAY,oDAAoD,CAAC/B,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,cAAchB,EAAG,KAAK,CAACJ,EAAIoB,GAAG,kBAAkBhB,EAAG,KAAK,CAACJ,EAAIoB,GAAG,cAAgBpB,EAAI2N,qBAAmD3N,EAAIgC,KAAjC5B,EAAG,KAAK,CAACJ,EAAIoB,GAAG,iBAA0BhB,EAAG,YAAY,CAACS,MAAM,CAAC,IAAM,SAASC,MAAM,CAACC,MAAOf,EAAU,OAAEgB,SAAS,SAAUC,GAAMjB,EAAIwP,OAAOvO,GAAKE,WAAW,WAAWnB,EAAIqD,GAAIrD,EAAU,QAAE,SAASyP,EAAMlM,GAAO,OAAOnD,EAAG,KAAK,CAAC6C,IAAIM,GAAO,CAACnD,EAAG,KAAK,CAACiB,YAAY,CAAC,OAAS,mBAAmBR,MAAM,CAAC,MAAQ,QAAQ,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,OAAO,SAAWzB,EAAI2N,qBAAqB,MAAQ3N,EAAI+O,MAAM,QAAU/O,EAAI8O,WAAWhO,MAAM,CAACC,MAAO0O,EAAU,KAAEzO,SAAS,SAAUC,GAAMjB,EAAI4D,KAAK6L,EAAO,OAAQxO,IAAME,WAAW,iBAAiB,GAAGf,EAAG,KAAK,CAACiB,YAAY,CAAC,OAAS,oBAAoB,CAACjB,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,UAAU,UAAY,IAAI,oBAAoB,MAAM,eAAe,SAAS,QAAU,EAAE,MAAQzB,EAAI0F,aAAa,SAAW1F,EAAI2N,sBAAsBhM,GAAG,CAAC,qBAAqB,SAASC,GAAQ8N,SAASD,EAAMvJ,aAAe,EAChwIuJ,EAAMvJ,YAAc,GACpBuJ,EAAMvJ,WAAa,GAAI,gBAAgB,SAAStE,GAAQ6N,EAAMvJ,YAAc,IAC5EuJ,EAAMvJ,YAAc,GACpBuJ,EAAMvJ,WAAa,GAAI,MAAQ,SAAStE,GAAQA,EAAOoJ,kBAAmB,SAAW,SAASpJ,GAAQ,OAAO5B,EAAIiL,SAASrJ,GAAQ,KAAQd,MAAM,CAACC,MAAO0O,EAAgB,WAAEzO,SAAS,SAAUC,GAAMjB,EAAI4D,KAAK6L,EAAO,aAAcxO,IAAME,WAAW,uBAAuB,GAAGf,EAAG,KAAK,CAACiB,YAAY,CAAC,OAAS,oBAAoB,CAACjB,EAAG,eAAe,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ,gBAAgB,UAAY,GAAG,SAAWzB,EAAI2N,qBAAqB,MAAQ3N,EAAI+O,MAAM,QAAU,IAAIjO,MAAM,CAACC,MAAO0O,EAAa,QAAEzO,SAAS,SAAUC,GAAMjB,EAAI4D,KAAK6L,EAAO,UAAWxO,IAAME,WAAW,oBAAoB,GAAKnB,EAAI2N,qBAAmU3N,EAAIgC,KAAjT5B,EAAG,KAAK,CAACiB,YAAY,CAAC,OAAS,oBAAoB,CAACjB,EAAG,QAAQ,CAAC+B,YAAY,cAActB,MAAM,CAAC,KAAO,GAAG,MAAQ,eAAe,SAAWb,EAAI2N,sBAAsBhM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI2P,WAAWpM,EAAOkM,EAAMG,eAAe,MAAU,CAACxP,EAAG,SAAS,CAACJ,EAAIoB,GAAG,iBAAiB,IAAI,QAAgB,IAAI,MAAM,GAAKpB,EAAI2N,qBAAmJ3N,EAAIgC,KAAjI5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAIoB,GAAG,2EAA2E,GAAcpB,EAAI2N,qBAA2Q3N,EAAIgC,KAAzP5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC+B,YAAY,cAActB,MAAM,CAAC,MAAQ,GAAG,MAAQ,kBAAkBc,GAAG,CAAC,MAAQ3B,EAAI6P,WAAW,CAACzP,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,oBAAoB,CAACb,EAAIoB,GAAG,qBAAqBpB,EAAIoB,GAAG,gBAAgB,IAAI,IAAI,GAAcpB,EAAI2N,qBAAsmB3N,EAAIgC,KAAplB5B,EAAG,QAAQ,CAACiB,YAAY,CAAC,gBAAgB,SAAS,CAAErB,EAAe,YAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,MAAM,CAACT,EAAG,QAAQ,CAAC+B,YAAY,cAActB,MAAM,CAAC,MAAQ,GAAG,MAAQ,UAAUc,GAAG,CAAC,MAAQ3B,EAAI8P,oBAAoB,CAAC1P,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,iBAAiB,CAACb,EAAIoB,GAAG,gBAAgBpB,EAAIoB,GAAG,uBAAuB,IAAI,GAAGpB,EAAIgC,KAAMhC,EAAe,YAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,MAAM,CAACT,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,MAAQ,SAASc,GAAG,CAAC,MAAQ3B,EAAI+P,wBAAwB,CAAC3P,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,mBAAmB,CAACb,EAAIoB,GAAG,uBAAuBpB,EAAIoB,GAAG,wBAAwB,IAAI,GAAGpB,EAAIgC,MAAM,IAAa,IAAI,IAAa,GAAY5B,EAAG,aAAa,CAACS,MAAM,CAAC,QAAUb,EAAIiF,SAASlC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASM,GACnnE,IAAI3C,EAAQ2C,EAAI3C,MAC5C,MAAO,CAACT,EAAG,QAAQJ,EAAI+D,GAAG,CAAClD,MAAM,CAAC,MAAQ,OAAO,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAIkF,UAAW,KAAS,QAAQrE,GAAM,GAAO,CAACb,EAAIoB,GAAG,kBAAkBN,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIkF,SAASjE,GAAKE,WAAW,aAAa,CAACnB,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAImF,MAAM,QAAQ,IAAI,IACpSC,EAAkB,G,oSC2wBtB,GACEzB,KAAM,eACNoC,WAAY,CACVC,iBAAJ,aACIgK,SAAJ,OACIC,sBAAJ,OACIC,UAAJ,KAEE7K,KARF,WAQA,WACI,MAAO,CACL8K,QAAQ,EACR1F,OAAQ,GACR5H,KAAM,GACN0C,IAAK,GACLqC,YAAa,KACbjE,KAAM,KACNiK,SAAU,KACVS,yBAA0B,KAC1B1J,sBAAuB,KACvBc,iBAAkB,KAClB2K,WAAY,KACZ5L,WAAY,KACZ+K,SAAU,KACVzB,qBAAsB,KACtBC,mBAAoB,KACpBC,WAAY,KACZC,SAAU,KACVhM,SAAS,EACT4M,eAAgB,yBAChBlM,cAAc,EACd8L,UAAU,EACVvN,IAAK,KACLyM,sBAAsB,EACtB6B,OAAQ,GACRT,MAAO,CACb,YAAQ,QAAR,oCACA,YAAQ,OACR,oDAEMrJ,aAAc,CACpB,YAAQ,QAAR,oCACA,YAAQ,OAAR,gCACA,YAAQ,OAAR,gDAEMoJ,UAAW,GACXuB,uBAAwB,GACxBC,4BAA6B,GAC7BC,aAAc,EACdC,MAAO,CACb,CACQ,KAAR,cACQ,KAAR,4BACQ,KAAR,aAEA,CACQ,KAAR,cACQ,KAAR,WACQ,KAAR,kBAEA,CACQ,KAAR,mBACQ,KAAR,WACQ,KAAR,YAEA,CACQ,KAAR,WACQ,KAAR,eACQ,KAAR,cAEA,CACQ,KAAR,WACQ,KAAR,WACQ,KAAR,aAGMtL,UAAU,EACVC,KAAM,GACNF,QAAS,IACT+J,YAAY,IAGhBtE,QAjFF,WAkFI,GAA2C,MAAvC7C,aAAauE,QAAQ,eAAwB,CAC/C,IAAN,kDACA,UACMnM,KAAKwQ,mBAAmBC,QAExBxJ,QAAQC,IAAI,mCAGdkD,SAASC,KAAO,IAChBD,SAASC,KAAO,OAChBrK,KAAKoQ,uBAAyBlM,KAAKkI,MACvC,0CAGEjC,QAhGF,aAiGEnE,QAAS,CACPkJ,aADJ,WAEM,IAAN,EACA,kEACMlP,KAAKoQ,uBAAuBvO,KAAK,CAC/BsM,OAAQuC,EAASvC,OAAS,EAAIuC,EAASvC,OAAS,EAAI,EACpDD,UAAWwC,EAASxC,UAAY,KAGpCe,gBATJ,SASA,GACMjP,KAAKoQ,uBAAuBO,OAAOrN,EAAO,IAE5C0L,eAZJ,WAaMhP,KAAKoQ,uBAAuBQ,MAAK,SAAvC,iCACM5Q,KAAK6Q,kBAEPA,eAhBJ,WAiBM7Q,KAAKoQ,uBAAuBU,SAAQ,SAA1C,KACQ7C,EAAEC,UAAY5K,EAAQ,MAG1B6L,aArBJ,WAsBMnP,KAAK+O,YAAc/O,KAAK+O,WACxB/O,KAAKoQ,uBAAyBlM,KAAKkI,MACzC,mDAGIgD,cA3BJ,WA4BMpP,KAAK6Q,iBACL7Q,KAAK+O,YAAc/O,KAAK+O,WACxB/O,KAAKqQ,4BAA8BnM,KAAKkI,MAC9C,8CAGIiD,YAlCJ,WAmCMrP,KAAKoQ,uBAAyBlM,KAAKkI,MACzC,yCAEMpM,KAAK+O,YAAc/O,KAAK+O,YAE1BgC,WAxCJ,SAwCA,GACU/Q,KAAK4B,QAAQoP,aAAalP,OAASmP,GACrCjR,KAAK4B,QAAQC,KAAKoP,GAClBjR,KAAKkR,QAAUlR,KAAKkR,SAEpBlR,KAAKkF,KAAO,yBACZlF,KAAKiF,UAAW,IAGpB,mBAjDJ,SAiDA,iKACA,0BACA,GACA,wCAEA,oCALA,8CAOI,eAxDJ,SAwDA,iKACA,4BACA,yBACA,gCACA,6BAEA,GACA,4CAEA,oCATA,8CAWI,iBAnEJ,SAmEA,6KAEA,wCACA,cAHA,SAIA,yCAJA,0DAMA,4BANA,QAQA,cARA,4DAUI,QA7EJ,WA6EA,yKACA,kBACA,2CACA,WAHA,kBAMA,gBACA,YAPA,OAMA,OANA,OASA,gBACA,2BACA,wBAEA,4BACA,sDAEA,2BACA,sCAEA,EACA,QAEA,6CAtBA,qDA0BA,qBA1BA,QA4BA,kBA5BA,6DA+BI,mBA5GJ,SA4GA,4KACA,0CACA,aACA,YAHA,kBAMA,wBACA,QAPA,OAMA,EANA,OAUA,GAGA,gBACA,wCACA,0CAGA,wCACA,mDACA,sCACA,oCACA,sDACA,YADA,YAEA,UACA,oDACA,YADA,YAEA,UACA,sBACA,eACA,aAGA,mDAjCA,qDAoCA,4BApCA,QAsCA,aAtCA,6DAyCI+F,SAAU,SAAd,KACM,IAAIqB,EAAkB,GAClBC,EAAc,IAEbC,IACHF,EAAkB,GAClBC,EAAc,KAGhBE,EAAMA,GAAYC,OAAOC,MACzB,IAAIC,EAAWH,EAAII,MAAQJ,EAAII,MAAQJ,EAAIK,QAC3C,GACN,OACA,aACA,MAEQL,EAAIzB,qBACZ,CACQ,GAAI4B,GAAYN,EAOd,OAAO,EANP,KAAIG,EAAIM,OAAOhM,MAAMiM,QAAQT,IAAgB,GAG3C,OAAO,EAFPE,EAAIzB,mBASZ6E,SAlLJ,WAmLM5P,KAAKuP,OAAO1N,KAAK,CACfyB,MAAOtD,KAAKuP,OAAOnN,OACnBsB,KAAM,GACNuC,WAAY,EACZqI,QAAS,IACT6C,QAAS,EACTC,MAAOpR,KAAKqR,yBAGhB3B,WAAY,SAAhB,kBACM,GAAI4B,EACF,IACEtR,KAAKuP,OAAOoB,OAAOrN,EAAO,GAC1BtD,KAAK2H,YAAY4J,QAAQT,SAAQ,SAA3C,GACY,GAAIU,EAAOL,QAAQ/O,OAAQ,CACzB,IAAd,mCACgB,OAAOiM,EAAK3K,OAAS+N,KAEnBC,GAAgB,GAElBF,EAAOL,QAAQR,OAAOe,EAAc,OAIpD,SACUzK,QAAQE,MAAQC,EAAItC,aAItB9E,KAAK2R,SAAS,gBAAiB,cAAe,YACtD,kBACA,GACY,EAAZ,qBAGA,mBACA,GACY,QAAZ,aAKI9B,kBA7NJ,WA6NA,WACM7P,KAAKuP,OAAS,GACdvP,KAAKmQ,WAAWW,SAAQ,SAA9B,KACQ,EAAR,aACUxN,MAAOA,EACPI,KAAM2K,EAAK3K,KACXuC,WAAYwJ,SAASpB,EAAKpI,YAC1BqI,QAASD,EAAKC,QACd6C,QAAS1B,SAASpB,EAAK8C,SACvBC,MAAO/C,EAAK+C,MACZzB,cAAetB,EAAK3K,KACpBkO,oBAAqBnC,SAASpB,EAAKpI,YACnC4L,iBAAkBxD,EAAKC,aAG3BtO,KAAK0D,KAAO1D,KAAK2H,YAAYjE,KAC7B1D,KAAK2N,SAAW3N,KAAK2H,YAAYgG,SACjC3N,KAAKoO,yBAA2BpO,KAAK2H,YAAYyG,yBACjDpO,KAAK0E,sBAAwB1E,KAAK2H,YAAYjD,sBAC9C1E,KAAKwF,iBAAmBxF,KAAK2H,YAAYnC,iBAC/C,QACA,KACMxF,KAAKuE,WAAa,IAAIuN,KAAK9R,KAAK2H,YAAYpD,YAClD,cACA,aACMvE,KAAKsP,SAAW,IAAIwC,KAAK9R,KAAK2H,YAAY2H,UAChD,cACA,aACMtP,KAAK+N,WAAa/N,KAAK2H,YAAYoG,WACnC/N,KAAKgO,SAAWhO,KAAK2H,YAAYqG,SACjChO,KAAK0N,sBAAuB,GAI9B2D,oBAAqB,WACnB,IAAIU,EAAc,IAAMC,KAAKC,MAAsB,SAAhBD,KAAKE,UAAqBC,SAAS,IACtE,OAAOJ,GAGT/E,UAAW,SAAf,GACMhN,KAAKwK,OAAO3I,KAAKsF,GACjBiD,SAASC,KAAO,IAChBD,SAASC,KAAO,QAGlByF,sBA1QJ,WA0QA,WACM9P,KAAK4O,eAAiB,yBACtB5O,KAAKwK,OAAS,GACdxK,KAAK0N,sBAAuB,EAC5B1N,KAAKoS,WAAY,EAEjB,IAAIC,EAAcrS,KAAKsS,QAC7B,gBACA,YACA,GACA,UAEUC,EAAiBvS,KAAKsS,QAChC,cACA,YACA,GACA,UAEUE,EAAmBxS,KAAKsS,QAClC,gBACA,QACA,GACA,UAEUG,EAAiBzS,KAAKsS,QAAQtS,KAAKgO,SAAU,QAAQ,GAAM0E,UAkD/D,GA/CK1S,KAAK0D,MACR1D,KAAKgN,UAAU,2BAIZhN,KAAK2N,UACR3N,KAAKgN,UAAU,kCAGZhN,KAAKsF,IAAIqN,IACZ3S,KAAKgN,UAAU,wBAEZhN,KAAKoQ,uBAAuBhO,QAC/BpC,KAAKgN,UAAU,4CAEZhN,KAAKoO,0BACRpO,KAAKgN,UAAU,8CAEZhN,KAAK0E,uBACR1E,KAAKgN,UAAU,mCAEbhN,KAAK0E,sBAAwB,IAC/B1E,KAAKgN,UAAU,oDAEZhN,KAAK+N,YAAeyE,IACH,IAAnBxS,KAAK+N,WACd,kDACA,eACA,iEACA,kBAGW/N,KAAKgO,UAAayE,IACH,IAAjBzS,KAAKgO,SACd,kDACA,eACA,iEACA,gBAGWhO,KAAKuE,YAAe8N,IACH,IAAnBrS,KAAKuE,WACd,8CACA,eACA,6DAGWvE,KAAKsP,UAAaiD,EAM7B,CACQ,IAAR,qDACA,mDAEA,yBACA,EADA,YACA,iBACA,oBAEA,yBACA,EADA,YACA,eACA,oBAGYjD,EAASsD,SAASrO,EAAY,YAChCvE,KAAKgN,UACf,0FApB0B,IAAjBhN,KAAKsP,SACd,8CACA,eACA,4DA0CM,GAnBAtP,KAAKuP,OAAOuB,SAAQ,SAA1B,GACatB,EAAM9L,MACT,EAAV,4CAEa8L,EAAMvJ,YACT,EAAV,oBAEA,sBAFA,mDAMauJ,EAAMlB,SACT,EAAV,oBACA,sBADA,sCAOWtO,KAAKwK,OAAOpI,OAAQ,CACvB,IAAR,qDACA,mDACA,yBACA,EADA,YACA,iBACA,oBAEA,yBACA,EADA,YACA,eACA,oBAIQpC,KAAK2H,YAAYkL,OAAS7S,KAAKsF,IAAIqN,GACnC3S,KAAK2H,YAAYiG,SAAW5N,KAAKsF,IAAI5B,KACrC1D,KAAK2H,YAAYjE,KAAO1D,KAAK0D,KAC7B1D,KAAK2H,YAAYgG,SAAW3N,KAAK2N,SACjC3N,KAAK2H,YAAYyG,yBAA2BrC,OACpD,+BAGQ,IAAR,KAEQ,GACR,yCACA,4BACA,+BACA,CACU,IAAV,IACU/L,KAAKoQ,uBAAuBU,SAAQ,SAA9C,GACYgC,EAAsBjR,KAAK,CACzBqM,UAAW6E,EACX5E,OAAQ6E,EAAgB7E,OAAS,EAA/C,wBAEY4E,YAGFD,EAAwB,OAAlC,OAAkC,CAAlC,6BAEQ9S,KAAK2H,YAAYjD,sBAAwB1E,KAAK0E,sBAC9C1E,KAAK2H,YAAYsL,2BAA6BH,EAC9C9S,KAAK2H,YAAYnC,iBACzB,6BACQxF,KAAK2H,YAAYpD,WAAa,EAC9BvE,KAAK2H,YAAY2H,SAAW,EAC5BtP,KAAK2H,YAAYoG,WAAa/N,KAAK+N,WACnC/N,KAAK2H,YAAYqG,SAAWhO,KAAKgO,SAGjChO,KAAK2H,YAAY4J,QAAQT,SAAQ,SAAzC,GACcU,EAAOL,QAAQ/O,QACjB,EAAZ,4BAEc,GACd,0BACA,sCACA,+BACA,CACgB,IAAhB,mCACkB,OAAOiM,EAAK3K,OAAS8L,EAAMG,iBAE7B,GAAIrM,GAAS,GAWX,GATAkO,EAAOL,QAAQ7N,GAAOI,KAAO8L,EAAM9L,KAEnC8N,EAAO0B,cAAgB1B,EAAOL,QAAQ7N,GAAO6K,OAE7CqD,EAAOL,QAAQ7N,GAAO6K,OACxC,kCAEkBqD,EAAO0B,cAAgB1B,EAAOL,QAAQ7N,GAAO6K,OAEzC,EAAtB,mCAEoB,IAApB,EACA,oDACsB,OACtB,0BACA,2BAGoB,GAAIgF,GAAgB,EAAG,CACrB,IAAtB,EACA,gCAEsBC,EAAcF,aAAe1B,EAAO0B,aAEhC1D,EAAM9L,OAAS8L,EAAMG,sBAChB0D,OAAOC,OAAOF,EAAe,OAA5D,OAA4D,CAA5D,GACA,4BACA,iBAKoB,IAApB,yCACA,YACsB,OACtB,0BACA,2BAIoB,GAAIG,GAAe,EAAG,CACpB,IAAtB,EACA,+BAEsBC,EAAaN,aAAe1B,EAAO0B,oBAMvC1B,EAAOL,QAAQtP,KAAK,CAClB6B,KAAM8L,EAAM9L,KACZyN,QAAS,EACThD,OAAQ,WAQpBnO,KAAKuP,OAAOuB,SAAQ,SAA5B,GAEctB,EAAM9L,OAAS8L,EAAMG,gBACnB,EAAhB,oDACqB0D,OAAOC,OAAO,EAAnC,6CACA,OACA,gDACA,iBAGgB,EAAhB,qDACqBD,OAAOC,OAAO,EAAnC,8CACA,OACA,iDACA,iBAIY9D,EAAMG,cAAgBH,EAAM9L,KAC5B8L,EAAMoC,oBAAsBpC,EAAMvJ,WAClCuJ,EAAMqC,iBAAmBrC,EAAMlB,YAInCtO,KAAK2H,YAAY8L,OAASzT,KAAKmQ,WAAanQ,KAAKuP,OACjD,IAAR,gDACQvP,KAAK2H,YAAY+L,cAAgBC,EAAeD,cAChD1T,KAAK2H,YAAYiM,eAAiBD,EAAeC,eAC7C5T,KAAK2H,YAAYnC,mBACnBxF,KAAK2H,YAAYkM,aAAe7T,KAAK8T,wBAEvC9T,KAAK+T,kBAAkB/T,KAAK2H,aAC5B3H,KAAK0N,sBAAuB,IAIhC,kBAliBJ,SAkiBA,2KAEA,wCACA,aAHA,SAIA,yBACA,MACA,GANA,OAQA,sBARA,mDAUA,4BAVA,QAYA,aACA,OACA,2EACA,cAfA,4DAkBI,kBApjBJ,SAojBA,iKAEA,EAFA,wBAGA,mCACA,cAJA,kBAOA,4BAPA,OASA,gCACA,uCAEA,oCAZA,qDAcA,qBAdA,gCAkBA,yDACA,kBACA,GACA,4BAGA,mBACA,GACA,oBA1BA,6DAgCIsG,uBAplBJ,SAolBA,GACM,IAAN,+BACA,OACA,6BACA,KACA,KAEA,IACA,IACA,KACA,KACMhU,KAAKuR,QAAU5J,EAAY4J,QAAQ0C,QACzC,YAAQ,OAAR,iBAEMjU,KAAKuR,QAAUvR,KAAKuR,QAAQX,MAAK,SAAiBsD,EAAGC,GACnD,OAAO1E,SAAS0E,EAAEjB,cAAgBzD,SAASyE,EAAEhB,iBAK/ClT,KAAKuR,QAAQT,SAAQ,SAA3B,KAEYU,EAAO0B,cAAgBkB,EACzBlG,EAAYmG,GAIZnG,EAAY5K,EAAQ,EACpB8Q,EAAc5C,EAAO0B,aACrBmB,EAAiB7C,EAAOtD,WAI1B,IAAR,gDAKUoG,EAHGrG,GAA6B,IAAxBuD,EAAO0B,aAGQjF,EAAEE,OAASxG,EAAYjD,sBAFvB,EAKzB6P,EAAmBD,EAAuBlG,EAE1CsF,EAAc7R,KAAK,CACjBqM,UAAWA,EACXsG,YAAahD,EAAOgD,YACpBC,aAAcjD,EAAOiD,aACrBC,kBAAmBlD,EAAOkD,kBAC1B/G,SAAU6D,EAAO7D,SACjBuF,aAAc1B,EAAO0B,aAAayB,iBAClCL,qBAAsBA,EACtBlG,yBAA0BA,EAC1BmG,iBAAkBA,IAIpB,IAAR,KACQK,EAAU1G,UAAYA,EACtB0G,EAAUJ,YAAchD,EAAOgD,YAC/BI,EAAUH,aAAejD,EAAOiD,aAGhCjD,EAAOL,QAAQL,SAAQ,SAA/B,GACU,IAAV,SACA,YACU8D,EAAUlR,GAAQmR,KAEpBD,EAAU1B,aAAe1B,EAAO0B,aAChCU,EAAe/R,KAAK+S,GACpBR,EAAc5C,EAAO0B,gBAGvB,IAAN,GACQQ,cAAeA,EACfE,eAAgBA,GAGlB,OAAOkB,GAEThB,qBAAsB,WACpB,IAAN,2BACUiB,EAAa,GACvB,KAsCM,OApCAxD,EAAQT,SAAQ,SAAtB,GAC4B,MAAhBU,EAAOwD,MAAgC,OAAhBxD,EAAOwD,MAChCD,EAAWlT,KAAK2P,EAAOwD,SAI3BD,EAAa,OAAnB,OAAmB,CAAnB,YAGMA,EAAWjE,SAAQ,SAAzB,GACQ,IAAR,4CACA,IACA,KAEQkE,EAAKlE,SAAQ,SAArB,GACUmE,EAAQpT,KAAKqT,EAAOT,cACpBU,GAAeD,EAAOhC,gBAID,IAAnB+B,EAAQ7S,SACV6S,EAAQpT,KAAK,KACboT,EAAQpT,KAAK,MAEQ,IAAnBoT,EAAQ7S,QACV6S,EAAQpT,KAAK,KAEfgS,EAAahS,KAAK,CAChB6B,KAAM0R,EACNC,eAAgBJ,EAAQ,GACxBK,eAAgBL,EAAQ,GACxBM,eAAgBN,EAAQ,GACxB9G,OAAQgH,EAAYR,sBAIjBd,KCjlDyU,I,ySCOlV/L,EAAY,eACd,EACAhI,EACAqF,GACA,EACA,KACA,KACA,MAIa,aAAA2C,EAAiB,QA4BhC,IAAkBA,EAAW,CAACuF,SAAA,KAAOrF,OAAA,KAAKC,QAAA,KAAMG,WAAA,OAAWE,OAAA,KAAKC,aAAA,KAAWgF,cAAA,KAAY7E,WAAA,KAASC,QAAA,KAAMC,QAAA,KAAMC,YAAA,KAAUG,iBAAA,OAAiByE,gBAAA,KAAcxE,kBAAA,OAAkBC,eAAA,OAAesM,SAAA,KAAOC,cAAA,KAAYrM,OAAA,KAAKkB,UAAA,KAAQf,YAAA,KAAUC,UAAA,KAAQkM,aAAA,KAAW5L,aAAA,KAAW6L,cAAA,Q,yCC9C9P,IAAI7V,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAEJ,EAAa,UAAEI,EAAG,QAAQ,CAAEJ,EAAI0B,UAAc,KAAEtB,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,MAAQ,UAAUc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,QAAQC,KAAK,CAAEC,KAAM/B,EAAI0B,UAAUK,UAAW,CAAC3B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyBpB,EAAIoB,GAAG,mBAAmB,GAAGpB,EAAIgC,MAAM,GAAGhC,EAAIgC,MAAM,GAAG5B,EAAG,QAAQ,CAACiB,YAAY,CAAC,OAAS,SAAS,CAACjB,EAAG,QAAQ,CAAEJ,EAAe,YAAEI,EAAG,QAAQ,CAACS,MAAM,CAAC,QAAU,GAAG,MAAQ,UAAUc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,QAAQC,KAAK,CAAEC,KAAM,iBAAkB,CAAC3B,EAAG,SAAS,CAACJ,EAAIoB,GAAG,yBAAyBpB,EAAIoB,GAAG,yBAAyB,GAAGpB,EAAIgC,MAAM,IAAI,GAAG5B,EAAG,cAAc,CAACE,MAAM,CAC9tBC,OAAQP,EAAIQ,SAASC,WAAWC,MAAQ,IACxCC,QAASX,EAAIQ,SAASC,WAAWC,OAAS,IAC1CE,KAAMZ,EAAIQ,SAASC,WAAWC,OAAS,OACtC,CAACN,EAAG,SAAS,CAACiB,YAAY,CAAC,WAAa,eAAeR,MAAM,CAAC,UAAY,KAAK,SAAW,GAAG,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,WAAW,CAACS,MAAM,CAAC,MAAQ,OAAOC,MAAM,CAACC,MAAOf,EAAU,OAAEgB,SAAS,SAAUC,GAAMjB,EAAImQ,OAAOlP,GAAKE,WAAW,WAAW,CAACf,EAAG,SAAS,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,eAAe,CAACJ,EAAIoB,GAAG,qBAAqBhB,EAAG,cAAc,CAACA,EAAG,aAAa,CAACS,MAAM,CAAC,MAAQ,oBAAoBC,MAAM,CAACC,MAAOf,EAAe,YAAEgB,SAAS,SAAUC,GAAMjB,EAAI6V,YAAY5U,GAAKE,WAAW,kBAAkB,GAAGf,EAAG,aAAaA,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,SAAS,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAImQ,QAAS,KAAS,CAACnQ,EAAIoB,GAAG,eAAehB,EAAG,YAAYA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,UAAU,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI8V,UAAU,sBAAsB,CAAC9V,EAAIoB,GAAG,cAAc,IAAI,IAAI,GAAGhB,EAAG,QAAQ,CAACS,MAAM,CAAC,QAAU,SAAS,MAAQ,WAAW,CAAEb,EAAO,IAAEI,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAGpB,EAAIoC,GAAGpC,EAAIuF,IAAI5B,MAAM,KAAK3D,EAAIoC,GAAGpC,EAAIuF,IAAIsF,WAAWzK,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIoB,GAAG,oBAAoB,GAAGhB,EAAG,SAAS,CAACS,MAAM,CAAC,mBAAmB,iBAAiB,MAAQ,gBAAgB,KAAO,GAAG,cAAc,GAAG,YAAY,mCAAmC,YAAY,kCAAkC,gBAAgB,IAAIC,MAAM,CAACC,MAAOf,EAAO,IAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,IAAID,GAAKE,WAAW,QAAQ,CAACf,EAAG,gBAAgB,CAACS,MAAM,CAAC,MAAQ,mBAAmBT,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,cAAc,CAACb,EAAIoB,GAAG,iBAAiBhB,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,UAAU,UAAYb,EAAI0C,aAAaL,SAAS,CAACrC,EAAIoB,GAAG,kBAAkBhB,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,SAAS,UAAYb,EAAI0C,aAAaL,SAAS,CAACrC,EAAIoB,GAAG,gBAAgB,GAAGhB,EAAG,eAAe,CAACiB,YAAY,CAAC,WAAa,sBAAsBP,MAAM,CAACC,MAAOf,EAAO,IAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,IAAID,GAAKE,WAAW,QAAQ,CAACf,EAAG,aAAa,CAACS,MAAM,CAAC,MAAQ,aAAa,CAAEb,EAAW,QAAEI,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,6BAA6BhB,EAAG,qBAAqB,IAAI,GAAGA,EAAG,QAAQ,CAAGJ,EAAIuF,IAEx8DvF,EAAIgC,KAFy8D5B,EAAG,QAAQ,CAACA,EAAG,IAAI,CAAC+B,YAAY,YAAY7B,MAAM,CACriE,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,8BAAuC,GAAIpB,EAAI0C,aAAmB,OAAEtC,EAAG,QAAQ,CAACiB,YAAY,CAAC,aAAa,SAAS,CAACjB,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACT,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,GAAG,aAAab,EAAIuB,OAAOC,QAAQC,SAAW,OAAS,QAAQ,MAAQ,6BAA6B,SAAW,GAAG,MAAQzB,EAAI+V,cAAcpU,GAAG,CAAC,MAAQ3B,EAAIgW,iBAAiBlV,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIiW,SAAShV,GAAKE,WAAW,eAAe,IAAI,GAAGnB,EAAIgC,KAAMhC,EAAIkW,gBAAsB,OAAE9V,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,KAAK,YAAY,MAAM,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,eAAe,CAACA,EAAG,IAAI,CAAC+B,YAAY,YAAY7B,MAAM,CAC/qB,cAAeN,EAAIuB,OAAOC,QAAQC,WACjC,CAACzB,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAIiW,UAAU,OAAO7V,EAAG,YAAYA,EAAG,eAAe,CAACS,MAAM,CAAC,cAAc,cAAc,MAAQ,iBAAiB,cAAc,GAAG,eAAe,IAAIC,MAAM,CAACC,MAAOf,EAAe,YAAEgB,SAAS,SAAUC,GAAMjB,EAAIqE,YAAYpD,GAAKE,WAAW,kBAAkB,GAAGf,EAAG,eAAe,CAACS,MAAM,CAAC,GAAK,eAAe,QAAUb,EAAImW,iBAAiB,MAAQnW,EAAIoW,eAAe,OAASpW,EAAIqE,YAAY,QAAUrE,EAAIiC,SAAWjC,EAAIyO,UAAU1L,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,kBAAkBC,GAAG,SAASM,GACzf,IAAIe,EAAOf,EAAIe,KACnC,MAAO,CAACnE,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,qBAAqB,CAACb,EAAIoB,GAAGpB,EAAIoC,GAAGmC,EAAKC,WAAWC,OAAO,qBAAqB,CAACxB,IAAI,kBAAkBC,GAAG,SAASM,GACnI,IAAIe,EAAOf,EAAIe,KACnC,MAAO,CAACnE,EAAG,YAAY,CAACS,MAAM,CAAC,MAAQ,IAAIkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GACxE,IAAI7B,EAAK6B,EAAI7B,GACTd,EAAQ2C,EAAI3C,MACpC,MAAO,CAACT,EAAG,SAASJ,EAAIyD,GAAGzD,EAAI+D,GAAG,CAAClD,MAAM,CAAC,MAAQ0D,EAAKoK,WACvB,kBACA,gBAAgB,SAAW3O,EAAIuB,OAAOC,QAAQC,SAAS,SAAWzB,EAAIyO,UAAU9M,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI4O,eAAerK,MAAS,SAAS1D,GAAM,GAAOc,GAAI,CAAC3B,EAAIoB,GAAGpB,EAAIoC,GAAGmC,EAAKoK,WAAa,QAAU,aAAa,MAAK,IAAO,CAACvO,EAAG,OAAO,CAACJ,EAAIoB,GAAG,gCAAgC,CAAC6B,IAAI,gBAAgBC,GAAG,SAASM,GACpU,IAAIe,EAAOf,EAAIe,KAC7C,MAAO,CAACnE,EAAG,YAAY,CAACS,MAAM,CAAC,MAAQ,IAAIkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GAC9D,IAAI7B,EAAK6B,EAAI7B,GACTd,EAAQ2C,EAAI3C,MAC9C,MAAO,CAACT,EAAG,SAASJ,EAAIyD,GAAGzD,EAAI+D,GAAG,CAAClD,MAAM,CAAC,SAAWb,EAAIuB,OAAOC,QAAQC,SAAS,MAAQ8C,EAAKiK,SAAW,iBAAmB,eAAe,SAAWxO,EAAIyO,UAAU9M,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI0O,mBAAmBnK,MAAS,SAAS1D,GAAM,GAAOc,GAAI,CAAC3B,EAAIoB,GAAGpB,EAAIoC,GAAGmC,EAAKiK,SAAW,WAAa,mBAAmB,MAAK,IAAO,CAACpO,EAAG,OAAO,CAACJ,EAAIoB,GAAG,gCAAgC,CAAC6B,IAAI,6BAA6BC,GAAG,SAASM,GAChZ,IAAIe,EAAOf,EAAIe,KAC7C,MAAO,CAACnE,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQb,EAAIqW,mBAAmB9R,EAAKI,uBAAuB,SAAW3E,EAAIuB,OAAOC,QAAQC,WAAW,CAACzB,EAAIoB,GAAGpB,EAAIoC,GAAGmC,EAAKI,uBAAuB,UAAU,CAAC1B,IAAI,cAAcC,GAAG,SAASM,GACtL,IAAIe,EAAOf,EAAIe,KAC7C,MAAO,CAACnE,EAAG,YAAY,CAACS,MAAM,CAAC,MAAQ,IAAIkC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASM,GAC9D,IAAI7B,EAAK6B,EAAI7B,GACTd,EAAQ2C,EAAI3C,MAC9C,MAAO,CAACT,EAAG,QAAQJ,EAAIyD,GAAGzD,EAAI+D,GAAG,CAAClD,MAAM,CAAC,MAAQ,UAAU,SAAWb,EAAIyO,UAAU9M,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI4E,gBAAgBL,MAAS,QAAQ1D,GAAM,GAAOc,GAAI,CAACvB,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,UAAU,CAACb,EAAIoB,GAAG,uCAAuC,OAAO,MAAK,IAAO,CAAChB,EAAG,OAAO,CAACJ,EAAIoB,GAAG,4BAA4B,CAAC6B,IAAI,cAAcC,GAAG,SAASM,GACvU,IAAIe,EAAOf,EAAIe,KAC7C,MAAO,CAACnE,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,kBAAkB,KAAOb,EAAIuB,OAAOC,QAAQC,UAAUE,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAO0U,kBAAkBtW,EAAIuW,iBAAmBhS,EAAKmQ,aACnJ1U,EAAIwW,sBAAwBjS,EAAKoQ,kBACjC3U,EAAIyW,aAAelS,EAAKqJ,SACxB5N,EAAI4D,KAAK5D,EAAI0W,cAAenS,EAAKkQ,aAAa,MAAU,CAACrU,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,UAAU,CAACb,EAAIoB,GAAG,uBAAuB,GAAGhB,EAAG,WAAW,CAAC6C,IAAIsB,EAAKkQ,YAAY5T,MAAM,CAAC,WAAa,GAAG,YAAY,SAASC,MAAM,CAACC,MAAOf,EAAI0W,cAAcnS,EAAKkQ,aAAczT,SAAS,SAAUC,GAAMjB,EAAI4D,KAAK5D,EAAI0W,cAAenS,EAAKkQ,YAAaxT,IAAME,WAAW,oCAAoC,CAACf,EAAG,SAAS,CAACS,MAAM,CAAC,KAAOb,EAAIuB,OAAOC,QAAQC,WAAW,CAACrB,EAAG,eAAe,CAACA,EAAG,OAAO,CAAC+B,YAAY,YAAY,CAACnC,EAAIoB,GAAG,0BAA0BpB,EAAIoC,GAAGmC,EAAKkQ,aAAa,qBAAqBrU,EAAG,cAAc,CAACA,EAAG,cAAc,CAACiB,YAAY,CAAC,MAAQ,QAAQ,CAAErB,EAAIyK,OAAa,OAAErK,EAAG,MAAM,CAACA,EAAG,KAAK,CAAC+B,YAAY,yBAAyBd,YAAY,CAAC,OAAS,kBAAkB,CAACjB,EAAG,KAAK,CAAC+B,YAAY,oBAAoBd,YAAY,CAAC,WAAa,qBAAqB,CAACjB,EAAG,UAAU,CAACS,MAAM,CAAC,KAAO,UAAU,CAACb,EAAIoB,GAAG,kCAAkC,GAAGpB,EAAIqD,GAAIrD,EAAU,QAAE,SAASoH,EAAM7D,GAAO,OAAOnD,EAAG,KAAK,CAAC6C,IAAIM,EAAMpB,YAAY,kBAAkBtB,MAAM,CAAC,GAAK,UAAU,CAACT,EAAG,IAAI,CAAC+B,YAAY,yBAAyB,CAACnC,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGmB,EAAQ,GAAG,KAAKvD,EAAIoC,GAAGgF,GAAO,aAAY,KAAKpH,EAAIgC,KAAK5B,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,OAAO,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,QAAUb,EAAI2K,WAAW,MAAQ,WAAW,UAAY,KAAK,QAAU,KAAK,SAAW,IAAI7J,MAAM,CAACC,MAAOf,EAAoB,iBAAEgB,SAAS,SAAUC,GAAMjB,EAAIuW,iBAAiBtV,GAAKE,WAAW,uBAAuB,IAAI,GAAGf,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,OAAO,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,QAAUb,EAAI2K,WAAW,MAAQ,cAAc,UAAY,KAAK,QAAU,KAAK,SAAW,IAAI7J,MAAM,CAACC,MAAOf,EAAyB,sBAAEgB,SAAS,SAAUC,GAAMjB,EAAIwW,sBAAsBvV,GAAKE,WAAW,4BAA4B,IAAI,GAAGf,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,OAAO,CAACT,EAAG,eAAe,CAACS,MAAM,CAAC,QAAUb,EAAI2K,WAAW,MAAQ,eAAe,UAAY,KAAK,QAAU,KAAK,SAAW,IAAI7J,MAAM,CAACC,MAAOf,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAIyW,aAAaxV,GAAKE,WAAW,mBAAmB,IAAI,GAAGf,EAAG,QAAQ,CAACJ,EAAIoB,GAAG,yBAAyB,IAAI,GAAGhB,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,kBAAkB,SAAW,GAAG,QAAUb,EAAI2K,YAAYhJ,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0U,kBAAyBtW,EAAI2W,aACvxEpS,EACAvE,EAAIuW,iBACJvW,EAAIwW,sBACJxW,EAAIyW,cACJ,MACG,CAACzW,EAAIoB,GAAG,aAAahB,EAAG,YAAYA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,iBAAiB,SAAW,GAAG,QAAUb,EAAI2K,YAAYhJ,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0U,kBAAyBtW,EAAI2W,aAC5LpS,EACAvE,EAAIuW,iBACJvW,EAAIwW,sBACJxW,EAAIyW,cACJ,MACG,CAACzW,EAAIoB,GAAG,eAAe,IAAI,IAAI,OAAO,MAAK,MAAS,IAAI,IAAI,GAAGpB,EAAIgC,KAAMhC,EAAI0C,aAAmB,OAAEtC,EAAG,QAAQ,CAACiB,YAAY,CAAC,aAAa,OAAO,gBAAgB,SAAS,CAACjB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,GAAG,MAAQ,iBAAiB,QAAUb,EAAI2K,YAAYhJ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAIgR,WAAW,qBAAqB,CAAC5Q,EAAG,SAAS,CAACJ,EAAIoB,GAAG,qBAAqBpB,EAAIoB,GAAG,uBAAuB,IAAI,GAAGhB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACS,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,KAAO,GAAG,QAAUb,EAAI2K,YAAYhJ,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAImQ,QAAS,KAAQ,CAAC/P,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,0BAA0BpB,EAAIoB,GAAG,gCAAgC,IAAI,GAAGhB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC+B,YAAY,cAActB,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQb,EAAIuF,IAAIiJ,SAAW,gBAAkB,iBAAiB,QAAUxO,EAAI2K,YAAYhJ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI4W,WAAW5W,EAAIuF,IAAIiJ,aAAa,CAAExO,EAAIuF,IAAY,SAAEnF,EAAG,MAAM,CAACA,EAAG,SAAS,CAACJ,EAAIoB,GAAG,mBAAmBpB,EAAIoB,GAAG,2BAA2B,GAAGhB,EAAG,MAAM,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQ,UAAU,CAACb,EAAIoB,GAAG,iBAAiBpB,EAAIoB,GAAG,2BAA2B,MAAM,IAAI,GAAGhB,EAAG,QAAQ,CAAGJ,EAAIiC,SAAYjC,EAAI0C,aAAaL,OAA4QrC,EAAIgC,KAAxQ5B,EAAG,QAAQ,CAACA,EAAG,KAAK,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,oBAAoBhB,EAAG,cAAc,CAACS,MAAM,CAAC,GAAK,mBAAmB,CAACT,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,GAAG,MAAQ,mBAAmB,CAACT,EAAG,SAAS,CAACJ,EAAIoB,GAAG,qBAAqBpB,EAAIoB,GAAG,kBAAkB,IAAI,IAAI,GAAapB,EAAS,MAAEI,EAAG,QAAQ,CAACA,EAAG,KAAK,CAAC+B,YAAY,qBAAqB,CAACnC,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAIoH,OAAO,SAASpH,EAAIgC,KAAMhC,EAAW,QAAEI,EAAG,QAAQ,CAACA,EAAG,KAAK,CAAC+B,YAAY,eAAe,CAACnC,EAAIoB,GAAG,4BAA4BhB,EAAG,qBAAqB,GAAGJ,EAAIgC,MAAM,IAAI,GAAG5B,EAAG,aAAa,CAACS,MAAM,CAAC,MAAQ,WAAW,CAACT,EAAG,aAAa,CAACS,MAAM,CAAC,aAAeb,EAAI0C,aAAa,gBAAkB1C,EAAIkW,gBAAgB,QAAUlW,EAAI6W,QAAQ,UAAY7W,EAAI8W,UAAU,QAAU9W,EAAIiC,QAAQ,cAAgBjC,EAAI+W,cAAc,QAAU/W,EAAIsE,QAAQ,IAAMtE,EAAIuF,KAAK5D,GAAG,CAAC,OAAS,SAAUqV,GAAa,OAAOhX,EAAIiX,cAAcD,IAAc,QAAU,SAAUzR,GAAO,OAAOvF,EAAIkX,WAAW3R,EAAItB,MAAQ,UAAY,SAAUkT,GAAwB,OAAOnX,EAAIoX,aAAapX,EAAI0C,aAAcyU,IAAyB,KAAO,SAAUE,GACvuErX,EAAImX,qBAAuBE,EAAQF,qBACnCnX,EAAI6V,YAAcwB,EAAQxB,YAC1B7V,EAAIsX,cAAgBD,EAAQC,cAC5BtX,EAAI8V,UAAU,aACd,KAAO,SAAUyB,GACjBvX,EAAIwX,2BAA6BD,EACjCvX,EAAIyX,sBACA,GAAGrX,EAAG,aAAa,CAACS,MAAM,CAAC,MAAQ,UAAU,CAACT,EAAG,YAAY,CAACS,MAAM,CAAC,aAAeb,EAAI0C,aAAa,IAAM1C,EAAIuF,IAAI,QAAUvF,EAAIiC,YAAY,IAAI,GAAG7B,EAAG,aAAa,CAACS,MAAM,CAAC,QAAUb,EAAIiF,SAASlC,YAAY/C,EAAIgD,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASM,GACvP,IAAI3C,EAAQ2C,EAAI3C,MAC9B,MAAO,CAACT,EAAG,QAAQJ,EAAI+D,GAAG,CAAClD,MAAM,CAAC,MAAQ,OAAO,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ5B,EAAIkF,UAAW,KAAS,QAAQrE,GAAM,GAAO,CAACb,EAAIoB,GAAG,kBAAkBN,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIkF,SAASjE,GAAKE,WAAW,aAAa,CAACnB,EAAIoB,GAAG,IAAIpB,EAAIoC,GAAGpC,EAAImF,MAAM,QAAQ,IAAI,IAAI,IACxSC,EAAkB,G,+SCqatB,GACEzB,KAAM,cACNoC,WAAY,CACVC,iBAAkB,WAAtB,oDACI0R,UAAJ,OACIC,SAAJ,QAEEtS,KAPF,WAQI,MAAO,CACL3D,UAAW,KACXyO,QAAQ,EACR0F,aAAa,EACb+B,cAAc,EACdlB,cAAe,GACfnR,IAAK,KACL2Q,gBAAiB,GACjBxT,aAAc,GACd8O,QAAS,GACTlN,QAAS,GACTyR,aAAc,CAAC,YAAa,mBAC5BE,SAAU,YACVE,iBAAkB,GAClBC,eAAgB,GAChByB,uBAAwB,GACxBC,iBAAkB,GAClBC,YAAa,GACbC,mBAAoB,GACpBC,oBAAqB,GACrBC,wBAAyB,KACzBC,8BAA+B,KAC/BC,uBAAwB,KACxBC,8BAA+B,KAC/BC,+BAAgC,KAChCC,aAAc,CACpB,CAAQ,KAAR,uBAAQ,MAAR,cACA,CAAQ,KAAR,OAAQ,MAAR,QACA,CAAQ,KAAR,YAAQ,MAAR,cACA,CAAQ,KAAR,YAAQ,MAAR,YACA,CAAQ,KAAR,eAAQ,MAAR,yBACA,CAAQ,KAAR,UAAQ,MAAR,SAAQ,UAAR,IAEMC,gBAAiB,CACvB,CAAQ,KAAR,eAAQ,MAAR,eACA,CAAQ,KAAR,UAAQ,MAAR,gBACA,CAAQ,KAAR,cAAQ,MAAR,qBACA,CAAQ,KAAR,oBAAQ,MAAR,YACA,CAAQ,KAAR,UAAQ,MAAR,SAAQ,UAAR,IAGM3B,QAAS,GACT5U,SAAS,EACT0I,YAAY,EACZ8D,UAAU,EACVsI,cAAe,GACf7V,IAAK,KACLmD,YAAa,GACbuD,YAAa,KACbR,MAAO,KACPqD,OAAQ,GACRgM,aAAc,KACdF,iBAAkB,KAClBC,sBAAuB,KACvBiC,cAAc,EACdvT,UAAU,EACVC,KAAM,GACNF,QAAS,IACT6R,WAAW,EACXQ,eAAe,EACfE,4BAA4B,IAGhC7R,iBAvEF,SAuEA,OACIC,GAAK,SAAT,GACMC,EAAGnE,UAAYoE,MAGnB4E,QA5EF,aA6EEN,QA7EF,WA8EInK,KAAK2H,YAAcC,aAAauE,QAAQ,eAEL,MAA/BvE,aAAauE,QAAQ,QAEvBnM,KAAKiX,WAAWrP,aAAauE,QAAQ,QACrCnM,KAAKsB,OAAOoG,MAAMpC,IAAMtF,KAAKsF,KAE7B2B,QAAQC,IAAI,2BAIdkD,SAASC,KAAO,IAChBD,SAASC,KAAO,QAElBrE,QAAS,CACPwR,eADJ,WAEMxX,KAAKyY,mBAAmBzY,KAAKsF,MAE/B,WAJJ,SAIA,wKACA,kBADA,SAKA,yBACA,gBACA,GACA,gCARA,SAUA,iCAVA,0DAYA,4BAZA,QAcA,gBAdA,4DAgBI,mBApBJ,SAoBA,iKACA,uBACA,GACA,4BAEA,wBALA,8CAOI,eA3BJ,SA2BA,iKACA,2BACA,aACA,oBACA,iBACA,GACA,gCAEA,wBARA,8CAUI,iBArCJ,SAqCA,6KAEA,cAFA,SAGA,6BAHA,yDAKA,4BALA,OAOA,cAPA,4DASIyL,WA9CJ,SA8CA,GACM/Q,KAAK4B,QAAQC,KAAK,CAChBC,KAAMA,EACN4W,MAAO,CAAf,oCAGI3C,gBApDJ,WAqD4B,cAAlB/V,KAAKgW,UACPhW,KAAKmW,eAAiBnW,KAAKiW,gBAC3BjW,KAAKkW,iBAAmBlW,KAAKsY,eAE7BtY,KAAKmW,eAAiBnW,KAAKuR,QAC3BvR,KAAKkW,iBAAmBlW,KAAKuY,kBAKjC,aA/DJ,SAgEA,EACA,EACA,EACA,EACA,GACA,mKACA,aAEA,EAHA,oBAKA,EAGA,uDAFA,wCAKA,EAGA,4CACA,qBAHA,0BAMA,EAGA,+CAFA,4CAKA,gBAxBA,oBA2BA,oBACA,yBACA,eA7BA,wBA+BA,iBACA,sBACA,aACA,yBACA,gBACA,EApCA,eAoCA,WAEA,8BACA,YAEA,GACA,0BA1CA,UA4CA,iCACA,iBAEA,sDACA,yCACA,wCACA,iBAEA,mBACA,OACA,+DACA,cACA,kBAxDA,QA0DA,gBA1DA,wBA6DA,OACA,4DACA,cACA,yCAhEA,gCAuEA,yCAvEA,+CA0EIE,mBA/IJ,SA+IA,cACMzY,KAAK8W,cAAgB,GAErB9W,KAAKiW,gBAAgBnF,SAAQ,SAAnC,KACQnJ,EAAYpD,WAAa,EAAjC,sBACQoD,EAAY2H,SAAW,EAA/B,oBAEQ3H,EAAYgR,SAAWC,EAAI,KAE7B5Y,KAAKiW,gBAAgBrF,MAAK,SAAhC,KACQ,OAAOuD,EAAE5P,WAAWqO,SAASsB,EAAE3P,eAEjCvE,KAAKuR,QAAUvR,KAAKsF,IAAIiM,QAAQX,KAAKiI,EAA3C,+BACM7Y,KAAKuR,QAAQT,SAAQ,SAA3B,GACQU,EAAOtB,QAAS,KAGlBlQ,KAAKyC,aAAe,OAA1B,OAA0B,CAA1B,sBACWzC,KAAKuX,6BACRvX,KAAKyC,aAAezC,KAAKyC,aAAawR,QAAO,SAArD,2BAGMjU,KAAKyC,aAAaqO,SAAQ,SAAhC,KACQ,EAAR,2BAGUxL,EAAI2F,wBAA0B,EACxC,oDACA,mDACMjL,KAAKmX,aAAanX,KAAKyC,aAAczC,KAAKkX,uBAE5C,WA9KJ,SA8KA,wKACA,aADA,kBAIA,gBACA,QALA,UAIA,EAJA,QAQA,EARA,wBAWA,QAEA,oCAbA,mBAeA,wBACA,WAhBA,QAeA,kBAfA,OAkBA,4BACA,oBACA,6BACA,cArBA,qDAuBA,oBAvBA,6DA2BA,0BA3BA,QA6BA,aA7BA,oEA+BIvS,gBAAiB,SAArB,GAGM3E,KAAKsB,OAAOoG,MAAMC,YAAcA,EAEhCC,aAAaC,QACnB,cACA,gBACQ,GAAR,MACQ,WAAR,aACQ,SAAR,cAIM7H,KAAK4B,QAAQC,KAAK,CAAxB,oBAIIsV,aA/NJ,SA+NA,gBACA,KA8DM,GA7DAnX,KAAK6W,WAAY,EACjBpU,EAAaqO,SAAQ,SAA3B,GAGYnJ,EAAY+L,cAActR,QAE5BuF,EAAY+L,cAAc5C,SAAQ,SAA5C,GAEY,IAAZ,2BACc,OACd,qDAKY,GAAIxN,GAAS,EAAG,CAEd,IAAd,OACcwV,EAAaC,YAAYpR,EAAYgR,UAAY,CAC/ChR,YAAaA,EAAY3D,IACzB2U,SAAUhR,EAAYgR,SACtBxK,OAAQqD,EAAO+C,iBACfrG,UAAWsD,EAAOtD,WAGpB8K,EAAYrI,OAAOrN,EAAO,EAAGwV,OAG3C,CAEc,IAAd,kBACA,YAAgB,OAAhB,iCAEkBG,GAEFzH,EAAOiD,aAAewE,EAAWxE,aACjCjD,EAAOkD,kBAAoBuE,EAAWvE,kBACtClD,EAAO7D,SAAWsL,EAAWtL,WAG7B1G,QAAQC,IAAI,IAA5B,OACA,cADA,eACA,eADA,8CAGgBgS,MAAM,IAAtB,OACA,cADA,eACA,eADA,+CAKc1H,EAAOuH,YAAc,GAErBvH,EAAOuH,YAAYpR,EAAYgR,UAAY,CACzChR,YAAaA,EAAY3D,IACzB2U,SAAUhR,EAAYgR,SACtBxK,OAAQqD,EAAO+C,iBACfrG,UAAWsD,EAAOtD,WAEpB8K,EAAYnX,KAAK2P,UAKrBwH,EAAY5W,OAAQ,CACtBpC,KAAK6W,WAAY,EAEjBmC,EAAchZ,KAAKmZ,kBAAkBH,EAAaI,GAElDpZ,KAAK4W,QAAUoC,EAAYpI,MAAK,SAAiBsD,EAAGC,GAClD,OACV,qEAGQnU,KAAKgX,cAAc,eAEnB,IAAR,IACA,KACA,KACQhX,KAAK4W,QAAQ9F,SAAQ,SAA7B,GACcsD,IAAgB5C,EAAOuH,YAAY,SACrCvH,EAAO6H,gBAAkBhF,GAEzB7C,EAAO6H,gBAAkBA,EACzBjF,EAAc5C,EAAOuH,YAAY,SACjC1E,EAAiB7C,EAAO6H,iBAE1B7H,EAAO8H,iBAAmB9H,EAAOuH,YAAY,SAC7CM,SAINrC,cA1TJ,SA0TA,cACMhX,KAAKqE,QAAU,GACfrE,KAAKqE,QAAQxC,KAAK,CAChBqD,KAAM,WACNqU,WAAW,EACXC,MAAO,SACP1Y,MAAO,kBACP4N,YAAY,IAEd1O,KAAKqE,QAAQxC,KAAK,CAChBqD,KAAM,YACNsU,MAAO,SACPD,WAAW,EACXzY,MAAO,cACP4N,YAAY,IAEd1O,KAAKqE,QAAQxC,KAAK,CAChBqD,KAAM,UACNsU,MAAO,SACPD,WAAW,EACXzY,MAAO,eACP4N,YAAY,IAEd1O,KAAKqE,QAAQxC,KAAK,CAChBqD,KAAM,cACNsU,MAAO,SACPD,WAAW,EACXzY,MAAO,WACP4N,YAAY,IAEd1O,KAAKyZ,iBAAmB,EACxBzZ,KAAKyC,aAAaqO,SAAQ,SAAhC,GAMQ,GAJKnJ,EAAY+G,YACf,EAAV,mBAGgC,gBAApBgL,EAAmC,CAErC,IAAV,gCACY,OAAO/R,EAAYgG,WAAagM,EAAOzU,QAEzC,GAAI0U,EAAcxX,OAAQ,CACxB,IAAZ,qCACA,YAEY,EAAZ,cACc8C,KAAM2U,EACNL,MAAO,SACPD,WAAW,EACX7K,WAAY/G,EAAY+G,WACxB5N,MAAO,eAArB,qCAGY,EAAZ,cACcoE,KAAMyC,EAAYgG,SAClB6L,MAAO,SACPD,WAAW,EACX7K,WAAY/G,EAAY+G,WACxB5N,MAAO,eAArB,qCAIU,EAAV,cACYoE,KAAMyC,EAAYjE,KAClB8V,MAAO,SACPD,WAAW,EACX7K,WAAY/G,EAAY+G,WACxB5N,MAAO,eAAnB,mCAIMd,KAAKqE,QAAQxC,KAAK,CAChBqD,KAAM,WACNsU,MAAO,SACPD,WAAW,EACXzY,MAAO,mBACP4N,YAAY,KAGhByK,kBA1YJ,SA0YA,gBA+BM,OA9BAvC,EAAQ9F,SAAQ,SAAtB,GAEQ,GAAI,EAAZ,wBAEUU,EAAOuH,YAAY,SAAW,EAE9B,IAAV,gCACUe,EAAKlJ,MAAK,SAAiBsD,EAAGC,GAC5B,OAAO1E,SAAS0E,EAAEhG,QAAUsB,SAASyE,EAAE/F,WAIzC2L,EAAKhJ,SAAQ,SAAvB,KACY,GAAIiJ,EACF,GAAIzW,EAAQ,GAAK8V,EACf5H,EAAOuH,YAAY,UAAYgB,EAAQ5L,WACvD,CACgB,IAAhB,uBACA,YAAkB,OAAlB,yBAEgBqD,EAAOuH,YAAYgB,EAAQpB,UAAUxK,OACrD,2BACgBqD,EAAOuH,YAAY,UAAYiB,EAAK5L,iCAQvCwI,GAITf,UA7aJ,SA6aA,GAGM,IAMN,EAEA,EACA,EATA,oBACQoE,YAAaja,KAAK4V,YAAc,YAAc,aAItD,0DAEA,KAIA,oCACUtS,EAAQ4W,EAClB,QACA,UACA,uBAAQ,OAAR,oBACUC,EAAQD,EAAW9X,OAAS,EAC5BgY,EAAa9W,GAAS,EAAI6W,EAAQ7W,EAAQA,EACpD,OACA,KACA,KACA,KACA,iBACU+W,IACFC,EAA0B,GAAlC,2CACQ/V,EAAavE,KAAKsS,QAAQ+H,EAAiB9V,aAE7C,IAAN,iCACA,YADA,YAEA,UACMgW,EAAIC,YAAY,IAChBD,EAAIrV,KAAK,GAAI,GAAIuV,EAAO,CAA9B,eACMF,EAAIG,KAAK,EAAG,GAAI,IAAK,IACrBH,EAAIC,YAAY,IAEhB,IACN,IAMM,GALAxa,KAAKyC,aAAaqO,SAAQ,SAAhC,GACQnJ,EAAY+G,WACpB,EACA,OAE0B,aAAhBiM,EAIAC,EAH8B,IAA5BC,GAAkC7a,KAAKuX,2BAG7B,WAAtB,mEAFsB,YAAtB,UAIQgD,EAAIrV,KAAK,GAAI,GAAI0V,EAAW,CAApC,eACY5a,KAAKqX,eACPkD,EAAIrV,KACd,GACA,GACA,cACA,0BADA,YACA,yBADA,uCAEA,CAAY,MAAZ,SAIQlF,KAAKqE,QAAQyM,SAAQ,SAA7B,GACUgK,EAAQjZ,KAAK8X,EAAOzU,SAEtB6V,EAAOlC,EAAf,oBACA,aACA,kBACA,oBAEQmC,EAAS,OACjB,CAoBQ,GAlBEJ,EAD8B,IAA5BC,EACU,2BAAtB,sBAEsB,qBAAtB,wBAEQN,EAAIrV,KAAK,GAAI,GAAI0V,EAAW,CAApC,eACQL,EAAIC,YAAY,GAEhBM,EAAU,CAAC,eAAgB,UAAW,cAAe,eACrD9a,KAAKuR,QAAUvR,KAAKsF,IAAIiM,QAAQX,KACxC,iCAEQmK,EAAOlC,EAAf,oBACA,aACA,kBACA,WAIYkC,EAAK3Y,OAAQ,CACf,IADV,EACA,6BADA,iBAEA,sBAFA,IAEA,0CACA,sBAHA,mCAKA,wBAEA,oBAFA,IAEA,0CACA,qBACA,kDACA,gBALA,+BAUQ4Y,EAAS,GAGXT,EAAIU,UAAU,CACZC,KAAM,CAACJ,GACPpU,KAAMqU,EACNI,OAAQ,CACNC,SAAU,YACVC,OAAQ,UACRC,SAAU,IACVC,UAAW,IACXC,UAAW,KAEbC,aAAc,CAAtB,yBACQC,WAAY,CAApB,yBACQC,MAAO,UACPC,UAAW,OACXC,WAAY,OACZb,OAAQA,EACRc,OAAQ,CAAhB,UAEM,IAAN,wDACA,MACA,IACA,IAHA,YAIA,kBACA,2BACA,IACA,IAPA,QASM9b,KAAKkQ,QAAS,EACd2I,EAAN,2BAEIzC,mBAAoByC,EAAxB,0BClnCqV,I,qTCOjV/Q,EAAY,eACd,EACAhI,EACAqF,GACA,EACA,KACA,KACA,MAIa,aAAA2C,EAAiB,QA6BhC,IAAkBA,EAAW,CAACuF,SAAA,KAAOrF,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWkF,YAAA,KAAUjF,QAAA,KAAMC,OAAA,KAAKC,aAAA,KAAWE,aAAA,KAAW+E,UAAA,KAAQ9E,WAAA,KAASC,QAAA,KAAMS,OAAA,KAAKkB,UAAA,KAAQf,YAAA,KAAUC,UAAA,KAAQC,OAAA,KAAKC,WAAA,KAASC,QAAA,KAAMC,aAAA,KAAWC,cAAA,KAAYC,aAAA,KAAWE,WAAA,Q,kCC/CzO","file":"js/about~33d48c78.44c45e87.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{class:{\n    mobile: _vm.$vuetify.breakpoint.width < 800,\n    browser: _vm.$vuetify.breakpoint.width >= 800,\n    wide: _vm.$vuetify.breakpoint.width >= 1200,\n  }},[_c('v-tabs',{attrs:{\"background-color\":\"blue lighten-2\",\"color\":\"blue darken-4\",\"grow\":\"\",\"show-arrows\":\"\",\"next-icon\":\"mdi-arrow-right-bold-box-outline\",\"prev-icon\":\"mdi-arrow-left-bold-box-outline\",\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"blue darken-4\"}}),_c('v-tab',{attrs:{\"href\":\"#overview\"}},[_vm._v(\"Yleisnäkymä\")]),_c('v-tab',{attrs:{\"href\":\"#users\"}},[_vm._v(\"Käyttäjät\")]),_c('v-tab',{attrs:{\"href\":\"#competitions\"}},[_vm._v(\"Kilpailut\")]),_c('v-tab',{attrs:{\"href\":\"#feedback\"}},[_vm._v(\"Saatu palaute\")])],1),_c('v-tabs-items',{staticStyle:{\"background\":\"rgba(0, 0, 0, 0.4)\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{class:{\n        inputarea: !_vm.$store.getters.getTheme,\n        'inputarea-dark': _vm.$store.getters.getTheme,\n      },attrs:{\"value\":'overview'}},[_c('v-row',[_c('v-col',[_c('v-row',[(_vm.prevRoute)?_c('v-col',[(_vm.prevRoute.name)?_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"yellow\"},on:{\"click\":function($event){return _vm.$router.push({ path: _vm.prevRoute.path })}}},[_c('v-icon',[_vm._v(\"mdi-keyboard-return\")]),_vm._v(\"Palaa takaisin\")],1):_vm._e()],1):_vm._e()],1),_c('v-row',[_c('v-col',[_c('h1',[_vm._v(\"Yleistietoja\")])])],1),(!_vm.loading)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('v-card',{attrs:{\"elevation\":\"20\",\"dark\":_vm.$store.getters.getTheme}},[(_vm.feedback.length)?_c('p',{staticClass:\"flow-text\"},[_c('v-icon',[_vm._v(\"mdi-message-alert\")]),_vm._v(\" Palautetta annettu: \"+_vm._s(_vm.feedback.length)+\" kpl \")],1):_c('p',{staticClass:\"flow-text\"},[_c('v-icon',[_vm._v(\"mdi-message-alert\")]),_vm._v(\" Ei palautetta! \")],1)])],1)],1):_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h3',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ladataan palautteita... \")]),_c('ProgressBarQuery')],1)],1),(!_vm.loading_users)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('v-card',{attrs:{\"elevation\":\"20\",\"dark\":_vm.$store.getters.getTheme}},[(_vm.users.length)?_c('p',{staticClass:\"flow-text\"},[_c('v-icon',[_vm._v(\"mdi-account-circle\")]),_vm._v(\" Käyttäjiä yhteensä: \"+_vm._s(_vm.users.length)+\" kpl \")],1):_c('p',{staticClass:\"flow-text\"},[_c('v-icon',[_vm._v(\"mdi-account-circle\")]),_vm._v(\" Ei käyttäjiä! \")],1)])],1)],1):_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h3',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ladataan käyttäjiä... \")]),_c('ProgressBarQuery')],1)],1),(!_vm.loading_competitions)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('v-card',{attrs:{\"elevation\":\"20\",\"dark\":_vm.$store.getters.getTheme}},[(_vm.all_competitions.length)?_c('p',{staticClass:\"flow-text\"},[_c('v-icon',[_vm._v(\"mdi-ferry\")]),_vm._v(\" Kilpailuja yhteensä: \"+_vm._s(_vm.all_competitions.length)+\" kpl\"),_c('br'),_vm._v(\"---> Itse luotuja \"+_vm._s(_vm.competitions.length)+\"/\"+_vm._s(_vm.all_competitions.length)+\" kpl \")],1):_c('p',{staticClass:\"flow-text\"},[_c('v-icon',[_vm._v(\"mdi-ferry\")]),_vm._v(\" Ei kilpailuja! \")],1)])],1)],1):_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h3',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ladataan kilpailuja... \")]),_c('ProgressBarQuery')],1)],1),(!_vm.loading_cups)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('v-card',{attrs:{\"elevation\":\"20\",\"dark\":_vm.$store.getters.getTheme}},[(_vm.all_cups.length)?_c('p',{staticClass:\"flow-text\"},[_c('v-icon',{attrs:{\"color\":\"yellow darken-1\"}},[_vm._v(\"mdi-medal\")]),_vm._v(\" Cuppeja yhteensä: \"+_vm._s(_vm.all_cups.length)+\" kpl\"),_c('br'),_vm._v(\"---> Itse luotuja \"+_vm._s(_vm.cups.length)+\"/\"+_vm._s(_vm.all_cups.length)+\" kpl \")],1):_c('p',{staticClass:\"flow-text\"},[_c('v-icon',[_vm._v(\"mdi-ferry\")]),_vm._v(\" Ei cuppeja! \")],1)])],1)],1):_c('v-row',[_c('v-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h3',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ladataan Cuppeja... \")]),_c('ProgressBarQuery')],1)],1)],1)],1)],1),_c('v-tab-item',{class:{\n        inputarea: !_vm.$store.getters.getTheme,\n        'inputarea-dark': _vm.$store.getters.getTheme,\n      },attrs:{\"value\":'users'}},[_c('v-row',[_c('v-col',[_c('v-row',[(_vm.prevRoute)?_c('v-col',[(_vm.prevRoute.name)?_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"yellow\"},on:{\"click\":function($event){return _vm.$router.push({ path: _vm.prevRoute.path })}}},[_c('v-icon',[_vm._v(\"mdi-keyboard-return\")]),_vm._v(\"Palaa takaisin\")],1):_vm._e()],1):_vm._e()],1),_c('v-row',[_c('v-col',[_c('h1',[_vm._v(\"Käyttäjät\")]),_c('br'),_c('p',{staticClass:\"flow-text\",class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" *Klikkaa nimeä saadaksesi lisätietoa \")])])],1),(_vm.users.length)?_c('v-row',[_c('v-col',{class:{\n                'grey darken-4': _vm.$store.getters.getTheme,\n              },attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('v-data-iterator',{staticClass:\"scroll_table\",attrs:{\"items\":_vm.users,\"search\":_vm.search,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('v-toolbar',{staticClass:\"mb-1\",attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-text-field',{attrs:{\"clearable\":\"\",\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"prepend-inner-icon\":\"search\",\"label\":\"Etsi\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]},proxy:true},{key:\"default\",fn:function(props){return _vm._l((props.items),function(user,index){return _c('v-col',{key:index,staticStyle:{\"margin-top\":\"20px\"}},[_c('v-menu',{attrs:{\"bottom\":\"\",\"right\":\"\",\"transition\":\"scale-transition\",\"origin\":\"top left\",\"close-on-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n              var on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"dark\":_vm.$store.getters.getTheme,\"outlined\":_vm.$store.getters.getTheme,\"large\":\"\",\"color\":user.is_admin ? 'yellow darken-2' : 'green'}},on),[_c('v-avatar',{attrs:{\"left\":\"\"}},[(user.is_admin)?_c('v-icon',[_vm._v(\"mdi-shield-crown\")]):_c('v-icon',[_vm._v(\"mdi-account\")])],1),_vm._v(\" \"+_vm._s(user.name)+\" \")],1)]}}],null,true),model:{value:(user.menu),callback:function ($$v) {_vm.$set(user, \"menu\", $$v)},expression:\"user.menu\"}},[_c('v-card',{attrs:{\"width\":\"300\"}},[_c('v-list',{attrs:{\"dark\":\"\"}},[_c('v-list-item',[_c('v-list-item-avatar',[(user.is_admin)?_c('v-icon',[_vm._v(\"mdi-shield-crown\")]):_c('v-icon',[_vm._v(\"mdi-account\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(user.name))]),_c('v-list-item-subtitle',[_vm._v(_vm._s(user.email))])],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){user.menu = false}}},[_c('v-icon',[_vm._v(\"mdi-close-circle\")])],1)],1)],1)],1),_c('v-list',[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n              var on = ref.on;\n              var attrs = ref.attrs;\nreturn [_c('v-list-item',_vm._g(_vm._b({on:{\"click\":function($event){return _vm.copyToClipboard(user._id, user)}}},'v-list-item',attrs,false),on),[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-badge-account-horizontal\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(user._id))]),_c('v-list-item-subtitle',[_vm._v(\"Id\")])],1)],1)]}}],null,true)},[_c('span',[_vm._v(\"Kopioi\")])]),_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n              var on = ref.on;\n              var attrs = ref.attrs;\nreturn [_c('v-list-item',_vm._g(_vm._b({on:{\"click\":function($event){return _vm.copyToClipboard(user.createdAt, user)}}},'v-list-item',attrs,false),on),[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-calendar-check\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(user.createdAt))]),_c('v-list-item-subtitle',[_vm._v(\"Tili luotu\")])],1)],1)]}}],null,true)},[_c('span',[_vm._v(\"Kopioi\")])]),(user.is_admin)?_c('v-list-item',{on:{\"click\":function () {}}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-briefcase\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Admin\")]),_c('v-list-item-subtitle',[_vm._v(\"Rooli\")])],1)],1):_c('v-list-item',{on:{\"click\":function () {}}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-briefcase\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Käyttäjä\")]),_c('v-list-item-subtitle',[_vm._v(\"Rooli\")])],1)],1),_c('v-list-item',{on:{\"click\":function () {}}},[_c('v-list-item-content',[_c('v-btn',{attrs:{\"color\":\"blue\"},on:{\"click\":function($event){_vm.copyToClipboard(JSON.stringify(user), user)}}},[_c('v-icon',[_vm._v(\"mdi-copy-content\")]),_vm._v(\" Kopio koko objekti \")],1)],1)],1)],1)],1)],1),_c('v-divider',{staticStyle:{\"margin-top\":\"10px\"}})],1)})}}],null,false,1082671211)})],1)],1):(_vm.loading_users)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-sheet',{staticClass:\"px-3 pt-3 pb-3\",attrs:{\"color\":(\"grey \" + (_vm.$store.getters.getTheme ? 'darken-2' : 'lighten-4'))}},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"type\":\"card\"}})],1)],1)],1):_c('v-row',[_c('v-col',[_c('h2',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ei käyttäjiä! \")])])],1)],1)],1)],1),_c('v-tab-item',{class:{\n        inputarea: !_vm.$store.getters.getTheme,\n        'inputarea-dark': _vm.$store.getters.getTheme,\n      },attrs:{\"value\":'competitions'}},[_c('v-row',[_c('v-col',[_c('v-row',[(_vm.prevRoute)?_c('v-col',[(_vm.prevRoute.name)?_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"yellow\"},on:{\"click\":function($event){return _vm.$router.push({ path: _vm.prevRoute.path })}}},[_c('v-icon',[_vm._v(\"mdi-keyboard-return\")]),_vm._v(\"Palaa takaisin\")],1):_vm._e()],1):_vm._e()],1),_c('v-row',[_c('v-col',[_c('h1',[_vm._v(\"Kilpailut\")])])],1),(_vm.all_competitions.length)?_c('v-row',[_c('v-col',[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\"},[_vm._v(\"Kilpailut\")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae kilpailua\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search_comp),callback:function ($$v) {_vm.search_comp=$$v},expression:\"search_comp\"}})],1),_c('v-data-table',{attrs:{\"id\":\"normal-table\",\"headers\":_vm.headers,\"items\":_vm.all_competitions,\"search\":_vm.search_comp,\"loading\":_vm.loading_competitions},scopedSlots:_vm._u([{key:\"item.start_date\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":\"primary darken-2\"}},[_vm._v(_vm._s(item.start_date.format(\"DD.MM.YYYY\")))])]}},{key:\"item.cup_points_multiplier\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":_vm.getColor(item.cup_points_multiplier),\"outlined\":_vm.$store.getters.getTheme}},[_vm._v(_vm._s(item.cup_points_multiplier)+\"x\")])]}},{key:\"item.choose\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n      var on = ref.on;\n      var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.pickCompetition(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"color\":\"black\"}},[_vm._v(\"mdi-arrow-right-bold-box-outline\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Siirry kilpailuun\")])])]}},{key:\"item.delete\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n      var on = ref.on;\n      var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"red\",\"loading\":_vm.loading_competitions},on:{\"click\":function($event){return _vm.deleteCompetition(item._id, false)}}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-delete-outline\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Poista kilpailu\")])])]}}],null,true)})],1)],1)],1):_c('v-row',[(_vm.loading_competitions)?_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-sheet',{staticClass:\"px-3 pt-3 pb-3\",attrs:{\"color\":(\"grey \" + (_vm.$store.getters.getTheme ? 'darken-2' : 'lighten-4'))}},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"type\":\"card\"}})],1)],1):_c('v-col',[_c('h2',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ei Kilpailuja! \")])])],1)],1)],1)],1),_c('v-tab-item',{class:{\n        inputarea: !_vm.$store.getters.getTheme,\n        'inputarea-dark': _vm.$store.getters.getTheme,\n      },attrs:{\"value\":'feedback'}},[_c('v-row',[_c('v-col',[_c('v-row',[(_vm.prevRoute)?_c('v-col',[(_vm.prevRoute.name)?_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"yellow\"},on:{\"click\":function($event){return _vm.$router.push({ path: _vm.prevRoute.path })}}},[_c('v-icon',[_vm._v(\"mdi-keyboard-return\")]),_vm._v(\"Palaa takaisin\")],1):_vm._e()],1):_vm._e()],1),_c('v-row',[_c('v-col',[_c('h1',[_vm._v(\"Saatu Palaute\")])])],1),(_vm.feedback.length)?_c('v-row',[_c('v-col',[_c('ul',{attrs:{\"id\":\"fish_weights\"}},_vm._l((_vm.feedback),function(feedback,index){return _c('li',{key:index},[_c('v-card',{staticClass:\"mx-auto\",staticStyle:{\"margin-bottom\":\"30px\",\"margin-top\":\"30px\"},attrs:{\"dark\":_vm.$store.getters.getTheme,\"min-width\":\"200px\",\"max-width\":\"850px\"}},[_c('v-card-title',[_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(\"#\"+_vm._s(index + 1)+\" \"+_vm._s(feedback.type))])])],1),_c('v-card-text',{staticClass:\"headline font-weight-bold\",staticStyle:{\"word-break\":\"break-all\"}},[_vm._v(\" \"+_vm._s(feedback.message)+\" \")]),_c('v-card-actions',[_c('v-col',[_c('v-btn',{staticClass:\"black--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"yellow\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.deleteFeedback(feedback._id)}}},[_c('v-icon',[_vm._v(\"mdi-check-outline\")]),_vm._v(\"Ratkaise\")],1)],1)],1)],1)],1)}),0)])],1):_c('v-row',[(_vm.loading)?_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-sheet',{staticClass:\"px-3 pt-3 pb-3\",attrs:{\"color\":(\"grey \" + (_vm.$store.getters.getTheme ? 'darken-2' : 'lighten-4'))}},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"type\":\"card\"}})],1)],1):_c('v-col',[_c('h2',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Palautetta ei vielä annettu! \")])])],1)],1)],1)],1)],1),_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\n                var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"blue\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /admin -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <v-container\r\n    v-bind:class=\"{\r\n      mobile: $vuetify.breakpoint.width < 800,\r\n      browser: $vuetify.breakpoint.width >= 800,\r\n      wide: $vuetify.breakpoint.width >= 1200,\r\n    }\"\r\n  >\r\n    <!-- Tabs -->\r\n    <v-tabs\r\n      v-model=\"tab\"\r\n      background-color=\"blue lighten-2\"\r\n      color=\"blue darken-4\"\r\n      grow\r\n      show-arrows\r\n      next-icon=\"mdi-arrow-right-bold-box-outline\"\r\n      prev-icon=\"mdi-arrow-left-bold-box-outline\"\r\n      center-active\r\n    >\r\n      <v-tabs-slider color=\"blue darken-4\"></v-tabs-slider>\r\n      <v-tab href=\"#overview\">Yleisnäkymä</v-tab>\r\n      <v-tab href=\"#users\">Käyttäjät</v-tab>\r\n      <v-tab href=\"#competitions\">Kilpailut</v-tab>\r\n      <v-tab href=\"#feedback\">Saatu palaute</v-tab>\r\n    </v-tabs>\r\n    <v-tabs-items v-model=\"tab\" style=\"background: rgba(0, 0, 0, 0.4)\">\r\n      <v-tab-item\r\n        :value=\"'overview'\"\r\n        v-bind:class=\"{\r\n          inputarea: !$store.getters.getTheme,\r\n          'inputarea-dark': $store.getters.getTheme,\r\n        }\"\r\n      >\r\n        <v-row>\r\n          <v-col>\r\n            <v-row>\r\n              <v-col v-if=\"prevRoute\">\r\n                <v-btn\r\n                  v-if=\"prevRoute.name\"\r\n                  large\r\n                  rounded\r\n                  color=\"yellow\"\r\n                  @click=\"$router.push({ path: prevRoute.path })\"\r\n                  ><v-icon>mdi-keyboard-return</v-icon>Palaa takaisin</v-btn\r\n                >\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <h1>Yleistietoja</h1>\r\n              </v-col>\r\n            </v-row>\r\n            <!-- if this.loading === false, meaning app isn't loading feedback from database, then show this div -->\r\n            <v-row v-if=\"!loading\">\r\n              <v-col md=\"6\" offset-md=\"3\">\r\n                <v-card elevation=\"20\" :dark=\"$store.getters.getTheme\">\r\n                  <p v-if=\"feedback.length\" class=\"flow-text\">\r\n                    <v-icon>mdi-message-alert</v-icon> Palautetta annettu:\r\n                    {{ feedback.length }} kpl\r\n                  </p>\r\n                  <p v-else class=\"flow-text\">\r\n                    <v-icon>mdi-message-alert</v-icon> Ei palautetta!\r\n                  </p>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col md=\"6\" offset-md=\"3\">\r\n                <h3\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ladataan palautteita...\r\n                </h3>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-row>\r\n            <!-- if this.loading_users === false, meaning app isn't loading users, then show this div -->\r\n            <v-row v-if=\"!loading_users\">\r\n              <v-col md=\"6\" offset-md=\"3\">\r\n                <v-card elevation=\"20\" :dark=\"$store.getters.getTheme\">\r\n                  <p v-if=\"users.length\" class=\"flow-text\">\r\n                    <v-icon>mdi-account-circle</v-icon> Käyttäjiä yhteensä:\r\n                    {{ users.length }} kpl\r\n                  </p>\r\n                  <p v-else class=\"flow-text\">\r\n                    <v-icon>mdi-account-circle</v-icon> Ei käyttäjiä!\r\n                  </p>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col md=\"6\" offset-md=\"3\">\r\n                <h3\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ladataan käyttäjiä...\r\n                </h3>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-row>\r\n            <!-- if this.loading_competitions === false, meaning app isn't loading competitions, then show this div -->\r\n            <v-row v-if=\"!loading_competitions\">\r\n              <v-col md=\"6\" offset-md=\"3\">\r\n                <v-card elevation=\"20\" :dark=\"$store.getters.getTheme\">\r\n                  <p v-if=\"all_competitions.length\" class=\"flow-text\">\r\n                    <v-icon>mdi-ferry</v-icon> Kilpailuja yhteensä:\r\n                    {{ all_competitions.length }} kpl<br />---> Itse luotuja\r\n                    {{ competitions.length }}/{{ all_competitions.length }}\r\n                    kpl\r\n                  </p>\r\n                  <p v-else class=\"flow-text\">\r\n                    <v-icon>mdi-ferry</v-icon> Ei kilpailuja!\r\n                  </p>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col md=\"6\" offset-md=\"3\">\r\n                <h3\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ladataan kilpailuja...\r\n                </h3>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"!loading_cups\">\r\n              <v-col md=\"6\" offset-md=\"3\">\r\n                <v-card elevation=\"20\" :dark=\"$store.getters.getTheme\">\r\n                  <p v-if=\"all_cups.length\" class=\"flow-text\">\r\n                    <v-icon color=\"yellow darken-1\">mdi-medal</v-icon> Cuppeja\r\n                    yhteensä: {{ all_cups.length }} kpl<br />---> Itse luotuja\r\n                    {{ cups.length }}/{{ all_cups.length }} kpl\r\n                  </p>\r\n                  <p v-else class=\"flow-text\">\r\n                    <v-icon>mdi-ferry</v-icon> Ei cuppeja!\r\n                  </p>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col md=\"6\" offset-md=\"3\">\r\n                <h3\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ladataan Cuppeja...\r\n                </h3>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-row>\r\n          </v-col>\r\n        </v-row>\r\n      </v-tab-item>\r\n      <v-tab-item\r\n        :value=\"'users'\"\r\n        v-bind:class=\"{\r\n          inputarea: !$store.getters.getTheme,\r\n          'inputarea-dark': $store.getters.getTheme,\r\n        }\"\r\n      >\r\n        <v-row>\r\n          <v-col>\r\n            <v-row>\r\n              <v-col v-if=\"prevRoute\">\r\n                <v-btn\r\n                  v-if=\"prevRoute.name\"\r\n                  large\r\n                  rounded\r\n                  color=\"yellow\"\r\n                  @click=\"$router.push({ path: prevRoute.path })\"\r\n                  ><v-icon>mdi-keyboard-return</v-icon>Palaa takaisin</v-btn\r\n                >\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <h1>Käyttäjät</h1>\r\n                <br />\r\n                <p\r\n                  class=\"flow-text\"\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  *Klikkaa nimeä saadaksesi lisätietoa\r\n                </p>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"users.length\">\r\n              <v-col\r\n                md=\"6\"\r\n                offset-md=\"3\"\r\n                v-bind:class=\"{\r\n                  'grey darken-4': $store.getters.getTheme,\r\n                }\"\r\n              >\r\n                <v-data-iterator\r\n                  :items=\"users\"\r\n                  :search=\"search\"\r\n                  hide-default-footer\r\n                  class=\"scroll_table\"\r\n                >\r\n                  <template v-slot:header>\r\n                    <v-toolbar class=\"mb-1\" :dark=\"$store.getters.getTheme\">\r\n                      <v-text-field\r\n                        v-model=\"search\"\r\n                        clearable\r\n                        flat\r\n                        solo-inverted\r\n                        hide-details\r\n                        prepend-inner-icon=\"search\"\r\n                        label=\"Etsi\"\r\n                      ></v-text-field>\r\n                    </v-toolbar>\r\n                  </template>\r\n                  <template v-slot:default=\"props\">\r\n                    <v-col\r\n                      v-for=\"(user, index) in props.items\"\r\n                      :key=\"index\"\r\n                      style=\"margin-top: 20px\"\r\n                    >\r\n                      <!-- For every user in this.users array -->\r\n                      <v-menu\r\n                        v-model=\"user.menu\"\r\n                        bottom\r\n                        right\r\n                        transition=\"scale-transition\"\r\n                        origin=\"top left\"\r\n                        :close-on-click=\"false\"\r\n                      >\r\n                        <template v-slot:activator=\"{ on }\">\r\n                          <v-chip\r\n                            :dark=\"$store.getters.getTheme\"\r\n                            :outlined=\"$store.getters.getTheme\"\r\n                            large\r\n                            v-on=\"on\"\r\n                            :color=\"user.is_admin ? 'yellow darken-2' : 'green'\"\r\n                          >\r\n                            <v-avatar left>\r\n                              <v-icon v-if=\"user.is_admin\"\r\n                                >mdi-shield-crown</v-icon\r\n                              >\r\n                              <v-icon v-else>mdi-account</v-icon>\r\n                            </v-avatar>\r\n                            {{ user.name }}\r\n                          </v-chip>\r\n                        </template>\r\n                        <v-card width=\"300\">\r\n                          <v-list dark>\r\n                            <v-list-item>\r\n                              <v-list-item-avatar>\r\n                                <v-icon v-if=\"user.is_admin\"\r\n                                  >mdi-shield-crown</v-icon\r\n                                >\r\n                                <v-icon v-else>mdi-account</v-icon>\r\n                              </v-list-item-avatar>\r\n                              <v-list-item-content>\r\n                                <v-list-item-title>{{\r\n                                  user.name\r\n                                }}</v-list-item-title>\r\n                                <v-list-item-subtitle>{{\r\n                                  user.email\r\n                                }}</v-list-item-subtitle>\r\n                              </v-list-item-content>\r\n                              <v-list-item-action>\r\n                                <v-btn icon @click=\"user.menu = false\">\r\n                                  <v-icon>mdi-close-circle</v-icon>\r\n                                </v-btn>\r\n                              </v-list-item-action>\r\n                            </v-list-item>\r\n                          </v-list>\r\n                          <v-list>\r\n                            <v-tooltip right>\r\n                              <template v-slot:activator=\"{ on, attrs }\">\r\n                                <v-list-item\r\n                                  v-bind=\"attrs\"\r\n                                  v-on=\"on\"\r\n                                  @click=\"copyToClipboard(user._id, user)\"\r\n                                >\r\n                                  <v-list-item-action>\r\n                                    <v-icon\r\n                                      >mdi-badge-account-horizontal</v-icon\r\n                                    >\r\n                                  </v-list-item-action>\r\n                                  <v-list-item-content>\r\n                                    <v-list-item-title>{{\r\n                                      user._id\r\n                                    }}</v-list-item-title>\r\n                                    <v-list-item-subtitle\r\n                                      >Id</v-list-item-subtitle\r\n                                    >\r\n                                  </v-list-item-content>\r\n                                </v-list-item>\r\n                              </template>\r\n                              <span>Kopioi</span>\r\n                            </v-tooltip>\r\n                            <v-tooltip right>\r\n                              <template v-slot:activator=\"{ on, attrs }\">\r\n                                <v-list-item\r\n                                  v-bind=\"attrs\"\r\n                                  v-on=\"on\"\r\n                                  @click=\"copyToClipboard(user.createdAt, user)\"\r\n                                >\r\n                                  <v-list-item-action>\r\n                                    <v-icon>mdi-calendar-check</v-icon>\r\n                                  </v-list-item-action>\r\n                                  <v-list-item-content>\r\n                                    <v-list-item-title>{{\r\n                                      user.createdAt\r\n                                    }}</v-list-item-title>\r\n                                    <v-list-item-subtitle\r\n                                      >Tili luotu</v-list-item-subtitle\r\n                                    >\r\n                                  </v-list-item-content>\r\n                                </v-list-item>\r\n                              </template>\r\n                              <span>Kopioi</span>\r\n                            </v-tooltip>\r\n                            <v-list-item v-if=\"user.is_admin\" @click=\"() => {}\">\r\n                              <v-list-item-action>\r\n                                <v-icon>mdi-briefcase</v-icon>\r\n                              </v-list-item-action>\r\n                              <v-list-item-content>\r\n                                <v-list-item-title>Admin</v-list-item-title>\r\n                                <v-list-item-subtitle\r\n                                  >Rooli</v-list-item-subtitle\r\n                                >\r\n                              </v-list-item-content>\r\n                            </v-list-item>\r\n                            <v-list-item v-else @click=\"() => {}\">\r\n                              <v-list-item-action>\r\n                                <v-icon>mdi-briefcase</v-icon>\r\n                              </v-list-item-action>\r\n                              <v-list-item-content>\r\n                                <v-list-item-title>Käyttäjä</v-list-item-title>\r\n                                <v-list-item-subtitle\r\n                                  >Rooli</v-list-item-subtitle\r\n                                >\r\n                              </v-list-item-content>\r\n                            </v-list-item>\r\n                            <v-list-item @click=\"() => {}\">\r\n                              <v-list-item-content>\r\n                                <v-btn\r\n                                  color=\"blue\"\r\n                                  @click=\"\r\n                                    copyToClipboard(JSON.stringify(user), user)\r\n                                  \"\r\n                                >\r\n                                  <v-icon>mdi-copy-content</v-icon>\r\n                                  Kopio koko objekti\r\n                                </v-btn>\r\n                              </v-list-item-content>\r\n                            </v-list-item>\r\n                          </v-list>\r\n                        </v-card>\r\n                      </v-menu>\r\n                      <v-divider style=\"margin-top: 10px\"></v-divider>\r\n                    </v-col>\r\n                  </template>\r\n                </v-data-iterator>\r\n              </v-col>\r\n            </v-row>\r\n            <!-- users.length === 0 === false-->\r\n            <v-row v-else-if=\"loading_users\">\r\n              <v-col md=\"10\" offset-md=\"1\">\r\n                <v-sheet\r\n                  :color=\"`grey ${\r\n                    $store.getters.getTheme ? 'darken-2' : 'lighten-4'\r\n                  }`\"\r\n                  class=\"px-3 pt-3 pb-3\"\r\n                >\r\n                  <v-skeleton-loader\r\n                    class=\"mx-auto\"\r\n                    type=\"card\"\r\n                  ></v-skeleton-loader>\r\n                </v-sheet>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col>\r\n                <h2\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ei käyttäjiä!\r\n                </h2>\r\n              </v-col>\r\n            </v-row>\r\n          </v-col>\r\n        </v-row>\r\n      </v-tab-item>\r\n      <v-tab-item\r\n        :value=\"'competitions'\"\r\n        v-bind:class=\"{\r\n          inputarea: !$store.getters.getTheme,\r\n          'inputarea-dark': $store.getters.getTheme,\r\n        }\"\r\n      >\r\n        <v-row>\r\n          <v-col>\r\n            <v-row>\r\n              <v-col v-if=\"prevRoute\">\r\n                <v-btn\r\n                  v-if=\"prevRoute.name\"\r\n                  large\r\n                  rounded\r\n                  color=\"yellow\"\r\n                  @click=\"$router.push({ path: prevRoute.path })\"\r\n                  ><v-icon>mdi-keyboard-return</v-icon>Palaa takaisin</v-btn\r\n                >\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <h1>Kilpailut</h1>\r\n              </v-col>\r\n            </v-row>\r\n            <!-- if there are competitions in database-->\r\n            <v-row v-if=\"all_competitions.length\">\r\n              <v-col>\r\n                <v-card :dark=\"$store.getters.getTheme\">\r\n                  <v-card-title>\r\n                    <p class=\"flow-text\">Kilpailut</p>\r\n                    <v-spacer></v-spacer>\r\n                    <v-text-field\r\n                      v-model=\"search_comp\"\r\n                      append-icon=\"mdi-magnify\"\r\n                      label=\"Hae kilpailua\"\r\n                      single-line\r\n                      hide-details\r\n                    ></v-text-field>\r\n                  </v-card-title>\r\n                  <v-data-table\r\n                    id=\"normal-table\"\r\n                    :headers=\"headers\"\r\n                    :items=\"all_competitions\"\r\n                    :search=\"search_comp\"\r\n                    :loading=\"loading_competitions\"\r\n                  >\r\n                    <template v-slot:[`item.start_date`]=\"{ item }\">\r\n                      <v-chip color=\"primary darken-2\">{{\r\n                        item.start_date.format(\"DD.MM.YYYY\")\r\n                      }}</v-chip>\r\n                    </template>\r\n                    <template v-slot:[`item.cup_points_multiplier`]=\"{ item }\">\r\n                      <v-chip\r\n                        :color=\"getColor(item.cup_points_multiplier)\"\r\n                        :outlined=\"$store.getters.getTheme\"\r\n                        >{{ item.cup_points_multiplier }}x</v-chip\r\n                      >\r\n                    </template>\r\n                    <template v-slot:[`item.choose`]=\"{ item }\">\r\n                      <v-tooltip right>\r\n                        <template v-slot:activator=\"{ on, attrs }\">\r\n                          <v-btn\r\n                            color=\"primary\"\r\n                            v-bind=\"attrs\"\r\n                            v-on=\"on\"\r\n                            @click=\"pickCompetition(item)\"\r\n                            ><v-icon color=\"black\"\r\n                              >mdi-arrow-right-bold-box-outline</v-icon\r\n                            ></v-btn\r\n                          >\r\n                        </template>\r\n                        <span>Siirry kilpailuun</span>\r\n                      </v-tooltip>\r\n                    </template>\r\n                    <template v-slot:[`item.delete`]=\"{ item }\">\r\n                      <v-tooltip right>\r\n                        <template v-slot:activator=\"{ on, attrs }\">\r\n                          <v-btn\r\n                            v-bind=\"attrs\"\r\n                            v-on=\"on\"\r\n                            color=\"red\"\r\n                            @click=\"deleteCompetition(item._id, false)\"\r\n                            :loading=\"loading_competitions\"\r\n                            ><v-icon>mdi-delete-outline</v-icon></v-btn\r\n                          >\r\n                        </template>\r\n                        <span>Poista kilpailu</span>\r\n                      </v-tooltip>\r\n                    </template>\r\n                  </v-data-table>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <!-- this.competitions.length === 0 === false -->\r\n            <v-row v-else>\r\n              <v-col v-if=\"loading_competitions\" md=\"10\" offset-md=\"1\">\r\n                <v-sheet\r\n                  :color=\"`grey ${\r\n                    $store.getters.getTheme ? 'darken-2' : 'lighten-4'\r\n                  }`\"\r\n                  class=\"px-3 pt-3 pb-3\"\r\n                >\r\n                  <v-skeleton-loader\r\n                    class=\"mx-auto\"\r\n                    type=\"card\"\r\n                  ></v-skeleton-loader>\r\n                </v-sheet>\r\n              </v-col>\r\n              <v-col v-else>\r\n                <h2\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ei Kilpailuja!\r\n                </h2>\r\n              </v-col>\r\n            </v-row>\r\n          </v-col>\r\n        </v-row>\r\n      </v-tab-item>\r\n      <v-tab-item\r\n        :value=\"'feedback'\"\r\n        v-bind:class=\"{\r\n          inputarea: !$store.getters.getTheme,\r\n          'inputarea-dark': $store.getters.getTheme,\r\n        }\"\r\n      >\r\n        <v-row>\r\n          <v-col>\r\n            <v-row>\r\n              <v-col v-if=\"prevRoute\">\r\n                <v-btn\r\n                  v-if=\"prevRoute.name\"\r\n                  large\r\n                  rounded\r\n                  color=\"yellow\"\r\n                  @click=\"$router.push({ path: prevRoute.path })\"\r\n                  ><v-icon>mdi-keyboard-return</v-icon>Palaa takaisin</v-btn\r\n                >\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <h1>Saatu Palaute</h1>\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row v-if=\"feedback.length\">\r\n              <v-col>\r\n                <ul id=\"fish_weights\">\r\n                  <!-- For every feedback in this.feedback array -->\r\n                  <li v-for=\"(feedback, index) in feedback\" :key=\"index\">\r\n                    <v-card\r\n                      class=\"mx-auto\"\r\n                      :dark=\"$store.getters.getTheme\"\r\n                      min-width=\"200px\"\r\n                      max-width=\"850px\"\r\n                      style=\"margin-bottom: 30px; margin-top: 30px\"\r\n                    >\r\n                      <v-card-title>\r\n                        <v-col md=\"10\" offset-md=\"1\">\r\n                          <span class=\"title font-weight-light\"\r\n                            >#{{ index + 1 }} {{ feedback.type }}</span\r\n                          >\r\n                        </v-col>\r\n                      </v-card-title>\r\n                      <v-card-text\r\n                        class=\"headline font-weight-bold\"\r\n                        style=\"word-break: break-all\"\r\n                      >\r\n                        {{ feedback.message }}\r\n                      </v-card-text>\r\n                      <v-card-actions>\r\n                        <v-col>\r\n                          <v-btn\r\n                            large\r\n                            rounded\r\n                            color=\"yellow\"\r\n                            :loading=\"loading\"\r\n                            @click=\"deleteFeedback(feedback._id)\"\r\n                            class=\"black--text\"\r\n                            ><v-icon>mdi-check-outline</v-icon>Ratkaise</v-btn\r\n                          >\r\n                        </v-col>\r\n                      </v-card-actions>\r\n                    </v-card>\r\n                  </li>\r\n                </ul>\r\n              </v-col>\r\n            </v-row>\r\n            <!-- this.feedback.length === 0 === false -->\r\n            <v-row v-else>\r\n              <v-col v-if=\"loading\" md=\"10\" offset-md=\"1\">\r\n                <v-sheet\r\n                  :color=\"`grey ${\r\n                    $store.getters.getTheme ? 'darken-2' : 'lighten-4'\r\n                  }`\"\r\n                  class=\"px-3 pt-3 pb-3\"\r\n                >\r\n                  <v-skeleton-loader\r\n                    class=\"mx-auto\"\r\n                    type=\"card\"\r\n                  ></v-skeleton-loader>\r\n                </v-sheet>\r\n              </v-col>\r\n              <v-col v-else>\r\n                <h2\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Palautetta ei vielä annettu!\r\n                </h2>\r\n              </v-col>\r\n            </v-row>\r\n          </v-col>\r\n        </v-row>\r\n      </v-tab-item>\r\n    </v-tabs-items>\r\n    <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\r\n      {{ text }}\r\n\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"snackbar = false\">\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\"use strict\";\r\nimport FeedbackService from \"../FeedbackService\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport UserService from \"../UserService\";\r\nimport CupService from \"../CupService\";\r\nimport ProgressBarQuery from \"../components/layout/ProgressBarQuery\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tab: null,\r\n      feedback: [],\r\n      users: [],\r\n      all_competitions: [],\r\n      competitions: [],\r\n      user_id: null,\r\n      loading: false,\r\n      loading_users: false,\r\n      loading_competitions: false,\r\n      loading_cups: false,\r\n      all_cups: [],\r\n      cups: [],\r\n      cup: {},\r\n      signees_amount: 30,\r\n      team_competition: \"Ei\",\r\n      number_rules: [\r\n        (value) => !!value || \"Kenttä ei voi jäädä tyhjäksi!\",\r\n        (value) => !isNaN(value || \"\") || \"Ei ole numero!\",\r\n        (value) => (value || \"\") >= 0 || \"Numeron pitää olla positiivinen!\",\r\n      ],\r\n      headers: [\r\n        { text: \"Kilpailun Päivämäärä\", value: \"start_date\" },\r\n        { text: \"Nimi\", value: \"name\" },\r\n        { text: \"Käyttäjä\", value: \"username\" },\r\n        { text: \"Cup\", value: \"cup_name\" },\r\n        { text: \"Pistekerroin\", value: \"cup_points_multiplier\" },\r\n        { text: \"Valitse\", value: \"choose\", sortable: false },\r\n        { text: \"Poista\", value: \"delete\", sortable: false },\r\n      ],\r\n      search_comp: \"\",\r\n      search: \"\",\r\n      prevRoute: null,\r\n      snackbar: false,\r\n      text: \"\",\r\n      timeout: 5000,\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next((vm) => {\r\n      vm.prevRoute = from;\r\n    });\r\n  },\r\n  components: {\r\n    ProgressBarQuery,\r\n  },\r\n  // Called everytime page is opened\r\n  async mounted() {\r\n    //Check if user is logged in has admin status, update header\r\n    // Focus on top of the page\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n    // Show loading progressbars\r\n    this.loading =\r\n      this.loading_users =\r\n      this.loading_competitions =\r\n      this.loading_cups =\r\n        true;\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (user) {\r\n      this.user_id = user[\"_id\"];\r\n    }\r\n    try {\r\n      // Load data from database\r\n      // Users first, if token is expired logout user\r\n      await UserService.getUsers()\r\n        .then(async (res) => {\r\n          this.feedback = await FeedbackService.getFeedback();\r\n          this.loading = false;\r\n          this.users = res;\r\n          this.users.forEach((user) => {\r\n            user.menu = false;\r\n          });\r\n          this.loading_users = false;\r\n          // No query, get all competitions\r\n          this.all_competitions = await CompetitionService.getCompetitions();\r\n          this.all_competitions.forEach((competition) => {\r\n            competition.username = this.users.find(\r\n              (user) => user._id === competition.user_id\r\n            ).name;\r\n            competition.start_date = this.$moment(competition.start_date);\r\n            competition.end_date = this.$moment(competition.end_date);\r\n            competition.cup_name = `${\r\n              competition.cup_name\r\n            } (${competition.start_date.format(\"YYYY\")})`;\r\n          });\r\n\r\n          this.competitions = this.all_competitions.filter(\r\n            (competition) => competition.user_id === this.user_id\r\n          );\r\n          // Sort them based on start_date so the oldest competitions are the last\r\n          this.all_competitions.sort(function compare(a, b) {\r\n            return b.start_date.isAfter(a.start_date);\r\n          });\r\n          this.getCups();\r\n          this.loading_competitions = false;\r\n        })\r\n        .catch(async (err) => {\r\n          if (err.response.status === 401) {\r\n            this.text = \"Token expired! Kirjaudu sisään uudelleen\";\r\n            this.snackbar = true;\r\n            await UserService.logoutUser()\r\n              .then(() => {\r\n                this.$router.push({ path: \"/login\" });\r\n              })\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n          } else {\r\n            console.log(err.response.data);\r\n          }\r\n        });\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  },\r\n  methods: {\r\n    getColor(multiplier) {\r\n      if (multiplier > 1) return \"red\";\r\n      if (multiplier === 1) return \"green\";\r\n      else return \"grey\";\r\n    },\r\n\r\n    fallbackCopyToClipboard: function (text) {\r\n      var textArea = document.createElement(\"textarea\");\r\n      textArea.value = text;\r\n      // Avoid scrolling to bottom\r\n      textArea.style.top = \"0\";\r\n      textArea.style.left = \"0\";\r\n      textArea.style.position = \"fixed\";\r\n      document.body.appendChild(textArea);\r\n      textArea.focus();\r\n      textArea.select();\r\n      try {\r\n        var successful = document.execCommand(\"copy\");\r\n        var msg = successful ? \"successful\" : \"unsuccessful\";\r\n        console.log(\"Fallback: text to copy: \" + msg);\r\n      } catch (err) {\r\n        console.error(\"Fallback: unable to copy:\", err);\r\n      }\r\n\r\n      document.body.removeChild(textArea);\r\n    },\r\n    copyToClipboard: function (text, user) {\r\n      // If clipboard not there, create create input and copy it from there using doxument.execCommand(\"copy\");\r\n      if (!navigator.clipboard) {\r\n        this.fallbackCopyToClipboard(text);\r\n        return;\r\n      }\r\n      navigator.clipboard.writeText(text).then(\r\n        () => {\r\n          this.text = `\"${text}\" kopioitu leikepöydälle`;\r\n          this.snackbar = true;\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          this.text = `Kopiointi ei onnistunut jostain syystä...`;\r\n          this.snackbar = true;\r\n        }\r\n      );\r\n      user.menu = false;\r\n    },\r\n    async getCups() {\r\n      if (this.user_id) {\r\n        this.loading_cups = true;\r\n        // Get Cups\r\n        try {\r\n          this.all_cups = await CupService.getCups();\r\n          if (this.all_cups.length) {\r\n            this.all_cups.sort(function compare(a, b) {\r\n              return a.name - b.name;\r\n            });\r\n            this.all_cups.forEach((cup) => {\r\n              cup.select = `${cup.name} (${cup.year})`;\r\n            });\r\n            this.cups = this.all_cups.filter(\r\n              (cup) => cup.user_id === this.user_id\r\n            );\r\n            this.cup = this.cups[this.cups.length - 1];\r\n          }\r\n        } catch (err) {\r\n          this.error = err.message;\r\n        }\r\n      } else {\r\n        console.error(\"No user found in localstorage!\");\r\n      }\r\n      this.loading_cups = false;\r\n    },\r\n    // Delete received feedback\r\n    async deleteFeedback(id) {\r\n      this.loading = true;\r\n      try {\r\n        //Delete feedback from database (check 'client\\src\\FeedbackService.js' and 'server\\routes\\api\\feedback.js' to see how this works)\r\n        await FeedbackService.deleteFeedback(id);\r\n        this.text = \"Palaute ratkaistu!\";\r\n        this.snackbar = true;\r\n        // Get updated list from database\r\n        this.feedback = await FeedbackService.getFeedback();\r\n        this.loading = false;\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n    },\r\n    pickCompetition: function (competition) {\r\n      // Pick competition for the app to use\r\n      //NOTE Store competition to vuex, redundant?\r\n      this.$store.state.competition = competition;\r\n      // Set competition._id to localstorage for database queries\r\n      localStorage.setItem(\r\n        \"competition\",\r\n        JSON.stringify({\r\n          id: competition._id,\r\n          start_date: competition.start_date,\r\n          end_date: competition.end_date,\r\n        })\r\n      );\r\n      // redirect to /overview\r\n      this.$router.push({ path: \"/overview\" });\r\n    },\r\n    // Delete competition from database\r\n    async deleteCompetition(id, confirmed) {\r\n      // If user clicked \"OK\" on confirmation box\r\n      if (confirmed) {\r\n        this.text = \"Poistetaan tietokannasta!\";\r\n        this.snackbar = true;\r\n        this.loading_competitions = true;\r\n        try {\r\n          //Delete competition from database (check 'client\\src\\CompetitionService.js' and 'server\\routes\\api\\competition.js' to see how this works)\r\n          await CompetitionService.deleteCompetition(id);\r\n          // No query, get all competitions\r\n          let index = this.all_competitions.findIndex((c) => c._id === id);\r\n          if (index > -1) {\r\n            this.all_competitions.splice(index, 1);\r\n          }\r\n          this.loading_competitions = false;\r\n        } catch (err) {\r\n          console.error(err.message);\r\n        }\r\n      }\r\n      // Show confirmation box on first function call\r\n      else {\r\n        this.$confirm(\"Oletko varma?\", \"Poista kilpailu\", \"question\")\r\n          .then((r) => {\r\n            // if user clicked \"OK\" on confirmation box\r\n            if (r) {\r\n              this.deleteCompetition(id, r);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            if (error) {\r\n              console.error(error);\r\n            }\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\nh1,\r\nh2 {\r\n  font-weight: normal;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=4f7df90e&scoped=true&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Admin.vue?vue&type=style&index=0&id=4f7df90e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f7df90e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataIterator } from 'vuetify/lib/components/VDataIterator';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VContainer,VDataIterator,VDataTable,VDivider,VIcon,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VMenu,VRow,VSheet,VSkeletonLoader,VSnackbar,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField,VToolbar,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{class:{\n    mobile: _vm.$vuetify.breakpoint.width < 800,\n    browser: _vm.$vuetify.breakpoint.width >= 800,\n    wide: _vm.$vuetify.breakpoint.width >= 1200,\n  }},[_c('v-card',{staticStyle:{\"background\":\"transparent\"},attrs:{\"elevation\":\"10\",\"outlined\":\"\",\"dark\":_vm.$store.getters.getTheme}},[_c('v-row',[_c('v-col',[(_vm.error)?_c('v-row',[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),_c('v-row',{staticStyle:{\"margin\":\"20px\"},attrs:{\"id\":\"send-feedback\"}},[(_vm.prevRoute)?_c('v-col',[(_vm.prevRoute.name)?_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"outlined\":\"\",\"color\":\"yellow\"},on:{\"click\":function($event){return _vm.$router.push({ path: _vm.prevRoute.path })}}},[_c('v-icon',[_vm._v(\"mdi-keyboard-return\")]),_vm._v(\"Palaa takaisin\")],1):_vm._e()],1):_vm._e()],1),_c('h1',[_vm._v(\"Lähetä palautetta\")]),_c('p',{staticClass:\"flow-text title black-text\"},[_vm._v(\" Ilmoita bugeista, kehitysehdotuksista jne jne. \")]),_c('v-row',[_c('v-col',{staticClass:\"d-flex\",attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"dark\":_vm.$store.getters.getTheme,\"item-color\":\"blue\",\"items\":_vm.type_options,\"label\":\"Palautteen tyyppi\",\"outlined\":\"\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}})],1)],1),_c('v-row',[_c('v-col',{class:{\n              inputarea: !_vm.$store.getters.getTheme,\n              'inputarea-dark': _vm.$store.getters.getTheme,\n            },attrs:{\"md\":\"8\",\"offset-md\":\"2\"}},[_c('v-textarea',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"name\":\"input-7-1\",\"filled\":\"\",\"label\":\"Palaute tähän\",\"auto-grow\":\"\",\"value\":_vm.message,\"maxlength\":\"800\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1)],1),_c('v-row',{staticStyle:{\"margin\":\"20px\"}},[_c('v-col',{attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"large\":\"\",\"outlined\":\"\",\"color\":\"white\",\"loading\":_vm.loading},on:{\"click\":_vm.sendFeedback}},[_c('v-icon',[_vm._v(\"mdi-send\")]),_vm._v(\"Lähetä palaute\")],1)],1)],1)],1)],1),_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\n            var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"blue\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /feedback -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <v-container\r\n    v-bind:class=\"{\r\n      mobile: $vuetify.breakpoint.width < 800,\r\n      browser: $vuetify.breakpoint.width >= 800,\r\n      wide: $vuetify.breakpoint.width >= 1200,\r\n    }\"\r\n  >\r\n    <v-card\r\n      style=\"background: transparent\"\r\n      elevation=\"10\"\r\n      outlined\r\n      :dark=\"$store.getters.getTheme\"\r\n    >\r\n      <v-row>\r\n        <v-col>\r\n          <v-row v-if=\"error\">\r\n            {{ error }}\r\n          </v-row>\r\n\r\n          <v-row id=\"send-feedback\" style=\"margin: 20px\">\r\n            <v-col v-if=\"prevRoute\">\r\n              <v-btn\r\n                v-if=\"prevRoute.name\"\r\n                large\r\n                rounded\r\n                outlined\r\n                color=\"yellow\"\r\n                @click=\"$router.push({ path: prevRoute.path })\"\r\n                ><v-icon>mdi-keyboard-return</v-icon>Palaa takaisin</v-btn\r\n              >\r\n            </v-col>\r\n          </v-row>\r\n          <h1>Lähetä palautetta</h1>\r\n          <p class=\"flow-text title black-text\">\r\n            Ilmoita bugeista, kehitysehdotuksista jne jne.\r\n          </p>\r\n\r\n          <v-row>\r\n            <v-col class=\"d-flex\" md=\"4\" offset-md=\"4\">\r\n              <v-select\r\n                :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n                :dark=\"$store.getters.getTheme\"\r\n                item-color=\"blue\"\r\n                v-model=\"type\"\r\n                :items=\"type_options\"\r\n                label=\"Palautteen tyyppi\"\r\n                outlined\r\n              ></v-select>\r\n            </v-col>\r\n          </v-row>\r\n\r\n          <v-row>\r\n            <v-col\r\n              md=\"8\"\r\n              offset-md=\"2\"\r\n              v-bind:class=\"{\r\n                inputarea: !$store.getters.getTheme,\r\n                'inputarea-dark': $store.getters.getTheme,\r\n              }\"\r\n            >\r\n              <v-textarea\r\n                :dark=\"$store.getters.getTheme\"\r\n                v-model=\"message\"\r\n                name=\"input-7-1\"\r\n                filled\r\n                label=\"Palaute tähän\"\r\n                auto-grow\r\n                :value=\"message\"\r\n                maxlength=\"800\"\r\n              ></v-textarea>\r\n            </v-col>\r\n          </v-row>\r\n\r\n          <v-row style=\"margin: 20px\">\r\n            <v-col md=\"4\" offset-md=\"4\">\r\n              <v-btn\r\n                block\r\n                large\r\n                outlined\r\n                color=\"white\"\r\n                @click=\"sendFeedback\"\r\n                :loading=\"loading\"\r\n                ><v-icon>mdi-send</v-icon>Lähetä palaute</v-btn\r\n              >\r\n            </v-col>\r\n          </v-row>\r\n        </v-col>\r\n      </v-row>\r\n      <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\r\n        {{ text }}\r\n\r\n        <template v-slot:action=\"{ attrs }\">\r\n          <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"snackbar = false\">\r\n            Close\r\n          </v-btn>\r\n        </template>\r\n      </v-snackbar>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n<script>\r\n\"use strict\";\r\n\r\nimport FeedbackService from \"../FeedbackService\";\r\n\r\nexport default {\r\n  name: \"Feedback\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      prevRoute: null,\r\n      message: null,\r\n      type: \"Bugi\",\r\n      type_options: [\"Bugi\", \"Ehdotus\", \"Muu\"],\r\n      loading: false,\r\n      error: null,\r\n      snackbar: false,\r\n      text: \"\",\r\n      timeout: 5000,\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next((vm) => {\r\n      vm.prevRoute = from;\r\n    });\r\n  },\r\n  mounted() {\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n  },\r\n  methods: {\r\n    async sendFeedback() {\r\n      // If type not set\r\n      if (!this.type) {\r\n        this.type = \"-\";\r\n      }\r\n\r\n      if (this.message) {\r\n        if (this.message.length >= 5) {\r\n          // Feedback object\r\n          const feedback = { type: this.type, message: this.message };\r\n          this.loading = true;\r\n          try {\r\n            // Add object to database\r\n            //Add feedback to database (check 'client\\src\\FeedbackService.js' and 'server\\routes\\api\\feedback.js' to see how this works)\r\n            await FeedbackService.insertFeedback(feedback);\r\n            this.text = \"Palaute vastaanotettu!\";\r\n            this.snackbar = true;\r\n          } catch (err) {\r\n            console.error(err.message);\r\n          }\r\n          this.loading = false;\r\n          this.message = null;\r\n        } else {\r\n          this.text = \"Kirjoita vähintään 5 merkkiä pitkä palaute!\";\r\n          this.snackbar = true;\r\n        }\r\n      } else {\r\n        this.text = \"Kirjoita vähintään 5 merkkiä pitkä palaute!\";\r\n        this.snackbar = true;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Feedback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Feedback.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Feedback.vue?vue&type=template&id=5060efca&\"\nimport script from \"./Feedback.vue?vue&type=script&lang=js&\"\nexport * from \"./Feedback.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VIcon,VRow,VSelect,VSnackbar,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{class:{\n    mobile: _vm.$vuetify.breakpoint.width < 800,\n    browser: _vm.$vuetify.breakpoint.width >= 800,\n    wide: _vm.$vuetify.breakpoint.width >= 1200,\n  }},[(_vm.errors.length)?_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"id\":\"errordiv\",\"elevation\":\"20\"}},[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Korjaa seuraavat virheet: \")]),_c('v-list',_vm._l((_vm.errors),function(error,index){return _c('v-list-item',{key:index},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"mdi-alert-circle\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(error))])],1)],1)}),1)],1):_vm._e(),_c('v-card',{staticStyle:{\"background\":\"transparent\",\"padding\":\"20px\"},attrs:{\"elevation\":\"10\",\"outlined\":\"\",\"dark\":_vm.$store.getters.getTheme}},[_c('v-row',[_c('v-col',[_c('v-row',[_c('v-col',[_c('h1',[_vm._v(\"Dashboard\")])])],1),_c('v-row',[_c('v-col',[(_vm.user)?_c('v-card',{staticStyle:{\"background\":\"transparent\"},attrs:{\"outlined\":\"\",\"dark\":\"\"}},[_c('v-card-title',[_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-account-circle\")]),_vm._v(\"  Käyttäjätiedot\")],1),_c('v-list',{staticStyle:{\"background\":\"transparent\"},attrs:{\"two-line\":\"\",\"outlined\":\"\"}},[_c('v-list-item',[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\" mdi-account-box \")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.user.name))]),_c('v-list-item-subtitle',[_vm._v(\"Nimi\")])],1)],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\" mdi-email \")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.user.email))]),_c('v-list-item-subtitle',[_vm._v(\"Sähköposti\")])],1)],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\" mdi-calendar \")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.created))]),_c('v-list-item-subtitle',[_vm._v(\"Luotu\")])],1)],1)],1)],1):_vm._e()],1),_c('v-col',[(_vm.user)?_c('v-card',{staticStyle:{\"background\":\"transparent\"},attrs:{\"outlined\":\"\",\"dark\":\"\"}},[_c('v-card-title',[_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-gauge\")]),_vm._v(\"  Toiminnot\")],1),_c('v-list',{staticStyle:{\"background\":\"transparent\"},attrs:{\"outlined\":\"\"}},[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Luo uusi kilpailu\")])],1),_c('v-list-item-action',[_c('router-link',{attrs:{\"to\":\"/register-comp\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"outlined\":\"\",\"loading\":_vm.loading || _vm.publishing,\"disabled\":_vm.loading || _vm.publishing}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)],1)],1)],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Luo uusi cup\")])],1),_c('v-list-item-action',[_c('v-dialog',{attrs:{\"width\":\"700\",\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n  var on = ref.on;\n  var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"outlined\":\"\",\"loading\":_vm.loading || _vm.publishing,\"disabled\":_vm.loading || _vm.publishing}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)]}}],null,false,3697468923),model:{value:(_vm.createCupDialog),callback:function ($$v) {_vm.createCupDialog=$$v},expression:\"createCupDialog\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_vm._v(\" Luo Cup \")]),_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"8\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Cupin nimi\",\"maxlength\":40,\"loading\":_vm.loading,\"counter\":40},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"6\"}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n  var on = ref.on;\n  var attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Vuosi\",\"prepend-icon\":\"event\",\"readonly\":\"\"},model:{value:(_vm.year),callback:function ($$v) {_vm.year=$$v},expression:\"year\"}},'v-text-field',attrs,false),on))]}}],null,false,2852995372),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{ref:\"picker\",attrs:{\"min\":\"2000-01-01\",\"reactive\":\"\",\"no-title\":\"\"},on:{\"input\":_vm.saveYear},model:{value:(_vm.year),callback:function ($$v) {_vm.year=$$v},expression:\"year\"}})],1)],1)],1),_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"6\"}},[_c('v-checkbox',{attrs:{\"label\":\"Aseta merkitsevien kilpailujen määrä?\"},model:{value:(_vm.isThereCompetitionLimit),callback:function ($$v) {_vm.isThereCompetitionLimit=$$v},expression:\"isThereCompetitionLimit\"}})],1)],1),(_vm.isThereCompetitionLimit)?_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Merkitsevien kilpailujen määrä\",\"maxlength\":\"3\",\"type\":\"number\",\"counter\":\"3\",\"min\":\"1\",\"max\":\"100\",\"rules\":_vm.number_rules,\"loading\":_vm.loading},on:{\"paste\":function($event){$event.preventDefault();},\"keypress\":function($event){return _vm.isNumber($event, true)}},model:{value:(_vm.meaningful_competitions),callback:function ($$v) {_vm.meaningful_competitions=$$v},expression:\"meaningful_competitions\"}})],1)],1):_vm._e(),_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',[_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.saveCup}},[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(\"Luo Cup\")],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.createCupDialog = false}}},[_vm._v(\" Peruuta \")])],1)],1)],1)],1)],1)],1)],1):_vm._e(),_c('v-row',[_c('v-col',[(_vm.user)?_c('v-card',{staticStyle:{\"background\":\"transparent\",\"margin-top\":\"6px\"},attrs:{\"outlined\":\"\",\"dark\":\"\"}},[_c('v-list',{staticStyle:{\"background\":\"transparent\"},attrs:{\"outlined\":\"\"}},[_c('v-list-item',[_c('v-spacer'),_c('v-list-item-content',[_c('v-list-item-title',[_c('h2',[_vm._v(\" \"+_vm._s(_vm.tweenedCompetitions.toFixed(0))+\" \")])]),_c('v-list-item-subtitle',[_vm._v(\"Kilpailuja\")])],1),_c('v-spacer'),_c('v-list-item-content',[_c('v-list-item-title',[_c('h2',[_vm._v(\" \"+_vm._s(_vm.tweenedCups.toFixed(0))+\" \")])]),_c('v-list-item-subtitle',[_vm._v(\"Cuppeja\")])],1),_c('v-spacer')],1)],1)],1):_vm._e()],1)],1)],1)],1)],1)],1)],1),_c('comp-cup-table',{attrs:{\"competitions\":_vm.competitions,\"cups\":_vm.cups,\"loading\":_vm.loading,\"publishing\":_vm.publishing}}),_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\n  var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"blue\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /dashboard-->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <v-container\r\n    v-bind:class=\"{\r\n      mobile: $vuetify.breakpoint.width < 800,\r\n      browser: $vuetify.breakpoint.width >= 800,\r\n      wide: $vuetify.breakpoint.width >= 1200,\r\n    }\"\r\n  >\r\n    <!-- if there are errors, show this div -->\r\n    <v-card\r\n      :dark=\"$store.getters.getTheme\"\r\n      id=\"errordiv\"\r\n      elevation=\"20\"\r\n      v-if=\"errors.length\"\r\n    >\r\n      <v-alert type=\"error\"> Korjaa seuraavat virheet: </v-alert>\r\n      <v-list>\r\n        <v-list-item v-for=\"(error, index) in errors\" v-bind:key=\"index\">\r\n          <v-list-item-icon>\r\n            <v-icon color=\"red\">mdi-alert-circle</v-icon>\r\n          </v-list-item-icon>\r\n\r\n          <v-list-item-content>\r\n            <v-list-item-title>{{ error }}</v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-card>\r\n    <v-card\r\n      style=\"background: transparent; padding: 20px\"\r\n      elevation=\"10\"\r\n      outlined\r\n      :dark=\"$store.getters.getTheme\"\r\n    >\r\n      <v-row>\r\n        <v-col>\r\n          <v-row>\r\n            <v-col>\r\n              <h1>Dashboard</h1>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <!-- if user is found on localstorage (this.user is not null/false) -->\r\n              <v-card style=\"background: transparent\" outlined v-if=\"user\" dark>\r\n                <v-card-title\r\n                  ><v-icon x-large>mdi-account-circle</v-icon>\r\n                  &nbsp;Käyttäjätiedot</v-card-title\r\n                >\r\n                <v-list two-line style=\"background: transparent\" outlined>\r\n                  <v-list-item>\r\n                    <v-list-item-avatar>\r\n                      <v-icon> mdi-account-box </v-icon>\r\n                    </v-list-item-avatar>\r\n\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>{{ user.name }}</v-list-item-title>\r\n\r\n                      <v-list-item-subtitle>Nimi</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  <v-divider></v-divider>\r\n                  <v-list-item>\r\n                    <v-list-item-avatar>\r\n                      <v-icon> mdi-email </v-icon>\r\n                    </v-list-item-avatar>\r\n\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>{{ user.email }}</v-list-item-title>\r\n\r\n                      <v-list-item-subtitle>Sähköposti</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                  <v-divider></v-divider>\r\n                  <v-list-item>\r\n                    <v-list-item-avatar>\r\n                      <v-icon> mdi-calendar </v-icon>\r\n                    </v-list-item-avatar>\r\n\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>{{ created }}</v-list-item-title>\r\n\r\n                      <v-list-item-subtitle>Luotu</v-list-item-subtitle>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                </v-list>\r\n              </v-card>\r\n            </v-col>\r\n            <v-col>\r\n              <!-- if user is found on localstorage (this.user is not null/false) -->\r\n              <v-card style=\"background: transparent\" outlined v-if=\"user\" dark>\r\n                <v-card-title\r\n                  ><v-icon x-large>mdi-gauge</v-icon>\r\n                  &nbsp;Toiminnot</v-card-title\r\n                >\r\n                <v-list style=\"background: transparent\" outlined>\r\n                  <v-list-item>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Luo uusi kilpailu</v-list-item-title>\r\n                    </v-list-item-content>\r\n                    <v-list-item-action>\r\n                      <router-link to=\"/register-comp\">\r\n                        <v-btn\r\n                          icon\r\n                          outlined\r\n                          :loading=\"loading || publishing\"\r\n                          :disabled=\"loading || publishing\"\r\n                          ><v-icon>mdi-plus</v-icon></v-btn\r\n                        >\r\n                      </router-link>\r\n                    </v-list-item-action>\r\n                  </v-list-item>\r\n                  <v-divider></v-divider>\r\n                  <v-list-item>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>Luo uusi cup</v-list-item-title>\r\n                    </v-list-item-content>\r\n                    <v-list-item-action>\r\n                      <v-dialog\r\n                        v-model=\"createCupDialog\"\r\n                        width=\"700\"\r\n                        persistent\r\n                      >\r\n                        <template v-slot:activator=\"{ on, attrs }\">\r\n                          <v-btn\r\n                            icon\r\n                            outlined\r\n                            v-bind=\"attrs\"\r\n                            v-on=\"on\"\r\n                            :loading=\"loading || publishing\"\r\n                            :disabled=\"loading || publishing\"\r\n                          >\r\n                            <v-icon>mdi-plus</v-icon>\r\n                          </v-btn>\r\n                        </template>\r\n\r\n                        <v-card :dark=\"$store.getters.getTheme\">\r\n                          <v-card-title> Luo Cup </v-card-title>\r\n\r\n                          <v-row align=\"center\" justify=\"center\">\r\n                            <v-col cols=\"8\" class=\"input-fields\">\r\n                              <v-text-field\r\n                                :dark=\"$store.getters.getTheme\"\r\n                                label=\"Cupin nimi\"\r\n                                v-model=\"name\"\r\n                                :maxlength=\"40\"\r\n                                :loading=\"loading\"\r\n                                :counter=\"40\"\r\n                              />\r\n                            </v-col>\r\n                          </v-row>\r\n                          <v-row align=\"center\" justify=\"center\">\r\n                            <v-col cols=\"6\" class=\"input-fields\">\r\n                              <v-menu\r\n                                ref=\"menu\"\r\n                                :close-on-content-click=\"false\"\r\n                                v-model=\"menu\"\r\n                                :nudge-right=\"40\"\r\n                                transition=\"scale-transition\"\r\n                                offset-y\r\n                                min-width=\"290px\"\r\n                              >\r\n                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                  <v-text-field\r\n                                    :dark=\"$store.getters.getTheme\"\r\n                                    v-model=\"year\"\r\n                                    label=\"Vuosi\"\r\n                                    prepend-icon=\"event\"\r\n                                    readonly\r\n                                    v-bind=\"attrs\"\r\n                                    v-on=\"on\"\r\n                                  ></v-text-field>\r\n                                </template>\r\n                                <v-date-picker\r\n                                  ref=\"picker\"\r\n                                  v-model=\"year\"\r\n                                  @input=\"saveYear\"\r\n                                  min=\"2000-01-01\"\r\n                                  reactive\r\n                                  no-title\r\n                                ></v-date-picker>\r\n                              </v-menu>\r\n                            </v-col>\r\n                          </v-row>\r\n                          <v-row align=\"center\" justify=\"center\">\r\n                            <v-col cols=\"6\" class=\"input-fields\">\r\n                              <v-checkbox\r\n                                v-model=\"isThereCompetitionLimit\"\r\n                                label=\"Aseta merkitsevien kilpailujen määrä?\"\r\n                              ></v-checkbox>\r\n                            </v-col>\r\n                          </v-row>\r\n                          <v-row\r\n                            align=\"center\"\r\n                            justify=\"center\"\r\n                            v-if=\"isThereCompetitionLimit\"\r\n                          >\r\n                            <v-col cols=\"6\" class=\"input-fields\">\r\n                              <v-text-field\r\n                                v-model=\"meaningful_competitions\"\r\n                                :dark=\"$store.getters.getTheme\"\r\n                                label=\"Merkitsevien kilpailujen määrä\"\r\n                                maxlength=\"3\"\r\n                                type=\"number\"\r\n                                @paste.prevent\r\n                                counter=\"3\"\r\n                                min=\"1\"\r\n                                max=\"100\"\r\n                                @keypress=\"isNumber($event, true)\"\r\n                                :rules=\"number_rules\"\r\n                                :loading=\"loading\"\r\n                              />\r\n                            </v-col>\r\n                          </v-row>\r\n                          <v-row align=\"center\" justify=\"center\">\r\n                            <v-col>\r\n                              <v-btn\r\n                                tile\r\n                                color=\"primary\"\r\n                                @click=\"saveCup\"\r\n                                :loading=\"loading\"\r\n                                ><v-icon>mdi-check</v-icon>Luo Cup</v-btn\r\n                              >\r\n                            </v-col>\r\n                          </v-row>\r\n                          <v-card-actions>\r\n                            <v-spacer></v-spacer>\r\n                            <v-btn\r\n                              color=\"primary\"\r\n                              text\r\n                              @click=\"createCupDialog = false\"\r\n                            >\r\n                              Peruuta\r\n                            </v-btn>\r\n                          </v-card-actions>\r\n                        </v-card>\r\n                      </v-dialog>\r\n                    </v-list-item-action>\r\n                  </v-list-item>\r\n                </v-list>\r\n              </v-card>\r\n              <v-row>\r\n                <v-col>\r\n                  <!-- if user is found on localstorage (this.user is not null/false) -->\r\n                  <v-card\r\n                    style=\"background: transparent; margin-top: 6px\"\r\n                    outlined\r\n                    v-if=\"user\"\r\n                    dark\r\n                  >\r\n                    <v-list style=\"background: transparent\" outlined>\r\n                      <v-list-item>\r\n                        <v-spacer></v-spacer>\r\n                        <v-list-item-content>\r\n                          <v-list-item-title\r\n                            ><h2>\r\n                              {{ tweenedCompetitions.toFixed(0) }}\r\n                            </h2></v-list-item-title\r\n                          >\r\n\r\n                          <v-list-item-subtitle\r\n                            >Kilpailuja</v-list-item-subtitle\r\n                          >\r\n                        </v-list-item-content>\r\n                        <v-spacer></v-spacer>\r\n                        <v-list-item-content>\r\n                          <v-list-item-title\r\n                            ><h2>\r\n                              {{ tweenedCups.toFixed(0) }}\r\n                            </h2></v-list-item-title\r\n                          >\r\n\r\n                          <v-list-item-subtitle>Cuppeja</v-list-item-subtitle>\r\n                        </v-list-item-content>\r\n                        <v-spacer></v-spacer>\r\n                      </v-list-item>\r\n                    </v-list>\r\n                  </v-card>\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n          </v-row>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card>\r\n    <comp-cup-table\r\n      :competitions=\"competitions\"\r\n      :cups=\"cups\"\r\n      :loading=\"loading\"\r\n      :publishing=\"publishing\"\r\n    ></comp-cup-table>\r\n    <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\r\n      {{ text }}\r\n\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"snackbar = false\">\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\"use strict\";\r\nimport CompCupTable from \"../components/CompCupTable.vue\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport CupService from \"../CupService\";\r\nimport gsap from \"gsap\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    CompCupTable,\r\n  },\r\n  data() {\r\n    return {\r\n      user: null,\r\n      created: null,\r\n      createCupDialog: false,\r\n      menu: false,\r\n      loading: false,\r\n      publishing: false,\r\n      name: null,\r\n      year: null,\r\n      meaningful_competitions: 1,\r\n      isThereCompetitionLimit: false,\r\n      competitions: [],\r\n      cups: [],\r\n      errors: [],\r\n      number_rules: [\r\n        (value) => !!value || \"Kenttä ei voi jäädä tyhjäksi!\",\r\n        (value) => !isNaN(value || \"\") || \"Ei ole numero!\",\r\n      ],\r\n      snackbar: false,\r\n      text: \"\",\r\n      timeout: 5000,\r\n      cupsAmount: 0,\r\n      competitionsAmount: 0,\r\n      tweenedCompetitions: 0,\r\n      tweenedCups: 0,\r\n      animationLength: 1.5,\r\n    };\r\n  },\r\n  watch: {\r\n    menu(val) {\r\n      val && this.$nextTick(() => (this.$refs.picker.activePicker = \"YEAR\"));\r\n    },\r\n    cupsAmount(n) {\r\n      gsap.to(this, {\r\n        duration: this.animationLength,\r\n        tweenedCups: Number(n) || 0,\r\n      });\r\n    },\r\n    competitionsAmount(n) {\r\n      gsap.to(this, {\r\n        duration: this.animationLength,\r\n        tweenedCompetitions: Number(n) || 0,\r\n      });\r\n    },\r\n  },\r\n  async created() {\r\n    this.loading = true;\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const user_id = user[\"_id\"];\r\n    // Get competitions\r\n    const query = { user_id: user_id };\r\n    await CompetitionService.getCompetitions(query)\r\n      .then((response) => {\r\n        this.competitions = response;\r\n        this.competitionsAmount = this.competitions.length;\r\n        // Convert dates to moment objects\r\n        this.competitions.forEach((competition) => {\r\n          competition.start_date = this.$moment(competition.start_date);\r\n          competition.end_date = this.$moment(competition.end_date);\r\n        });\r\n        // Sort them based on start_date so the oldest competitions are the last\r\n        this.competitions.sort(function compare(a, b) {\r\n          return b.start_date.isAfter(a.start_date);\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        if (err.response) {\r\n          if (err.response.status === 408) {\r\n            this.loading = false;\r\n            return console.log(err);\r\n          } else {\r\n            this.loading = false;\r\n            return console.log(err);\r\n          }\r\n        } else {\r\n          return console.log(err);\r\n        }\r\n      });\r\n\r\n    // Get Cups\r\n    await CupService.getCups({\r\n      user_id: user_id,\r\n    })\r\n      .then((response) => {\r\n        this.cups = response;\r\n        this.cupsAmount = this.cups.length;\r\n        this.cups.sort((a, b) => {\r\n          return this.$moment(b.year).isAfter(this.$moment(a.year));\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        if (err.response) {\r\n          if (err.response.status === 400) {\r\n            console.log(err);\r\n            return this.showError(\"Bad request!\");\r\n          }\r\n          if (err.response.status === 408) {\r\n            return this.showError(\r\n              \"Yhteyttä tietokantaan ei saatu... Yritä uudelleen päivittämällä sivu (Connection timed out)\"\r\n            );\r\n          } else {\r\n            return console.log(err);\r\n          }\r\n        } else {\r\n          return console.log(err);\r\n        }\r\n      });\r\n    this.loading = false;\r\n  },\r\n\r\n  mounted() {\r\n    // Set competition in localstorage and vuex to null\r\n    this.$store.commit(\"refreshCompetition\", null);\r\n    localStorage.removeItem(\"competition\");\r\n    this.$store.commit(\"refreshCup\", null);\r\n    localStorage.removeItem(\"cup\");\r\n    // Get user info form localstorage\r\n    if (localStorage.getItem(\"user\") != null) {\r\n      this.user = JSON.parse(localStorage.getItem(\"user\"));\r\n      let createdAt = this.$moment(this.user.createdAt);\r\n      this.created = `${createdAt.date()}.${\r\n        createdAt.month() + 1\r\n      }.${createdAt.year()}`;\r\n    }\r\n\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n  },\r\n  methods: {\r\n    //filter other characters out for number inputs\r\n    isNumber: function (evt, isDate) {\r\n      var charToCheckCode = 46; // --> .\r\n      var charToCheck = \".\";\r\n\r\n      if (!isDate) {\r\n        charToCheckCode = 58; // --> :\r\n        charToCheck = \":\";\r\n      }\r\n\r\n      evt = evt ? evt : window.event;\r\n      var charCode = evt.which ? evt.which : evt.keyCode;\r\n      if (\r\n        charCode > 31 &&\r\n        (charCode < 48 || charCode > 57) &&\r\n        charCode !== charToCheckCode\r\n      ) {\r\n        evt.preventDefault();\r\n      } else {\r\n        if (charCode == charToCheckCode) {\r\n          if (evt.target.value.indexOf(charToCheck) >= 0) {\r\n            evt.preventDefault();\r\n          } else {\r\n            return true;\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    },\r\n    async publishCup(cup) {\r\n      cup.isPublic = !cup.isPublic;\r\n      try {\r\n        //TODO update only this one variable (competition.normal_points) to database, not the whole competition\r\n        this.publishing = true;\r\n        const newValues = {\r\n          $set: { isPublic: cup.isPublic },\r\n        };\r\n        await CupService.updateValues(cup.id, newValues);\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n      this.publishing = false;\r\n    },\r\n    // Add error to error array and direct user to it\r\n    showError(error) {\r\n      this.errors.push(error);\r\n      location.href = \"#\";\r\n      location.href = \"#app\";\r\n    },\r\n    //TODO dropdown to select current year as highlighted when opened\r\n    saveYear(year) {\r\n      year = year.split(\"-\")[0];\r\n      this.year = year;\r\n      this.$refs.picker.activePicker = \"YEAR\";\r\n      this.menu = false;\r\n    },\r\n    async saveCup() {\r\n      this.errors = [];\r\n      this.loading = true;\r\n\r\n      if (!this.name) {\r\n        this.showError(\"Syötä Cupille nimi!\");\r\n      }\r\n      if (!this.year) {\r\n        this.showError(\"Valitse Cupille vuosi!\");\r\n      }\r\n\r\n      if (this.isThereCompetitionLimit && !this.meaningful_competitions) {\r\n        this.showError(\"Syötä merkitsevien kilpailujen määrä!\");\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const user = JSON.parse(localStorage.getItem(\"user\"));\r\n        const user_id = user[\"_id\"];\r\n        const cup = {\r\n          user_id: user_id,\r\n          name: this.name,\r\n          year: this.year,\r\n          meaningful_competitions: this.isThereCompetitionLimit\r\n            ? this.meaningful_competitions\r\n            : -1,\r\n        };\r\n        try {\r\n          //Submit Cup to database (check 'client\\src\\CupService.js' and 'server\\routes\\api\\cups.js' to see how this works)\r\n          await CupService.insertCup(cup);\r\n          this.text = \"Cup lisätty tietokantaan!\";\r\n          this.snackbar = true;\r\n          /*\r\n          this.cups = await CupService.getCups({\r\n            user_id: user_id,\r\n          });\r\n          */\r\n          this.cups.push(cup);\r\n          this.cupsAmount = this.cups.length;\r\n          this.cups.sort((a, b) => {\r\n            return this.$moment(b.year).isAfter(this.$moment(a.year));\r\n          });\r\n          this.loading = false;\r\n          this.year = null;\r\n          this.name = null;\r\n          this.tab = \"cups\";\r\n        } catch (err) {\r\n          this.errors.push(err.message);\r\n        }\r\n      }\r\n      this.loading = false;\r\n      this.createCupDialog = false;\r\n      this.isThereCompetitionLimit = false;\r\n      this.meaningful_competitions = 1;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=8ded015c&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardTitle,VCheckbox,VCol,VContainer,VDatePicker,VDialog,VDivider,VIcon,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemIcon,VListItemSubtitle,VListItemTitle,VMenu,VRow,VSnackbar,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',[_c('v-col',[_c('CompetitionNavigation')],1),_c('v-col',[_c('Timedate')],1)],1),_c('v-container',{class:{\n      mobile: _vm.$vuetify.breakpoint.width < 800,\n      browser: _vm.$vuetify.breakpoint.width >= 800,\n      wide: _vm.$vuetify.breakpoint.width >= 1200,\n    }},[_c('v-card',{staticStyle:{\"background\":\"transparent\"},attrs:{\"elevation\":\"10\",\"outlined\":\"\",\"dark\":_vm.$store.getters.getTheme}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('h1',{staticStyle:{\"margin\":\"30px\"}},[_vm._v(\"Kilpailun määritykset\")])]),_c('v-col',[_c('v-btn',{attrs:{\"disabled\":!_vm.basic_info_validated,\"large\":\"\",\"tile\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){_vm.basic_info_validated = false}}},[_c('v-icon',[_vm._v(\"mdi-cog-transfer\")]),_vm._v(\"Muuta tietoja\")],1)],1)],1)],1),(_vm.basic_info_validated)?_c('v-card',{staticStyle:{\"background\":\"transparent\"},attrs:{\"elevation\":\"10\",\"outlined\":\"\",\"dark\":_vm.$store.getters.getTheme}},[(!_vm.loading && _vm.competition)?_c('v-row',{attrs:{\"id\":\"settings-info\"}},[_c('v-col',[_c('v-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"elevation\":\"20\",\"outlined\":\"\"}},[_c('v-card-title',{staticClass:\"text-center\"},[_c('p',{staticClass:\"display-1\"},[_vm._v(\"Perustiedot\")])]),_c('v-list',{attrs:{\"outlined\":\"\",\"elevation\":\"10\"}},[_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-ferry\")])],1),_c('v-list-item-title',[_vm._v(\"Kilpailu\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(_vm._s(_vm.competition.name)+\" (\"+_vm._s(_vm.competition.locality)+\")\")])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"yellow darken-4\"}},[_vm._v(\"mdi-trophy\")])],1),_c('v-list-item-title',[_vm._v(\"Cup\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(_vm._s(_vm.competition.cup_name))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-calendar-arrow-right\")])],1),_c('v-list-item-title',[_vm._v(\"Aloituspäivä\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(_vm._s(_vm.formatted_start_date))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-calendar-multiple-check\")])],1),_c('v-list-item-title',[_vm._v(\"Lopetuspäivä\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(_vm._s(_vm.formatted_end_date))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-calendar-clock\")])],1),_c('v-list-item-title',[_vm._v(\"Kilpailuaika\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(\" \"+_vm._s(_vm.competition.start_time)+\" - \"+_vm._s(_vm.competition.end_time))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-clipboard-check\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Kilpailun sijoittumispisteet\")]),_c('v-list',{staticStyle:{\"max-height\":\"400px\",\"overflow-y\":\"auto\"},attrs:{\"dark\":_vm.$store.getters.getTheme,\"elevation\":\"20\",\"outlined\":\"\"}},_vm._l((_vm.placement_points_array),function(p,index){return _c('div',{key:index,staticStyle:{\"margin-top\":\"20px\"}},[_c('v-list-item',[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('h3',[_vm._v(\"#\"+_vm._s(p.placement))])]),_c('v-col',[_c('p',[_vm._v(_vm._s(p.points)+\"p\")])])],1)],1),_c('v-divider')],1)}),0)],1)],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"green darken-2\"}},[_vm._v(\"mdi-clipboard-check\")])],1),_c('v-list-item-title',[_vm._v(\"Kilpailijoiden Cup osallistumispisteet\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(_vm._s(_vm.competition.cup_participation_points))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"green darken-1\"}},[_vm._v(\"mdi-calculator-variant-outline\")])],1),_c('v-list-item-title',[_vm._v(\"Kilpailun pistekerroin\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(\"x \"+_vm._s(_vm.competition.cup_points_multiplier))])])],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-incognito\")])],1),_c('v-list-item-title',[_vm._v(\"Onko kilpailu julkinen\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[(_vm.competition.isPublic)?_c('v-icon',{attrs:{\"color\":\"green darken-2\"}},[_vm._v(\"mdi-check-bold\")]):_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('v-list-item',[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"yellow darken-4\"}},[_vm._v(\"mdi-trophy-award\")])],1),_c('v-list-item-title',[_vm._v(\"Onko kilpailu päättynyt\")]),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[(_vm.competition.isFinished)?_c('v-icon',{attrs:{\"color\":\"green darken-2\"}},[_vm._v(\"mdi-check-bold\")]):_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"mdi-close\")])],1)],1)],1)],1)],1)],1),_c('v-row',{staticClass:\"fishes_summary\"},[_c('v-col',{staticClass:\"scroll_table\",attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"outlined\":\"\"}},[_c('v-card-title',{staticClass:\"text-center\"},[_c('p',{staticClass:\"display-1\"},[_vm._v(\"Kalojen määritykset\")])]),_c('v-list',{attrs:{\"outlined\":\"\",\"elevation\":\"10\"}},_vm._l((_vm.fish_specs),function(fish,index){return _c('div',{key:index},[_c('v-list-item',[_c('v-list-item-title',[_vm._v(_vm._s(fish.name))]),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('v-list-item-subtitle',{staticClass:\"green-text\"},[_c('b',[_vm._v(\" x \"+_vm._s(fish.multiplier))])]),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('v-list-item-subtitle',{staticClass:\"blue-text\"},[_c('b',[_vm._v(_vm._s(fish.minsize)+\" cm\")])])],1),_c('v-divider')],1)}),0)],1)],1)],1),(!_vm.loading)?_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":_vm.competition.isPublic ? 'grey darken-4' : 'green darken-4',\"loading\":_vm.updating},on:{\"click\":function($event){return _vm.publishCompetition(_vm.competition.isPublic)}}},[(_vm.competition.isPublic)?_c('div',[_c('v-icon',[_vm._v(\"mdi-incognito\")]),_vm._v(\" Aseta kilpailu salaiseksi \")],1):_c('div',[_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-publish\")]),_vm._v(\" Aseta kilpailu julkiseksi \")],1)])],1),_c('v-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":_vm.competition.isFinished ? 'yellow' : 'green darken-3',\"loading\":_vm.updating},on:{\"click\":function($event){return _vm.endCompetition(_vm.competition.isFinished)}}},[(_vm.competition.isFinished)?_c('div',{staticClass:\"black--text\"},[_c('v-icon',{attrs:{\"color\":\"red darken-2\"}},[_vm._v(\"mdi-cancel\")]),_vm._v(\" Aseta kilpailu keskeneräiseksi \")],1):_c('div',[_c('v-icon',{attrs:{\"color\":\"yellow\"}},[_vm._v(\"mdi-trophy\")]),_vm._v(\" Aseta kilpailu päättyneeksi \")],1)])],1)],1):_vm._e(),_c('v-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('v-col',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"md\":\"3\",\"offset-md\":\"4\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"block\":\"\",\"color\":\"red darken-4\",\"loading\":_vm.updating},on:{\"click\":function($event){return _vm.deleteCompetition(_vm.competition._id, false)}}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-delete-forever\")]),_vm._v(\" Poista Kilpailu\")],1)],1)],1)],1)],1):_vm._e(),(_vm.loading)?_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',[_c('h2',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm.loadingMessage))]),_c('ProgressBarQuery')],1)],1):_vm._e()],1):_vm._e(),(!_vm.basic_info_validated)?_c('v-card',{staticStyle:{\"background\":\"transparent\"},attrs:{\"elevation\":\"10\",\"outlined\":\"\",\"dark\":_vm.$store.getters.getTheme}},[(_vm.errors.length)?_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"id\":\"errordiv\"}},[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Korjaa seuraavat virheet: \")]),_c('v-list',_vm._l((_vm.errors),function(error,index){return _c('v-list-item',{key:index},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"mdi-alert-circle\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(error))])],1)],1)}),1)],1):_vm._e(),_c('v-row',[_c('v-col',[_c('h1',[_vm._v(\"Muuta määrityksiä\")])])],1),_c('v-row',[_c('v-col',[_c('p',{staticClass:\"white--text\"},[_vm._v(\"Kilpailun perustiedot\")]),(_vm.basic_info_validated)?_c('p',{staticClass:\"flow-text yellow lighten-1 center-align\"},[_vm._v(\" Tiedot lukittuna, paina \\\"Muuta tietoja\\\" jos haluat varmasti muokata tietoja \")]):_vm._e()])],1),(!_vm.loading)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.competition)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Kilpailun nimi\",\"maxlength\":_vm.max_input,\"disabled\":_vm.basic_info_validated,\"rules\":_vm.rules,\"counter\":_vm.max_input},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1):_vm._e(),(_vm.competition)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Paikkakunta\",\"maxlength\":_vm.max_input,\"disabled\":_vm.basic_info_validated,\"rules\":_vm.rules,\"counter\":_vm.max_input},model:{value:(_vm.locality),callback:function ($$v) {_vm.locality=$$v},expression:\"locality\"}})],1)],1):_vm._e(),(_vm.loading_cups)?_c('v-row',[_c('v-col',[_c('h2',{staticClass:\"white--text\"},[_vm._v(\"Haetaan cuppeja...\")]),_c('ProgressBarQuery')],1)],1):_vm._e(),(!_vm.cups)?_c('v-row',[_c('v-col',[_c('h2',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Cuppeja ei löytynyt... \")])])],1):_vm._e(),(!_vm.competition.cup_name)?_c('v-row',[_c('v-col',[_c('h2',{class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Kilpailusta ei löytynyt cuppia... \")])])],1):_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"6\"}},[_c('v-subheader',{staticClass:\"white--text\"},[_vm._v(\" Valitse Cup \")]),_c('v-select',{attrs:{\"label\":\"Valitse Cup\",\"dark\":_vm.$store.getters.getTheme,\"items\":_vm.cups,\"item-text\":\"select\",\"item-value\":\"_id\",\"hint\":((_vm.cup.name) + \" (\" + (_vm.cup.year) + \")\"),\"disabled\":_vm.basic_info_validated,\"outlined\":\"\",\"return-object\":\"\",\"single-line\":\"\"},model:{value:(_vm.cup),callback:function ($$v) {_vm.cup=$$v},expression:\"cup\"}})],1)],1),(_vm.competition)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('h2',{staticClass:\"white--text\"},[_vm._v(\"Kilpailun sijoittumispisteet\")]),_c('v-list',{staticStyle:{\"max-height\":\"400px\",\"overflow-y\":\"auto\"},attrs:{\"dark\":_vm.$store.getters.getTheme,\"elevation\":\"20\",\"outlined\":\"\"}},_vm._l((_vm.placement_points_array),function(p,index){return _c('div',{key:index,staticStyle:{\"margin-top\":\"20px\"}},[_c('v-list-item',[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('h3',[_vm._v(\"#\"+_vm._s(p.placement))])]),_c('v-col',[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Pisteet\",\"rules\":_vm.number_rules,\"disabled\":_vm.basic_info_validated || !_vm.editPoints},on:{\"blur\":_vm.sortPlacements},model:{value:(p.points),callback:function ($$v) {_vm.$set(p, \"points\", $$v)},expression:\"p.points\"}})],1),(_vm.editPoints)?_c('v-col',[_c('v-btn',{attrs:{\"color\":\"red\"},on:{\"click\":function($event){return _vm.removePlacement(index)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1):_vm._e()],1)],1),_c('v-divider')],1)}),0),(_vm.editPoints)?_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"green\"},on:{\"click\":_vm.addPlacement}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\"Lisää pistesija\")],1)],1)],1):_vm._e(),_c('v-row',[(_vm.editPoints)?_c('v-col',[_c('v-btn',{staticClass:\"black--text\",attrs:{\"block\":\"\",\"color\":\"yellow\"},on:{\"click\":_vm.cancelPoints}},[_c('v-icon',[_vm._v(\"mdi-cancel\")]),_vm._v(\"Peruuta\")],1)],1):_vm._e(),_c('v-col',[_c('v-btn',{attrs:{\"block\":\"\",\"color\":_vm.editPoints ? 'green darken-2' : 'grey',\"disabled\":_vm.basic_info_validated},on:{\"click\":_vm.confirmPoints}},[_c('v-icon',[_vm._v(\"mdi-check\")]),_vm._v(_vm._s(_vm.editPoints ? \"Valmis\" : \"Muokkaa\"))],1)],1)],1)],1),(_vm.editPoints)?_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('div',{staticStyle:{\"margin-top\":\"200px\"}},[_c('p',{staticClass:\"center-align flow-text\",class:{\n                    'white--text': _vm.$store.getters.getTheme,\n                  }},[_vm._v(\" Palauta alkuperäiset pisteet:\"),_c('br'),_vm._v(\"#1 = 30, #2 = 28, #3 = 26... \")]),_c('v-btn',{attrs:{\"color\":\"red\"},on:{\"click\":_vm.resetPoints}},[_vm._v(\"Palauta\")])],1)]):_vm._e()],1):_vm._e(),(_vm.competition)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Kilpailun cup osallistumispisteet\",\"append-outer-icon\":\"add\",\"maxlength\":\"6\",\"prepend-icon\":\"remove\",\"counter\":6,\"rules\":_vm.number_rules,\"disabled\":_vm.basic_info_validated},on:{\"click:append-outer\":function($event){_vm.cup_participation_points >= 0\n                    ? _vm.cup_participation_points++\n                    : (_vm.cup_participation_points = 1)},\"click:prepend\":function($event){_vm.cup_participation_points >= 1\n                    ? _vm.cup_participation_points--\n                    : (_vm.cup_participation_points = 0)},\"paste\":function($event){$event.preventDefault();},\"keypress\":function($event){return _vm.isNumber($event, true)}},model:{value:(_vm.cup_participation_points),callback:function ($$v) {_vm.cup_participation_points=$$v},expression:\"cup_participation_points\"}})],1)],1):_vm._e(),(_vm.competition)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Cup pistekerroin\",\"append-outer-icon\":\"add\",\"maxlength\":\"3\",\"prepend-icon\":\"remove\",\"counter\":3,\"rules\":_vm.number_rules,\"disabled\":_vm.basic_info_validated},on:{\"click:append-outer\":function($event){_vm.cup_points_multiplier >= 1\n                    ? (_vm.cup_points_multiplier += 0.5)\n                    : (_vm.cup_points_multiplier = 1)},\"click:prepend\":function($event){_vm.cup_points_multiplier >= 1.5\n                    ? (_vm.cup_points_multiplier -= 0.5)\n                    : (_vm.cup_points_multiplier = 1)},\"paste\":function($event){$event.preventDefault();},\"keypress\":function($event){return _vm.isNumber($event, true)}},model:{value:(_vm.cup_points_multiplier),callback:function ($$v) {_vm.cup_points_multiplier=$$v},expression:\"cup_points_multiplier\"}})],1)],1):_vm._e(),(_vm.competition)?_c('v-row',{attrs:{\"justify\":\"center\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"input-fields\",attrs:{\"cols\":\"6\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"Onko Tiimikilpailua?\")]),_c('v-row',{attrs:{\"justify\":\"center\",\"align\":\"center\"}},[_c('v-spacer'),_c('v-col',[_c('v-radio-group',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"row\":\"\",\"disabled\":_vm.basic_info_validated},model:{value:(_vm.team_competition),callback:function ($$v) {_vm.team_competition=$$v},expression:\"team_competition\"}},[_c('v-radio',{attrs:{\"label\":\"Kyllä\",\"value\":\"Kyllä\"}}),_c('v-radio',{attrs:{\"label\":\"Ei\",\"value\":\"Ei\"}})],1)],1),_c('v-spacer')],1)],1)],1):_vm._e(),(_vm.competition)?_c('v-row',{staticStyle:{\"padding\":\"20px\",\"margin-bottom\":\"50px\"},attrs:{\"justify\":\"center\",\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"xl\":\"6\",\"l\":\"6\",\"md\":\"6\",\"s\":\"10\",\"xs\":\"12\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"Kilpailun Aloituspäivä\")]),_c('v-date-picker',{staticClass:\"mt-4\",staticStyle:{\"height\":\"480px\"},attrs:{\"dark\":_vm.$store.getters.getTheme,\"full-width\":\"\",\"elevation\":\"15\",\"locale\":\"fi\",\"first-day-of-week\":\"1\",\"disabled\":_vm.basic_info_validated},model:{value:(_vm.start_date),callback:function ($$v) {_vm.start_date=$$v},expression:\"start_date\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"xl\":\"6\",\"l\":\"6\",\"md\":\"6\",\"s\":\"10\",\"xs\":\"12\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"Kilpailun Lopetuspäivä\")]),_c('v-date-picker',{staticClass:\"mt-4\",staticStyle:{\"height\":\"480px\"},attrs:{\"dark\":_vm.$store.getters.getTheme,\"full-width\":\"\",\"elevation\":\"15\",\"locale\":\"fi\",\"first-day-of-week\":\"1\",\"disabled\":_vm.basic_info_validated},model:{value:(_vm.end_date),callback:function ($$v) {_vm.end_date=$$v},expression:\"end_date\"}})],1)],1):_vm._e(),(_vm.competition)?_c('v-row',{staticStyle:{\"padding\":\"20px\",\"margin-bottom\":\"50px\"},attrs:{\"justify\":\"center\",\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"xl\":\"6\",\"l\":\"6\",\"md\":\"6\",\"s\":\"10\",\"xs\":\"12\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"Kilpailun alkamismisaika\")]),_c('v-time-picker',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"format\":\"24hr\",\"full-width\":\"\",\"scrollable\":\"\",\"elevation\":\"15\",\"disabled\":_vm.basic_info_validated},model:{value:(_vm.start_time),callback:function ($$v) {_vm.start_time=$$v},expression:\"start_time\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"xl\":\"6\",\"l\":\"6\",\"md\":\"6\",\"s\":\"10\",\"xs\":\"12\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"Kilpailun loppumisaika\")]),_c('v-time-picker',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"format\":\"24hr\",\"full-width\":\"\",\"scrollable\":\"\",\"elevation\":\"15\",\"disabled\":_vm.basic_info_validated},model:{value:(_vm.end_time),callback:function ($$v) {_vm.end_time=$$v},expression:\"end_time\"}})],1)],1):_vm._e(),_c('v-row',{staticClass:\"fishes_summary\",attrs:{\"justify\":\"center\",\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"xl\":\"8\",\"l\":\"8\",\"md\":\"10\",\"s\":\"10\",\"xs\":\"12\"}},[_c('table',{staticClass:\"highlight centered responsive-table table_header\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Kalalaji\")]),_c('th',[_vm._v(\"Pistekerroin\")]),_c('th',[_vm._v(\"Alamitta\")]),(!_vm.basic_info_validated)?_c('th',[_vm._v(\"Poista?\")]):_vm._e()])]),_c('draggable',{attrs:{\"tag\":\"tbody\"},model:{value:(_vm.inputs),callback:function ($$v) {_vm.inputs=$$v},expression:\"inputs\"}},_vm._l((_vm.inputs),function(input,index){return _c('tr',{key:index},[_c('th',{staticStyle:{\"border\":\"1px solid black\"},attrs:{\"scope\":\"row\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Nimi\",\"disabled\":_vm.basic_info_validated,\"rules\":_vm.rules,\"counter\":_vm.max_input},model:{value:(input.name),callback:function ($$v) {_vm.$set(input, \"name\", $$v)},expression:\"input.name\"}})],1),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Kerroin\",\"maxlength\":\"4\",\"append-outer-icon\":\"add\",\"prepend-icon\":\"remove\",\"counter\":3,\"rules\":_vm.number_rules,\"disabled\":_vm.basic_info_validated},on:{\"click:append-outer\":function($event){parseInt(input.multiplier) >= 1\n                            ? (input.multiplier += 0.5)\n                            : (input.multiplier = 1)},\"click:prepend\":function($event){input.multiplier >= 1.5\n                            ? (input.multiplier -= 0.5)\n                            : (input.multiplier = 1)},\"paste\":function($event){$event.preventDefault();},\"keypress\":function($event){return _vm.isNumber($event, true)}},model:{value:(input.multiplier),callback:function ($$v) {_vm.$set(input, \"multiplier\", $$v)},expression:\"input.multiplier\"}})],1),_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_c('v-text-field',{attrs:{\"dark\":_vm.$store.getters.getTheme,\"label\":\"Alamitta (cm)\",\"maxlength\":40,\"disabled\":_vm.basic_info_validated,\"rules\":_vm.rules,\"counter\":40},model:{value:(input.minsize),callback:function ($$v) {_vm.$set(input, \"minsize\", $$v)},expression:\"input.minsize\"}})],1),(!_vm.basic_info_validated)?_c('td',{staticStyle:{\"border\":\"1px solid black\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"icon\":\"\",\"color\":\"red darken-4\",\"disabled\":_vm.basic_info_validated},on:{\"click\":function($event){return _vm.deleteFish(index, input.original_name, false)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1):_vm._e()])}),0)],1)])],1),(!_vm.basic_info_validated)?_c('v-row',[_c('v-col',[_c('b',[_c('p',[_vm._v(\" Siirrä taulukon riviä hiirellä muuttaaksesi paikkaa taulukossa \")])])])],1):_vm._e(),(!_vm.basic_info_validated)?_c('v-row',[_c('v-col',[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"color\":\"green darken-4\"},on:{\"click\":_vm.addInput}},[_c('v-icon',{attrs:{\"color\":\"green lighten-2\"}},[_vm._v(\"mdi-plus-circle\")]),_vm._v(\" Lisää kala\")],1)],1)],1):_vm._e(),(!_vm.basic_info_validated)?_c('v-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[(_vm.competition)?_c('v-col',{attrs:{\"md\":\"6\"}},[_c('v-btn',{staticClass:\"black--text\",attrs:{\"large\":\"\",\"color\":\"yellow\"},on:{\"click\":_vm.setOriginalValues}},[_c('v-icon',{attrs:{\"color\":\"red darken-2\"}},[_vm._v(\"mdi-cancel\")]),_vm._v(\" Peruuta muutokset\")],1)],1):_vm._e(),(_vm.competition)?_c('v-col',{attrs:{\"md\":\"6\"}},[_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"green\"},on:{\"click\":_vm.checkBasicInformation}},[_c('v-icon',{attrs:{\"color\":\"green darken-4\"}},[_vm._v(\"mdi-check-outline\")]),_vm._v(\" Tallenna muutokset\")],1)],1):_vm._e()],1):_vm._e()],1)],1):_vm._e()],1):_vm._e(),_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\n                            var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"blue\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /comp-settings -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <div>\r\n    <v-row>\r\n      <v-col>\r\n        <CompetitionNavigation></CompetitionNavigation>\r\n      </v-col>\r\n      <v-col>\r\n        <Timedate />\r\n      </v-col>\r\n    </v-row>\r\n    <v-container\r\n      v-bind:class=\"{\r\n        mobile: $vuetify.breakpoint.width < 800,\r\n        browser: $vuetify.breakpoint.width >= 800,\r\n        wide: $vuetify.breakpoint.width >= 1200,\r\n      }\"\r\n    >\r\n      <v-card\r\n        style=\"background: transparent\"\r\n        elevation=\"10\"\r\n        outlined\r\n        :dark=\"$store.getters.getTheme\"\r\n      >\r\n        <v-row align=\"center\">\r\n          <v-col>\r\n            <h1 style=\"margin: 30px\">Kilpailun määritykset</h1>\r\n          </v-col>\r\n          <v-col>\r\n            <v-btn\r\n              :disabled=\"!basic_info_validated\"\r\n              large\r\n              tile\r\n              color=\"grey\"\r\n              @click=\"basic_info_validated = false\"\r\n              ><v-icon>mdi-cog-transfer</v-icon>Muuta tietoja</v-btn\r\n            >\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n\r\n      <!-- if this.loading === false, meaning app isn't loading competition data from database -->\r\n\r\n      <v-card\r\n        style=\"background: transparent\"\r\n        elevation=\"10\"\r\n        outlined\r\n        :dark=\"$store.getters.getTheme\"\r\n        v-if=\"basic_info_validated\"\r\n      >\r\n        <v-row v-if=\"!loading && competition\" id=\"settings-info\">\r\n          <v-col>\r\n            <v-row style=\"margin-top: 20px\">\r\n              <v-col md=\"10\" offset-md=\"1\">\r\n                <v-card :dark=\"$store.getters.getTheme\" elevation=\"20\" outlined>\r\n                  <v-card-title class=\"text-center\">\r\n                    <p class=\"display-1\">Perustiedot</p>\r\n                  </v-card-title>\r\n                  <v-list outlined elevation=\"10\">\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon>mdi-ferry</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title>Kilpailu</v-list-item-title>\r\n                      <v-list-item-subtitle class=\"blue-text\">\r\n                        <b\r\n                          >{{ competition.name }} ({{\r\n                            competition.locality\r\n                          }})</b\r\n                        >\r\n                      </v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon color=\"yellow darken-4\">mdi-trophy</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title>Cup</v-list-item-title>\r\n                      <v-list-item-subtitle class=\"blue-text\">\r\n                        <b>{{ competition.cup_name }}</b>\r\n                      </v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon>mdi-calendar-arrow-right</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title>Aloituspäivä</v-list-item-title>\r\n                      <v-list-item-subtitle class=\"blue-text\">\r\n                        <b>{{ formatted_start_date }}</b>\r\n                      </v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon>mdi-calendar-multiple-check</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title>Lopetuspäivä</v-list-item-title>\r\n                      <v-list-item-subtitle class=\"blue-text\">\r\n                        <b>{{ formatted_end_date }}</b>\r\n                      </v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon>mdi-calendar-clock</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title>Kilpailuaika</v-list-item-title>\r\n                      <v-list-item-subtitle class=\"blue-text\">\r\n                        <b>\r\n                          {{ competition.start_time }} -\r\n                          {{ competition.end_time }}</b\r\n                        >\r\n                      </v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon color=\"green\">mdi-clipboard-check</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title\r\n                          >Kilpailun sijoittumispisteet</v-list-item-title\r\n                        >\r\n                        <v-list\r\n                          :dark=\"$store.getters.getTheme\"\r\n                          elevation=\"20\"\r\n                          outlined\r\n                          style=\"max-height: 400px; overflow-y: auto\"\r\n                        >\r\n                          <div\r\n                            v-for=\"(p, index) in placement_points_array\"\r\n                            :key=\"index\"\r\n                            style=\"margin-top: 20px\"\r\n                          >\r\n                            <v-list-item>\r\n                              <v-row align=\"center\">\r\n                                <v-col>\r\n                                  <h3>#{{ p.placement }}</h3>\r\n                                </v-col>\r\n                                <v-col>\r\n                                  <p>{{ p.points }}p</p>\r\n                                </v-col>\r\n                              </v-row>\r\n                            </v-list-item>\r\n                            <v-divider></v-divider>\r\n                          </div>\r\n                        </v-list>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon color=\"green darken-2\"\r\n                          >mdi-clipboard-check</v-icon\r\n                        >\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title\r\n                        >Kilpailijoiden Cup\r\n                        osallistumispisteet</v-list-item-title\r\n                      >\r\n                      <v-list-item-subtitle class=\"blue-text\">\r\n                        <b>{{ competition.cup_participation_points }}</b>\r\n                      </v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon color=\"green darken-1\"\r\n                          >mdi-calculator-variant-outline</v-icon\r\n                        >\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title\r\n                        >Kilpailun pistekerroin</v-list-item-title\r\n                      >\r\n                      <v-list-item-subtitle class=\"blue-text\">\r\n                        <b>x {{ competition.cup_points_multiplier }}</b>\r\n                      </v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon>mdi-incognito</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title\r\n                        >Onko kilpailu julkinen</v-list-item-title\r\n                      >\r\n                      <v-list-item-subtitle class=\"blue-text\">\r\n                        <v-icon\r\n                          v-if=\"competition.isPublic\"\r\n                          color=\"green darken-2\"\r\n                          >mdi-check-bold</v-icon\r\n                        >\r\n                        <v-icon v-else color=\"red\">mdi-close</v-icon>\r\n                      </v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                    <v-list-item>\r\n                      <v-list-item-icon>\r\n                        <v-icon color=\"yellow darken-4\"\r\n                          >mdi-trophy-award</v-icon\r\n                        >\r\n                      </v-list-item-icon>\r\n                      <v-list-item-title\r\n                        >Onko kilpailu päättynyt</v-list-item-title\r\n                      >\r\n                      <v-list-item-subtitle class=\"blue-text\">\r\n                        <v-icon\r\n                          v-if=\"competition.isFinished\"\r\n                          color=\"green darken-2\"\r\n                          >mdi-check-bold</v-icon\r\n                        >\r\n                        <v-icon v-else color=\"red\">mdi-close</v-icon>\r\n                      </v-list-item-subtitle>\r\n                    </v-list-item>\r\n                  </v-list>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row class=\"fishes_summary\">\r\n              <v-col md=\"10\" offset-md=\"1\" class=\"scroll_table\">\r\n                <v-card :dark=\"$store.getters.getTheme\" outlined>\r\n                  <v-card-title class=\"text-center\"\r\n                    ><p class=\"display-1\">Kalojen määritykset</p></v-card-title\r\n                  >\r\n                  <v-list outlined elevation=\"10\">\r\n                    <div v-for=\"(fish, index) in fish_specs\" :key=\"index\">\r\n                      <v-list-item>\r\n                        <v-list-item-title>{{ fish.name }}</v-list-item-title>\r\n                        <v-divider vertical></v-divider>\r\n                        <v-list-item-subtitle class=\"green-text\">\r\n                          <b> x {{ fish.multiplier }}</b>\r\n                        </v-list-item-subtitle>\r\n                        <v-divider vertical></v-divider>\r\n                        <v-list-item-subtitle class=\"blue-text\">\r\n                          <b>{{ fish.minsize }} cm</b>\r\n                        </v-list-item-subtitle>\r\n                      </v-list-item>\r\n                      <v-divider></v-divider>\r\n                    </div>\r\n                  </v-list>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"!loading\">\r\n              <v-col style=\"margin-top: 20px\">\r\n                <v-btn\r\n                  large\r\n                  rounded\r\n                  :color=\"\r\n                    competition.isPublic ? 'grey darken-4' : 'green darken-4'\r\n                  \"\r\n                  @click=\"publishCompetition(competition.isPublic)\"\r\n                  class=\"white--text\"\r\n                  :loading=\"updating\"\r\n                >\r\n                  <div v-if=\"competition.isPublic\">\r\n                    <v-icon>mdi-incognito</v-icon> Aseta kilpailu salaiseksi\r\n                  </div>\r\n                  <div v-else>\r\n                    <v-icon color=\"green\">mdi-publish</v-icon> Aseta kilpailu\r\n                    julkiseksi\r\n                  </div>\r\n                </v-btn>\r\n              </v-col>\r\n              <v-col style=\"margin-top: 20px\">\r\n                <v-btn\r\n                  large\r\n                  rounded\r\n                  :color=\"competition.isFinished ? 'yellow' : 'green darken-3'\"\r\n                  @click=\"endCompetition(competition.isFinished)\"\r\n                  :loading=\"updating\"\r\n                >\r\n                  <div v-if=\"competition.isFinished\" class=\"black--text\">\r\n                    <v-icon color=\"red darken-2\">mdi-cancel</v-icon> Aseta\r\n                    kilpailu keskeneräiseksi\r\n                  </div>\r\n                  <div v-else>\r\n                    <v-icon color=\"yellow\">mdi-trophy</v-icon> Aseta kilpailu\r\n                    päättyneeksi\r\n                  </div>\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row style=\"margin-bottom: 20px\">\r\n              <v-col md=\"3\" offset-md=\"4\" style=\"margin-top: 20px\">\r\n                <v-btn\r\n                  block\r\n                  color=\"red darken-4\"\r\n                  class=\"white--text\"\r\n                  :loading=\"updating\"\r\n                  @click=\"deleteCompetition(competition._id, false)\"\r\n                  ><v-icon color=\"white\">mdi-delete-forever</v-icon> Poista\r\n                  Kilpailu</v-btn\r\n                >\r\n              </v-col>\r\n            </v-row>\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-row v-if=\"loading\" align=\"center\" justify=\"center\">\r\n          <v-col>\r\n            <h2 class=\"white--text\">{{ loadingMessage }}</h2>\r\n            <ProgressBarQuery />\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n      <v-card\r\n        style=\"background: transparent\"\r\n        elevation=\"10\"\r\n        outlined\r\n        :dark=\"$store.getters.getTheme\"\r\n        v-if=\"!basic_info_validated\"\r\n      >\r\n        <v-card\r\n          :dark=\"$store.getters.getTheme\"\r\n          id=\"errordiv\"\r\n          v-if=\"errors.length\"\r\n        >\r\n          <v-alert type=\"error\"> Korjaa seuraavat virheet: </v-alert>\r\n          <v-list>\r\n            <v-list-item v-for=\"(error, index) in errors\" v-bind:key=\"index\">\r\n              <v-list-item-icon>\r\n                <v-icon color=\"red\">mdi-alert-circle</v-icon>\r\n              </v-list-item-icon>\r\n\r\n              <v-list-item-content>\r\n                <v-list-item-title>{{ error }}</v-list-item-title>\r\n              </v-list-item-content>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-card>\r\n        <v-row>\r\n          <v-col>\r\n            <h1>Muuta määrityksiä</h1>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col>\r\n            <p class=\"white--text\">Kilpailun perustiedot</p>\r\n            <p\r\n              v-if=\"basic_info_validated\"\r\n              class=\"flow-text yellow lighten-1 center-align\"\r\n            >\r\n              Tiedot lukittuna, paina \"Muuta tietoja\" jos haluat varmasti\r\n              muokata tietoja\r\n            </p>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-if=\"!loading\">\r\n          <v-col cols=\"12\">\r\n            <v-row v-if=\"competition\" justify=\"center\">\r\n              <v-col cols=\"6\" class=\"input-fields\">\r\n                <v-text-field\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  label=\"Kilpailun nimi\"\r\n                  v-model=\"name\"\r\n                  :maxlength=\"max_input\"\r\n                  :disabled=\"basic_info_validated\"\r\n                  :rules=\"rules\"\r\n                  :counter=\"max_input\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row v-if=\"competition\" justify=\"center\">\r\n              <v-col cols=\"6\" class=\"input-fields\">\r\n                <v-text-field\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  label=\"Paikkakunta\"\r\n                  v-model=\"locality\"\r\n                  :maxlength=\"max_input\"\r\n                  :disabled=\"basic_info_validated\"\r\n                  :rules=\"rules\"\r\n                  :counter=\"max_input\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row v-if=\"loading_cups\">\r\n              <v-col>\r\n                <h2 class=\"white--text\">Haetaan cuppeja...</h2>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"!cups\">\r\n              <v-col>\r\n                <h2\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Cuppeja ei löytynyt...\r\n                </h2>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"!competition.cup_name\">\r\n              <v-col>\r\n                <h2\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Kilpailusta ei löytynyt cuppia...\r\n                </h2>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else align=\"center\" justify=\"center\">\r\n              <v-col cols=\"6\" class=\"input-fields\">\r\n                <v-subheader class=\"white--text\"> Valitse Cup </v-subheader>\r\n                <v-select\r\n                  label=\"Valitse Cup\"\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  v-model=\"cup\"\r\n                  :items=\"cups\"\r\n                  item-text=\"select\"\r\n                  item-value=\"_id\"\r\n                  :hint=\"`${cup.name} (${cup.year})`\"\r\n                  :disabled=\"basic_info_validated\"\r\n                  outlined\r\n                  return-object\r\n                  single-line\r\n                ></v-select>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"competition\" justify=\"center\">\r\n              <v-col cols=\"6\">\r\n                <h2 class=\"white--text\">Kilpailun sijoittumispisteet</h2>\r\n                <v-list\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  elevation=\"20\"\r\n                  outlined\r\n                  style=\"max-height: 400px; overflow-y: auto\"\r\n                >\r\n                  <div\r\n                    v-for=\"(p, index) in placement_points_array\"\r\n                    :key=\"index\"\r\n                    style=\"margin-top: 20px\"\r\n                  >\r\n                    <v-list-item>\r\n                      <v-row align=\"center\">\r\n                        <v-col>\r\n                          <h3>#{{ p.placement }}</h3>\r\n                        </v-col>\r\n                        <v-col>\r\n                          <v-text-field\r\n                            :dark=\"$store.getters.getTheme\"\r\n                            label=\"Pisteet\"\r\n                            v-model=\"p.points\"\r\n                            :rules=\"number_rules\"\r\n                            :disabled=\"basic_info_validated || !editPoints\"\r\n                            @blur=\"sortPlacements\"\r\n                          />\r\n                        </v-col>\r\n                        <v-col v-if=\"editPoints\"\r\n                          ><v-btn @click=\"removePlacement(index)\" color=\"red\">\r\n                            <v-icon>mdi-delete</v-icon>\r\n                          </v-btn>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-list-item>\r\n                    <v-divider></v-divider>\r\n                  </div>\r\n                </v-list>\r\n                <v-row v-if=\"editPoints\">\r\n                  <v-col>\r\n                    <v-btn color=\"green\" @click=\"addPlacement\"\r\n                      ><v-icon>mdi-plus</v-icon>Lisää pistesija</v-btn\r\n                    >\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col v-if=\"editPoints\">\r\n                    <v-btn\r\n                      block\r\n                      color=\"yellow\"\r\n                      class=\"black--text\"\r\n                      @click=\"cancelPoints\"\r\n                      ><v-icon>mdi-cancel</v-icon>Peruuta</v-btn\r\n                    >\r\n                  </v-col>\r\n                  <v-col>\r\n                    <v-btn\r\n                      block\r\n                      :color=\"editPoints ? 'green darken-2' : 'grey'\"\r\n                      @click=\"confirmPoints\"\r\n                      :disabled=\"basic_info_validated\"\r\n                      ><v-icon>mdi-check</v-icon\r\n                      >{{ editPoints ? \"Valmis\" : \"Muokkaa\" }}</v-btn\r\n                    >\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n              <v-col cols=\"2\" v-if=\"editPoints\">\r\n                <div style=\"margin-top: 200px\">\r\n                  <p\r\n                    class=\"center-align flow-text\"\r\n                    v-bind:class=\"{\r\n                      'white--text': $store.getters.getTheme,\r\n                    }\"\r\n                  >\r\n                    Palauta alkuperäiset pisteet:<br />#1 = 30, #2 = 28, #3 =\r\n                    26...\r\n                  </p>\r\n                  <v-btn color=\"red\" @click=\"resetPoints\">Palauta</v-btn>\r\n                </div>\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row v-if=\"competition\" justify=\"center\">\r\n              <v-col cols=\"6\" class=\"input-fields\">\r\n                <v-text-field\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  label=\"Kilpailun cup osallistumispisteet\"\r\n                  v-model=\"cup_participation_points\"\r\n                  append-outer-icon=\"add\"\r\n                  maxlength=\"6\"\r\n                  @click:append-outer=\"\r\n                    cup_participation_points >= 0\r\n                      ? cup_participation_points++\r\n                      : (cup_participation_points = 1)\r\n                  \"\r\n                  prepend-icon=\"remove\"\r\n                  @click:prepend=\"\r\n                    cup_participation_points >= 1\r\n                      ? cup_participation_points--\r\n                      : (cup_participation_points = 0)\r\n                  \"\r\n                  @paste.prevent\r\n                  :counter=\"6\"\r\n                  @keypress=\"isNumber($event, true)\"\r\n                  :rules=\"number_rules\"\r\n                  :disabled=\"basic_info_validated\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row v-if=\"competition\" justify=\"center\">\r\n              <v-col cols=\"6\" class=\"input-fields\">\r\n                <v-text-field\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  label=\"Cup pistekerroin\"\r\n                  v-model=\"cup_points_multiplier\"\r\n                  append-outer-icon=\"add\"\r\n                  maxlength=\"3\"\r\n                  @click:append-outer=\"\r\n                    cup_points_multiplier >= 1\r\n                      ? (cup_points_multiplier += 0.5)\r\n                      : (cup_points_multiplier = 1)\r\n                  \"\r\n                  prepend-icon=\"remove\"\r\n                  @click:prepend=\"\r\n                    cup_points_multiplier >= 1.5\r\n                      ? (cup_points_multiplier -= 0.5)\r\n                      : (cup_points_multiplier = 1)\r\n                  \"\r\n                  @paste.prevent\r\n                  :counter=\"3\"\r\n                  @keypress=\"isNumber($event, true)\"\r\n                  :rules=\"number_rules\"\r\n                  :disabled=\"basic_info_validated\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row v-if=\"competition\" justify=\"center\" align=\"center\">\r\n              <v-col cols=\"6\" class=\"input-fields\">\r\n                <span class=\"white--text\">Onko Tiimikilpailua?</span>\r\n                <v-row justify=\"center\" align=\"center\">\r\n                  <v-spacer></v-spacer>\r\n                  <v-col>\r\n                    <v-radio-group\r\n                      :dark=\"$store.getters.getTheme\"\r\n                      v-model=\"team_competition\"\r\n                      row\r\n                      :disabled=\"basic_info_validated\"\r\n                    >\r\n                      <v-radio label=\"Kyllä\" value=\"Kyllä\"></v-radio>\r\n                      <v-radio label=\"Ei\" value=\"Ei\"></v-radio>\r\n                    </v-radio-group>\r\n                  </v-col>\r\n                  <v-spacer></v-spacer>\r\n                </v-row>\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row\r\n              v-if=\"competition\"\r\n              style=\"padding: 20px; margin-bottom: 50px\"\r\n              justify=\"center\"\r\n              align=\"center\"\r\n            >\r\n              <v-col cols=\"12\" xl=\"6\" l=\"6\" md=\"6\" s=\"10\" xs=\"12\">\r\n                <span class=\"white--text\">Kilpailun Aloituspäivä</span>\r\n\r\n                <v-date-picker\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  style=\"height: 480px\"\r\n                  v-model=\"start_date\"\r\n                  full-width\r\n                  elevation=\"15\"\r\n                  locale=\"fi\"\r\n                  class=\"mt-4\"\r\n                  first-day-of-week=\"1\"\r\n                  :disabled=\"basic_info_validated\"\r\n                ></v-date-picker>\r\n              </v-col>\r\n              <v-col cols=\"12\" xl=\"6\" l=\"6\" md=\"6\" s=\"10\" xs=\"12\">\r\n                <span class=\"white--text\">Kilpailun Lopetuspäivä</span>\r\n\r\n                <v-date-picker\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  style=\"height: 480px\"\r\n                  v-model=\"end_date\"\r\n                  full-width\r\n                  elevation=\"15\"\r\n                  locale=\"fi\"\r\n                  class=\"mt-4\"\r\n                  first-day-of-week=\"1\"\r\n                  :disabled=\"basic_info_validated\"\r\n                ></v-date-picker>\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row\r\n              v-if=\"competition\"\r\n              style=\"padding: 20px; margin-bottom: 50px\"\r\n              justify=\"center\"\r\n              align=\"center\"\r\n            >\r\n              <v-col cols=\"12\" xl=\"6\" l=\"6\" md=\"6\" s=\"10\" xs=\"12\">\r\n                <span class=\"white--text\">Kilpailun alkamismisaika</span>\r\n\r\n                <v-time-picker\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  v-model=\"start_time\"\r\n                  format=\"24hr\"\r\n                  full-width\r\n                  scrollable\r\n                  elevation=\"15\"\r\n                  :disabled=\"basic_info_validated\"\r\n                ></v-time-picker>\r\n              </v-col>\r\n              <v-col cols=\"12\" xl=\"6\" l=\"6\" md=\"6\" s=\"10\" xs=\"12\">\r\n                <span class=\"white--text\">Kilpailun loppumisaika</span>\r\n\r\n                <v-time-picker\r\n                  :dark=\"$store.getters.getTheme\"\r\n                  v-model=\"end_time\"\r\n                  format=\"24hr\"\r\n                  full-width\r\n                  scrollable\r\n                  elevation=\"15\"\r\n                  :disabled=\"basic_info_validated\"\r\n                ></v-time-picker>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row class=\"fishes_summary\" justify=\"center\" align=\"center\">\r\n              <v-col cols=\"12\" xl=\"8\" l=\"8\" md=\"10\" s=\"10\" xs=\"12\">\r\n                <table class=\"highlight centered responsive-table table_header\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Kalalaji</th>\r\n                      <th>Pistekerroin</th>\r\n                      <th>Alamitta</th>\r\n                      <th v-if=\"!basic_info_validated\">Poista?</th>\r\n                    </tr>\r\n                  </thead>\r\n\r\n                  <!-- for every fish in this.fish_specs, show info for that fish -->\r\n                  <draggable v-model=\"inputs\" tag=\"tbody\">\r\n                    <tr v-for=\"(input, index) in inputs\" :key=\"index\">\r\n                      <th style=\"border: 1px solid black\" scope=\"row\">\r\n                        <v-text-field\r\n                          :dark=\"$store.getters.getTheme\"\r\n                          label=\"Nimi\"\r\n                          v-model=\"input.name\"\r\n                          :disabled=\"basic_info_validated\"\r\n                          :rules=\"rules\"\r\n                          :counter=\"max_input\"\r\n                        />\r\n                      </th>\r\n                      <td style=\"border: 1px solid black\">\r\n                        <v-text-field\r\n                          :dark=\"$store.getters.getTheme\"\r\n                          label=\"Kerroin\"\r\n                          v-model=\"input.multiplier\"\r\n                          maxlength=\"4\"\r\n                          append-outer-icon=\"add\"\r\n                          @click:append-outer=\"\r\n                            parseInt(input.multiplier) >= 1\r\n                              ? (input.multiplier += 0.5)\r\n                              : (input.multiplier = 1)\r\n                          \"\r\n                          prepend-icon=\"remove\"\r\n                          @click:prepend=\"\r\n                            input.multiplier >= 1.5\r\n                              ? (input.multiplier -= 0.5)\r\n                              : (input.multiplier = 1)\r\n                          \"\r\n                          @paste.prevent\r\n                          :counter=\"3\"\r\n                          @keypress=\"isNumber($event, true)\"\r\n                          :rules=\"number_rules\"\r\n                          :disabled=\"basic_info_validated\"\r\n                        />\r\n                      </td>\r\n                      <td style=\"border: 1px solid black\">\r\n                        <v-text-field\r\n                          :dark=\"$store.getters.getTheme\"\r\n                          label=\"Alamitta (cm)\"\r\n                          v-model=\"input.minsize\"\r\n                          :maxlength=\"40\"\r\n                          :disabled=\"basic_info_validated\"\r\n                          :rules=\"rules\"\r\n                          :counter=\"40\"\r\n                        />\r\n                      </td>\r\n                      <td\r\n                        style=\"border: 1px solid black\"\r\n                        v-if=\"!basic_info_validated\"\r\n                      >\r\n                        <v-btn\r\n                          icon\r\n                          color=\"red darken-4\"\r\n                          class=\"white--text\"\r\n                          :disabled=\"basic_info_validated\"\r\n                          @click=\"deleteFish(index, input.original_name, false)\"\r\n                          ><v-icon>mdi-delete</v-icon></v-btn\r\n                        >\r\n                      </td>\r\n                    </tr>\r\n                  </draggable>\r\n                </table>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"!basic_info_validated\">\r\n              <v-col\r\n                ><b>\r\n                  <p>\r\n                    Siirrä taulukon riviä hiirellä muuttaaksesi paikkaa\r\n                    taulukossa\r\n                  </p></b\r\n                ></v-col\r\n              >\r\n            </v-row>\r\n            <v-row v-if=\"!basic_info_validated\">\r\n              <v-col>\r\n                <v-btn\r\n                  large\r\n                  color=\"green darken-4\"\r\n                  class=\"white--text\"\r\n                  @click=\"addInput\"\r\n                  ><v-icon color=\"green lighten-2\">mdi-plus-circle</v-icon>\r\n                  Lisää kala</v-btn\r\n                >\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-row v-if=\"!basic_info_validated\" style=\"margin-bottom: 20px\">\r\n              <v-col md=\"6\" v-if=\"competition\">\r\n                <v-btn\r\n                  large\r\n                  color=\"yellow\"\r\n                  class=\"black--text\"\r\n                  @click=\"setOriginalValues\"\r\n                  ><v-icon color=\"red darken-2\">mdi-cancel</v-icon> Peruuta\r\n                  muutokset</v-btn\r\n                >\r\n              </v-col>\r\n              <v-col md=\"6\" v-if=\"competition\">\r\n                <v-btn large color=\"green\" @click=\"checkBasicInformation\"\r\n                  ><v-icon color=\"green darken-4\">mdi-check-outline</v-icon>\r\n                  Tallenna muutokset</v-btn\r\n                >\r\n              </v-col>\r\n            </v-row>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n\r\n      <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\r\n        {{ text }}\r\n\r\n        <template v-slot:action=\"{ attrs }\">\r\n          <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"snackbar = false\">\r\n            Close\r\n          </v-btn>\r\n        </template>\r\n      </v-snackbar>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n<script>\r\n\"use strict\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport CupService from \"../CupService\";\r\nimport ProgressBarQuery from \"../components/layout/ProgressBarQuery\";\r\nimport Timedate from \"@/components/layout/Timedate\";\r\nimport CompetitionNavigation from \"../components/layout/CompetitionNavigation.vue\";\r\nimport constants from \"@/constants\";\r\nimport draggable from \"vuedraggable\";\r\n\r\nexport default {\r\n  name: \"CompSettings\",\r\n  components: {\r\n    ProgressBarQuery,\r\n    Timedate,\r\n    CompetitionNavigation,\r\n    draggable,\r\n  },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      errors: [],\r\n      cups: [],\r\n      cup: {},\r\n      competition: null,\r\n      name: null,\r\n      locality: null,\r\n      cup_participation_points: null,\r\n      cup_points_multiplier: null,\r\n      team_competition: null,\r\n      fish_specs: null,\r\n      start_date: null,\r\n      end_date: null,\r\n      formatted_start_date: null,\r\n      formatted_end_date: null,\r\n      start_time: null,\r\n      end_time: null,\r\n      loading: false,\r\n      loadingMessage: \"Haetaan määrityksiä...\",\r\n      loading_cups: false,\r\n      updating: false,\r\n      tab: null,\r\n      basic_info_validated: true,\r\n      inputs: [],\r\n      rules: [\r\n        (value) => !!value || \"Kenttä ei voi jäädä tyhjäksi!\",\r\n        (value) =>\r\n          (value || \"\").length <= this.max_input || \"Enintään 40 merkkiä\",\r\n      ],\r\n      number_rules: [\r\n        (value) => !!value || \"Kenttä ei voi jäädä tyhjäksi!\",\r\n        (value) => !isNaN(value || \"\") || \"Ei ole numero!\",\r\n        (value) => (value || \"\") >= 0 || \"Numeron pitää olla positiivinen!\",\r\n      ],\r\n      max_input: 40,\r\n      placement_points_array: [],\r\n      temp_placement_points_array: [],\r\n      selectedItem: 1,\r\n      items: [\r\n        {\r\n          text: \"Yleisnäkymä\",\r\n          icon: \"mdi-desktop-mac-dashboard\",\r\n          path: \"/overview\",\r\n        },\r\n        {\r\n          text: \"Määritykset\",\r\n          icon: \"mdi-tune\",\r\n          path: \"/comp-settings\",\r\n        },\r\n        {\r\n          text: \"Ilmoittautuminen\",\r\n          icon: \"mdi-draw\",\r\n          path: \"/signing\",\r\n        },\r\n        {\r\n          text: \"Punnitus\",\r\n          icon: \"mdi-dumbbell\",\r\n          path: \"/weighting\",\r\n        },\r\n        {\r\n          text: \"Tulokset\",\r\n          icon: \"mdi-seal\",\r\n          path: \"/results\",\r\n        },\r\n      ],\r\n      snackbar: false,\r\n      text: \"\",\r\n      timeout: 5000,\r\n      editPoints: false,\r\n    };\r\n  },\r\n  created() {\r\n    if (localStorage.getItem(\"competition\") != null) {\r\n      const competition = JSON.parse(localStorage.getItem(\"competition\"));\r\n      const competition_id = competition[\"id\"];\r\n      this.refreshCompetition(competition_id);\r\n    } else {\r\n      console.log(\"No competition in localstorage!\");\r\n    }\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n    this.placement_points_array = JSON.parse(\r\n      JSON.stringify(constants.placement_points)\r\n    );\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    addPlacement() {\r\n      const lastItem =\r\n        this.placement_points_array[this.placement_points_array.length - 1];\r\n      this.placement_points_array.push({\r\n        points: lastItem.points > 1 ? lastItem.points - 1 : 1,\r\n        placement: lastItem.placement + 1,\r\n      });\r\n    },\r\n    removePlacement(index) {\r\n      this.placement_points_array.splice(index, 1);\r\n    },\r\n    sortPlacements() {\r\n      this.placement_points_array.sort((a, b) => b.points - a.points);\r\n      this.savePlacements();\r\n    },\r\n    savePlacements() {\r\n      this.placement_points_array.forEach((p, index) => {\r\n        p.placement = index + 1;\r\n      });\r\n    },\r\n    cancelPoints() {\r\n      this.editPoints = !this.editPoints;\r\n      this.placement_points_array = JSON.parse(\r\n        JSON.stringify(this.temp_placement_points_array)\r\n      );\r\n    },\r\n    confirmPoints() {\r\n      this.savePlacements();\r\n      this.editPoints = !this.editPoints;\r\n      this.temp_placement_points_array = JSON.parse(\r\n        JSON.stringify(this.placement_points_array)\r\n      );\r\n    },\r\n    resetPoints() {\r\n      this.placement_points_array = JSON.parse(\r\n        JSON.stringify(constants.placement_points)\r\n      );\r\n      this.editPoints = !this.editPoints;\r\n    },\r\n    changePage(route) {\r\n      if (this.$router.currentRoute.path !== route) {\r\n        this.$router.push(route);\r\n        this.drawer = !this.drawer;\r\n      } else {\r\n        this.text = \"Olet jo tällä sivulla!\";\r\n        this.snackbar = true;\r\n      }\r\n    },\r\n    async publishCompetition(isPublic) {\r\n      this.competition.isPublic = !isPublic;\r\n      const newvalues = {\r\n        $set: { isPublic: this.competition.isPublic },\r\n      };\r\n      this.updateToDatabase(this.competition, newvalues);\r\n    },\r\n    async endCompetition(isFinished) {\r\n      this.competition.isFinished = !isFinished;\r\n      this.competition.isFinished\r\n        ? (this.competition.state = \"Päättynyt\")\r\n        : (this.competition.state = \"Kesken\");\r\n\r\n      const newvalues = {\r\n        $set: { isFinished: this.competition.isFinished },\r\n      };\r\n      this.updateToDatabase(this.competition, newvalues);\r\n    },\r\n    async updateToDatabase(competition, newvalues) {\r\n      try {\r\n        this.$store.commit(\"refreshCompetition\", competition);\r\n        this.updating = true;\r\n        await CompetitionService.updateValues(this.competition._id, newvalues);\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n      this.updating = false;\r\n    },\r\n    async getCups() {\r\n      this.loading_cups = true;\r\n      const user = JSON.parse(localStorage.getItem(\"user\"));\r\n      const user_id = user[\"_id\"];\r\n      // Get Cups\r\n      try {\r\n        this.cups = await CupService.getCups({\r\n          user_id: user_id,\r\n        });\r\n        if (this.cups.length) {\r\n          this.cups.sort(function compare(a, b) {\r\n            return a.name - b.name;\r\n          });\r\n          this.cups.forEach((cup) => {\r\n            cup.select = `${cup.name} (${cup.year})`;\r\n          });\r\n          let temp_cup = this.cups.find((cup) => {\r\n            return this.competition.cup_id === cup.id;\r\n          });\r\n          if (temp_cup) {\r\n            this.cup = temp_cup;\r\n          } else {\r\n            console.log(\"No cup found on competition!\");\r\n          }\r\n        }\r\n      } catch (err) {\r\n        this.error = err.message;\r\n      }\r\n      this.loading_cups = false;\r\n    },\r\n    // Update competition data from database\r\n    async refreshCompetition(competition_id) {\r\n      this.loadingMessage = \"Haetaan määrityksiä...\";\r\n      this.loading = true;\r\n      this.inputs = [];\r\n      try {\r\n        //Get competition from database (check 'client\\src\\CompetitionService.js' and 'server\\routes\\api\\competition.js' to see how this works)\r\n        let competition = await CompetitionService.getCompetitions({\r\n          _id: competition_id,\r\n        });\r\n        // IF competition found from database\r\n        if (competition) {\r\n          // Returns an array, get first result (there shouldn't be more than one in any case, since id's are unique)\r\n          //TODO make a test for this?\r\n          this.competition = competition;\r\n          this.placement_points_array = [\r\n            ...this.competition.cup_placement_points_array,\r\n          ];\r\n          // Update to vuex, Assing variables from vuex (see client/store/index.js)\r\n          this.$store.commit(\"refreshCompetition\", competition);\r\n          this.fish_specs = this.$store.getters.getCompetitionFishes;\r\n          let temp_start_date = this.$moment(this.competition.start_date);\r\n          let temp_end_date = this.$moment(this.competition.end_date);\r\n          this.formatted_start_date = `${temp_start_date.date()}.${\r\n            temp_start_date.month() + 1\r\n          }.${temp_start_date.year()}`;\r\n          this.formatted_end_date = `${temp_end_date.date()}.${\r\n            temp_end_date.month() + 1\r\n          }.${temp_end_date.year()}`;\r\n          this.setOriginalValues();\r\n          if (!this.cups.length) {\r\n            this.getCups();\r\n          }\r\n        } else {\r\n          console.log(\"No competition found on database...\");\r\n        }\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n      this.loading = false;\r\n    },\r\n    //filter other characters out for number inputs\r\n    isNumber: function (evt, isDate) {\r\n      var charToCheckCode = 46; // --> .\r\n      var charToCheck = \".\";\r\n\r\n      if (!isDate) {\r\n        charToCheckCode = 58; // --> :\r\n        charToCheck = \":\";\r\n      }\r\n\r\n      evt = evt ? evt : window.event;\r\n      var charCode = evt.which ? evt.which : evt.keyCode;\r\n      if (\r\n        charCode > 31 &&\r\n        (charCode < 48 || charCode > 57) &&\r\n        charCode !== charToCheckCode\r\n      ) {\r\n        evt.preventDefault();\r\n      } else {\r\n        if (charCode == charToCheckCode) {\r\n          if (evt.target.value.indexOf(charToCheck) >= 0) {\r\n            evt.preventDefault();\r\n          } else {\r\n            return true;\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    },\r\n    addInput() {\r\n      this.inputs.push({\r\n        index: this.inputs.length,\r\n        name: \"\",\r\n        multiplier: 1,\r\n        minsize: \"0\",\r\n        weights: 0,\r\n        color: this.generateRandomColor(),\r\n      });\r\n    },\r\n    deleteFish: function (index, fish_name, confirmed) {\r\n      if (confirmed) {\r\n        try {\r\n          this.inputs.splice(index, 1);\r\n          this.competition.signees.forEach((signee) => {\r\n            if (signee.weights.length) {\r\n              let signee_index = signee.weights.findIndex((fish) => {\r\n                return fish.name === fish_name;\r\n              });\r\n              if (signee_index > -1) {\r\n                // Replace\r\n                signee.weights.splice(signee_index, 1);\r\n              }\r\n            }\r\n          });\r\n        } catch (err) {\r\n          console.error = err.message;\r\n        }\r\n      } else {\r\n        // demos for this -->  https://constkhi.github.io/vue-simple-alert/\r\n        this.$confirm(\"Oletko varma?\", \"Poista kala\", \"question\")\r\n          .then((r) => {\r\n            if (r) {\r\n              this.deleteFish(index, fish_name, r);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            if (error) {\r\n              console.error(error);\r\n            }\r\n          });\r\n      }\r\n    },\r\n    setOriginalValues() {\r\n      this.inputs = [];\r\n      this.fish_specs.forEach((fish, index) => {\r\n        this.inputs.push({\r\n          index: index,\r\n          name: fish.name,\r\n          multiplier: parseInt(fish.multiplier),\r\n          minsize: fish.minsize,\r\n          weights: parseInt(fish.weights),\r\n          color: fish.color,\r\n          original_name: fish.name,\r\n          original_multiplier: parseInt(fish.multiplier),\r\n          original_minsize: fish.minsize,\r\n        });\r\n      });\r\n      this.name = this.competition.name;\r\n      this.locality = this.competition.locality;\r\n      this.cup_participation_points = this.competition.cup_participation_points;\r\n      this.cup_points_multiplier = this.competition.cup_points_multiplier;\r\n      this.team_competition = this.competition.team_competition\r\n        ? \"Kyllä\"\r\n        : \"Ei\";\r\n      this.start_date = new Date(this.competition.start_date)\r\n        .toISOString()\r\n        .substr(0, 10);\r\n      this.end_date = new Date(this.competition.end_date)\r\n        .toISOString()\r\n        .substr(0, 10);\r\n      this.start_time = this.competition.start_time;\r\n      this.end_time = this.competition.end_time;\r\n      this.basic_info_validated = true;\r\n    },\r\n    // Generate random colors for the fish chart in Result.vue (since adding fishes is dynamic)\r\n    //TODO look for 8-15 good colors to add/choose from, maybe with color picker next to fish name\r\n    generateRandomColor: function () {\r\n      var randomColor = \"#\" + Math.floor(Math.random() * 16777215).toString(16);\r\n      return randomColor;\r\n    },\r\n    // Add error to error array and direct user to it\r\n    showError: function (error) {\r\n      this.errors.push(error);\r\n      location.href = \"#\";\r\n      location.href = \"#app\";\r\n    },\r\n    // Check competitions basic information (Perustiedot)\r\n    checkBasicInformation() {\r\n      this.loadingMessage = \"Päivitetään tietoja...\";\r\n      this.errors = [];\r\n      this.basic_info_validated = false;\r\n      this.validated = false;\r\n      // Check if the given dates and times are valid with moment\r\n      var isDateValid = this.$moment(\r\n        this.start_date,\r\n        \"YYYY-M-D\",\r\n        true\r\n      ).isValid();\r\n\r\n      var isEndDateValid = this.$moment(\r\n        this.end_date,\r\n        \"YYYY-M-D\",\r\n        true\r\n      ).isValid();\r\n\r\n      var isStartTimeValid = this.$moment(\r\n        this.start_time,\r\n        \"H:mm\",\r\n        true\r\n      ).isValid();\r\n\r\n      var isEndTimeValid = this.$moment(this.end_time, \"H:mm\", true).isValid();\r\n\r\n      // Check other variables\r\n      if (!this.name) {\r\n        this.showError(\"Kilpailun nimi puuttuu!\");\r\n      }\r\n\r\n      // Check other variables\r\n      if (!this.locality) {\r\n        this.showError(\"Kilpailun paikkakunta puuttuu!\");\r\n      }\r\n\r\n      if (!this.cup.id) {\r\n        this.showError(\"Cuppia ei valittuna!\");\r\n      }\r\n      if (!this.placement_points_array.length) {\r\n        this.showError(\"Lisää osallistumispisteet kiljailijoille\");\r\n      }\r\n      if (!this.cup_participation_points) {\r\n        this.showError(\"Määritä kilpailun Cup osallistumispisteet!\");\r\n      }\r\n      if (!this.cup_points_multiplier) {\r\n        this.showError(\"Kilpailun pistekerroin puuttuu!\");\r\n      }\r\n      if (this.cup_points_multiplier < 0.1) {\r\n        this.showError(\"Kilpailun pistekerroin pitää olla vähintään 0.1!\");\r\n      }\r\n      if (!this.start_time || !isStartTimeValid) {\r\n        !this.start_time == true\r\n          ? this.showError(\"Kilpailun alkamisnaika puuttuu!\")\r\n          : this.showError(\r\n              'Syötä aika muodossa \"hh:mm\" (esim: 13:00). Syötetty aika oli: ' +\r\n                this.start_time\r\n            );\r\n      }\r\n      if (!this.end_time || !isEndTimeValid) {\r\n        !this.end_time == true\r\n          ? this.showError(\"Kilpailun loppumisaika puuttuu!\")\r\n          : this.showError(\r\n              'Syötä aika muodossa \"hh:mm\" (esim: 13:00). Syötetty aika oli: ' +\r\n                this.end_time\r\n            );\r\n      }\r\n      if (!this.start_date || !isDateValid) {\r\n        !this.start_date == true\r\n          ? this.showError(\"Päivämäärää ei ole valittu!\")\r\n          : this.showError(\r\n              'Syötä päivämäärä muodossa \"PP.KK.VVVV (esim: 06.02.2020)'\r\n            );\r\n      }\r\n      if (!this.end_date || !isEndDateValid) {\r\n        !this.end_date == true\r\n          ? this.showError(\"Päivämäärää ei ole valittu!\")\r\n          : this.showError(\r\n              'Syötä päivämäärä muodossa \"PP.KK.VVVV (esim: 06.02.2020)'\r\n            );\r\n      } else {\r\n        let temp_start = this.$moment(this.start_date).format(\"DD.MM.YYYY\");\r\n        let temp_end = this.$moment(this.end_date).format(\"DD.MM.YYYY\");\r\n        // If dates are valid, check that start_date is before end_date\r\n        let start_date = this.$moment(\r\n          `${temp_start} ${this.start_time}`,\r\n          \"DD.MM.YYYY HH:mm\"\r\n        );\r\n        let end_date = this.$moment(\r\n          `${temp_end} ${this.end_time}`,\r\n          \"DD.MM.YYYY HH:mm\"\r\n        );\r\n\r\n        if (end_date.isBefore(start_date, \"minutes\")) {\r\n          this.showError(\r\n            \"Kilpailun päättymispäivämäärä ja kellonaika ei voi olla ennen alkamispäivämäärää!\"\r\n          );\r\n        }\r\n      }\r\n\r\n      // Check all the inputs\r\n      this.inputs.forEach((input) => {\r\n        if (!input.name) {\r\n          this.showError(\"Kalan nimi on jäänyt tyhjäksi!\");\r\n        }\r\n        if (!input.multiplier) {\r\n          this.showError(\r\n            `${\r\n              input.name ? input.name : \"Kalan\"\r\n            } kerroin on jäänyt tyhjäksi tai on alle yhden!`\r\n          );\r\n        }\r\n        if (!input.minsize) {\r\n          this.showError(\r\n            `${input.name ? input.name : \"Kalan\"} alamitta on jäänyt tyhjäksi!`\r\n          );\r\n        }\r\n      });\r\n\r\n      // If all inputs validated\r\n      if (!this.errors.length) {\r\n        let temp_start = this.$moment(this.start_date).format(\"DD.MM.YYYY\");\r\n        let temp_end = this.$moment(this.end_date).format(\"DD.MM.YYYY\");\r\n        let start_date = this.$moment(\r\n          `${temp_start} ${this.start_time}`,\r\n          \"DD.MM.YYYY HH:mm\"\r\n        );\r\n        let end_date = this.$moment(\r\n          `${temp_end} ${this.end_time}`,\r\n          \"DD.MM.YYYY HH:mm\"\r\n        );\r\n\r\n        // Basic info, change all the competition variables with values from inputs\r\n        this.competition.cup_id = this.cup.id;\r\n        this.competition.cup_name = this.cup.name;\r\n        this.competition.name = this.name;\r\n        this.competition.locality = this.locality;\r\n        this.competition.cup_participation_points = Number(\r\n          this.cup_participation_points\r\n        );\r\n\r\n        let temp_placement_points = [];\r\n        // IF the multiplier has been changed, and is different from 1, calculate new points, else just use template array\r\n        if (\r\n          this.competition.cup_points_multiplier !==\r\n            this.cup_points_multiplier &&\r\n          this.cup_points_multiplier !== 1.0\r\n        ) {\r\n          let temp_placement = 1;\r\n          this.placement_points_array.forEach((placement_point) => {\r\n            temp_placement_points.push({\r\n              placement: temp_placement,\r\n              points: placement_point.points * this.cup_points_multiplier,\r\n            });\r\n            temp_placement++;\r\n          });\r\n        } else {\r\n          temp_placement_points = [...this.placement_points_array];\r\n        }\r\n        this.competition.cup_points_multiplier = this.cup_points_multiplier;\r\n        this.competition.cup_placement_points_array = temp_placement_points;\r\n        this.competition.team_competition =\r\n          this.team_competition === \"Ei\" ? false : true;\r\n        this.competition.start_date = start_date;\r\n        this.competition.end_date = end_date;\r\n        this.competition.start_time = this.start_time;\r\n        this.competition.end_time = this.end_time;\r\n\r\n        // Change values for each signee (so that only the changed variables change), if the name/multiplier/minsize has been changed\r\n        this.competition.signees.forEach((signee) => {\r\n          if (signee.weights.length) {\r\n            this.inputs.forEach((input) => {\r\n              // If one of these input values are changed, handle variable changes to database\r\n              if (\r\n                input.name !== input.original_name ||\r\n                input.multiplier !== input.original_multiplier ||\r\n                input.minsize !== input.original_minsize\r\n              ) {\r\n                let index = signee.weights.findIndex((fish) => {\r\n                  return fish.name === input.original_name;\r\n                });\r\n                if (index > -1) {\r\n                  // Replace name, and calculate points in case the multiplier has been changed\r\n                  signee.weights[index].name = input.name;\r\n                  // Remove old points from total points\r\n                  signee.total_points -= signee.weights[index].points;\r\n                  // Calculate new points\r\n                  signee.weights[index].points =\r\n                    signee.weights[index].weights * input.multiplier;\r\n                  // Add new points\r\n                  signee.total_points += signee.weights[index].points;\r\n\r\n                  if (this.competition.normal_weights.length) {\r\n                    // Update signee values on competition.normal_weights\r\n                    let weight_index =\r\n                      this.competition.normal_weights.findIndex((results) => {\r\n                        return (\r\n                          parseInt(results.boat_number) ===\r\n                          parseInt(signee.boat_number)\r\n                        );\r\n                      });\r\n                    if (weight_index > -1) {\r\n                      let normal_weight =\r\n                        this.competition.normal_weights[weight_index];\r\n                      // Assing total_points here too\r\n                      normal_weight.total_points = signee.total_points;\r\n                      // If name has changed, replace old key with new one, so only name changes, not the values apart from total_points\r\n                      if (input.name !== input.original_name) {\r\n                        delete Object.assign(normal_weight, {\r\n                          [input.name]: normal_weight[input.original_name],\r\n                        })[input.original_name];\r\n                      }\r\n                    }\r\n\r\n                    // Update signee values on competition.normal_points\r\n                    let point_index = this.competition.normal_points.findIndex(\r\n                      (results) => {\r\n                        return (\r\n                          parseInt(results.boat_number) ===\r\n                          parseInt(signee.boat_number)\r\n                        );\r\n                      }\r\n                    );\r\n                    if (point_index > -1) {\r\n                      let normal_point =\r\n                        this.competition.normal_points[point_index];\r\n                      // Assing total_points here too, so no need to calculate points again\r\n                      normal_point.total_points = signee.total_points;\r\n                    }\r\n                  }\r\n                }\r\n                // New fish, add to signee.weights\r\n                else {\r\n                  signee.weights.push({\r\n                    name: input.name,\r\n                    weights: 0,\r\n                    points: 0,\r\n                  });\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        this.inputs.forEach((input) => {\r\n          // Change only the key names for each fish for biggest_fishes and biggest_amounts, if the name has been changed\r\n          if (input.name !== input.original_name) {\r\n            if (this.competition.biggest_fishes[input.original_name]) {\r\n              delete Object.assign(this.competition.biggest_fishes, {\r\n                [input.name]:\r\n                  this.competition.biggest_fishes[input.original_name],\r\n              })[input.original_name];\r\n            }\r\n\r\n            if (this.competition.biggest_amounts[input.original_name]) {\r\n              delete Object.assign(this.competition.biggest_amounts, {\r\n                [input.name]:\r\n                  this.competition.biggest_amounts[input.original_name],\r\n              })[input.original_name];\r\n            }\r\n\r\n            // Change the original values to current ones, if the variables gets changed in the future\r\n            input.original_name = input.name;\r\n            input.original_multiplier = input.multiplier;\r\n            input.original_minsize = input.minsize;\r\n          }\r\n        });\r\n        //Update to database, calculate current standings and points in case multipliers have been changed\r\n        this.competition.fishes = this.fish_specs = this.inputs;\r\n        let normal_results = this.calculateNormalResults(this.competition);\r\n        this.competition.normal_points = normal_results.normal_points;\r\n        this.competition.normal_weights = normal_results.normal_weights;\r\n        if (this.competition.team_competition) {\r\n          this.competition.team_results = this.calculateTeamResults();\r\n        }\r\n        this.updateCompetition(this.competition);\r\n        this.basic_info_validated = true;\r\n      }\r\n    },\r\n    // Update competition to database\r\n    async updateCompetition(competition) {\r\n      try {\r\n        this.$store.commit(\"refreshCompetition\", competition);\r\n        this.loading = true;\r\n        await CompetitionService.updateCompetition(\r\n          competition._id,\r\n          competition\r\n        );\r\n        this.tab = \"show-settings\";\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n      this.loading = false;\r\n      this.text =\r\n        \"Tiedot päivitetty tietokantaan, sekä tulokset laskettu uusilla arvoilla!\";\r\n      this.snackbar = true;\r\n    },\r\n    // Delete competition\r\n    async deleteCompetition(id, confirmed) {\r\n      // If user clicked \"OK\" on confirmation box\r\n      if (confirmed) {\r\n        this.text = \"Poistetaan tietokannasta!\";\r\n        this.snackbar = true;\r\n        try {\r\n          //Delete competition from database (check 'client\\src\\CompetitionService.js' and 'server\\routes\\api\\competition.js' to see how this works)\r\n          await CompetitionService.deleteCompetition(id);\r\n          // Competition deleted, remove it from localstorage and vuex\r\n          this.$store.state.competition = null;\r\n          localStorage.removeItem(\"competition\");\r\n          // Redirect to dashboard\r\n          this.$router.push({ path: \"/dashboard\" });\r\n        } catch (err) {\r\n          this.error = err.message;\r\n        }\r\n      } else {\r\n        // demos for this -->  https://constkhi.github.io/vue-simple-alert/\r\n        this.$confirm(\"Oletko varma?\", \"Poista kilpailu\", \"question\")\r\n          .then((r) => {\r\n            if (r) {\r\n              this.deleteCompetition(id, r);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            if (error) {\r\n              console.error(error);\r\n            }\r\n          });\r\n      }\r\n    },\r\n    // \"Normaalikilpailu\" results\r\n    calculateNormalResults(competition) {\r\n      const placement_points = competition.cup_placement_points_array;\r\n      let cup_placement_points = placement_points[0];\r\n      const cup_participation_points = competition.cup_participation_points;\r\n      let last_points = -1;\r\n      let last_placement = -1;\r\n\r\n      let placement = 1;\r\n      let cup_points_total = 0;\r\n      let normal_points = [];\r\n      let normal_weights = [];\r\n      this.signees = competition.signees.filter(\r\n        (signee) => signee.returned == true\r\n      );\r\n      this.signees = this.signees.sort(function compare(a, b) {\r\n        return parseInt(b.total_points) - parseInt(a.total_points);\r\n      });\r\n      // For every signee, calculate their cup points and placing\r\n      //TODO rework the structure, seems more complex than it should be\r\n      // Placements and points now saved in every competition to cup_placement_points_array, based on placement fetch from there?\r\n      this.signees.forEach((signee, index) => {\r\n        // If competitor has same points as last competitor\r\n        if (signee.total_points == last_points) {\r\n          placement = last_placement;\r\n        }\r\n        // If no tie, add tied_competitors to placement, to give correct placement to next not tied competitor\r\n        else {\r\n          placement = index + 1;\r\n          last_points = signee.total_points;\r\n          last_placement = signee.placement;\r\n        }\r\n\r\n        // Find the placement points according to the placement\r\n        let p = placement_points.find((e) => e.placement === placement);\r\n        // If placement isn't found (placement > than provided placements), or points = 0 (no points from competition)\r\n        if (!p || signee.total_points === 0) {\r\n          cup_placement_points = 0;\r\n        } else {\r\n          cup_placement_points = p.points * competition.cup_points_multiplier;\r\n        }\r\n        // Calculate total cup points, cup points multiplier only scales the placement points\r\n        cup_points_total = cup_placement_points + cup_participation_points;\r\n        //For showing cup points, \"Pisteet\" on v-select\r\n        normal_points.push({\r\n          placement: placement,\r\n          boat_number: signee.boat_number,\r\n          captain_name: signee.captain_name,\r\n          temp_captain_name: signee.temp_captain_name,\r\n          locality: signee.locality,\r\n          total_points: signee.total_points.toLocaleString(),\r\n          cup_placement_points: cup_placement_points,\r\n          cup_participation_points: cup_participation_points,\r\n          cup_points_total: cup_points_total,\r\n        });\r\n\r\n        //For showing fish weights, \"Kalat\" on v-select\r\n        let temp_dict = {};\r\n        temp_dict.placement = placement;\r\n        temp_dict.boat_number = signee.boat_number;\r\n        temp_dict.captain_name = signee.captain_name;\r\n\r\n        // For each fish, get the weight and fish name\r\n        signee.weights.forEach((weights) => {\r\n          let name = weights.name;\r\n          let weight = weights.weights;\r\n          temp_dict[name] = weight;\r\n        });\r\n        temp_dict.total_points = signee.total_points;\r\n        normal_weights.push(temp_dict);\r\n        last_points = signee.total_points;\r\n      });\r\n\r\n      let output = {\r\n        normal_points: normal_points,\r\n        normal_weights: normal_weights,\r\n      };\r\n\r\n      return output;\r\n    },\r\n    calculateTeamResults: function () {\r\n      let signees = this.competition.signees;\r\n      var team_names = [];\r\n      let team_results = [];\r\n      // Get all the team names\r\n      signees.forEach((signee) => {\r\n        if (signee.team !== \"-\" && signee.team !== null) {\r\n          team_names.push(signee.team);\r\n        }\r\n      });\r\n      // Only unique ones needed\r\n      team_names = [...new Set(team_names)];\r\n\r\n      // Get all the members of each team and add up their points\r\n      team_names.forEach((team_name) => {\r\n        let team = signees.filter((signee) => signee.team == team_name);\r\n        let team_points = 0;\r\n        let members = [];\r\n\r\n        team.forEach((member) => {\r\n          members.push(member.captain_name);\r\n          team_points += member.total_points;\r\n        });\r\n\r\n        // If there aren't 3 members in a team, add \"-\"'s as members for nicer looking table\r\n        if (members.length === 1) {\r\n          members.push(\"-\");\r\n          members.push(\"-\");\r\n        }\r\n        if (members.length === 2) {\r\n          members.push(\"-\");\r\n        }\r\n        team_results.push({\r\n          name: team_name,\r\n          captain_name_1: members[0],\r\n          captain_name_2: members[1],\r\n          captain_name_3: members[2],\r\n          points: team_points.toLocaleString(),\r\n        });\r\n      });\r\n\r\n      return team_results;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CompSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CompSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CompSettings.vue?vue&type=template&id=1d4218ea&\"\nimport script from \"./CompSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./CompSettings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardTitle,VCol,VContainer,VDatePicker,VDivider,VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemSubtitle,VListItemTitle,VRadio,VRadioGroup,VRow,VSelect,VSnackbar,VSpacer,VSubheader,VTextField,VTimePicker})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',[(_vm.prevRoute)?_c('v-col',[(_vm.prevRoute.name)?_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"yellow\"},on:{\"click\":function($event){return _vm.$router.push({ path: _vm.prevRoute.path })}}},[_c('v-icon',[_vm._v(\"mdi-keyboard-return\")]),_vm._v(\"Palaa takaisin\")],1):_vm._e()],1):_vm._e()],1),_c('v-row',{staticStyle:{\"margin\":\"20px\"}},[_c('v-col',[(_vm.competition)?_c('v-btn',{attrs:{\"rounded\":\"\",\"color\":\"yellow\"},on:{\"click\":function($event){return _vm.$router.push({ path: '/overview' })}}},[_c('v-icon',[_vm._v(\"mdi-keyboard-return\")]),_vm._v(\"Takaisin kilpailuun \")],1):_vm._e()],1)],1),_c('v-container',{class:{\n      mobile: _vm.$vuetify.breakpoint.width < 800,\n      browser: _vm.$vuetify.breakpoint.width >= 800,\n      wide: _vm.$vuetify.breakpoint.width >= 1200,\n    }},[_c('v-card',{staticStyle:{\"background\":\"transparent\"},attrs:{\"elevation\":\"10\",\"outlined\":\"\",\"dark\":_vm.$store.getters.getTheme}},[_c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_vm._v(\" Pdf Asetukset \")]),_c('v-card-text',[_c('v-checkbox',{attrs:{\"label\":\"Pfd Vaakatasossa\"},model:{value:(_vm.isLandscape),callback:function ($$v) {_vm.isLandscape=$$v},expression:\"isLandscape\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"yellow\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Peruuta \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.saveAsPDF(\"Ilmoittautuneet\")}}},[_vm._v(\" Lataa \")])],1)],1)],1),_c('v-row',{attrs:{\"justify\":\"center\",\"align\":\"center\"}},[(_vm.cup)?_c('v-col',[_c('h1',[_vm._v(_vm._s(_vm.cup.name)+\", \"+_vm._s(_vm.cup.year))])]):_c('v-col',[_c('h1',[_vm._v(\"Ladataan...\")])])],1),_c('v-tabs',{attrs:{\"background-color\":\"blue lighten-2\",\"color\":\"blue darken-4\",\"grow\":\"\",\"show-arrows\":\"\",\"next-icon\":\"mdi-arrow-right-bold-box-outline\",\"prev-icon\":\"mdi-arrow-left-bold-box-outline\",\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"blue darken-4\"}}),_c('v-tab',{attrs:{\"href\":\"#overview\"}},[_vm._v(\"Yleisnäkymä\")]),_c('v-tab',{attrs:{\"href\":\"#points\",\"disabled\":!_vm.competitions.length}},[_vm._v(\"Pistetilanne\")]),_c('v-tab',{attrs:{\"href\":\"#stats\",\"disabled\":!_vm.competitions.length}},[_vm._v(\"Tilastoja\")])],1),_c('v-tabs-items',{staticStyle:{\"background\":\"rgba(0, 0, 0, 0.4)\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{attrs:{\"value\":'overview'}},[(_vm.loading)?_c('v-row',[_c('v-col',[_c('h2',{staticClass:\"white--text\"},[_vm._v(\"Valmistellaan Cuppia...\")]),_c('ProgressBarQuery')],1)],1):_c('v-row',[(!_vm.cup)?_c('v-col',[_c('p',{staticClass:\"flow-text\",class:{\n                  'white--text': _vm.$store.getters.getTheme,\n                }},[_vm._v(\" Ei cuppia valittuna \")])]):_vm._e()],1),(_vm.competitions.length)?_c('v-row',{staticStyle:{\"margin-top\":\"50px\"}},[_c('v-col',{attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('v-select',{attrs:{\"dark\":\"\",\"menu-props\":_vm.$store.getters.getTheme ? 'dark' : 'light',\"label\":\"Valitse näytettävät tiedot\",\"outlined\":\"\",\"items\":_vm.select_table},on:{\"input\":_vm.selectTableData},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)],1):_vm._e(),(_vm.allCompetitions.length)?_c('v-row',[_c('v-col',{attrs:{\"md\":\"10\",\"offset-md\":\"1\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('p',{staticClass:\"flow-text\",class:{\n                      'white--text': _vm.$store.getters.getTheme,\n                    }},[_vm._v(\" \"+_vm._s(_vm.selected)+\" \")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Hae taulukosta\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search_comp),callback:function ($$v) {_vm.search_comp=$$v},expression:\"search_comp\"}})],1),_c('v-data-table',{attrs:{\"id\":\"normal-table\",\"headers\":_vm.selected_headers,\"items\":_vm.selected_items,\"search\":_vm.search_comp,\"loading\":_vm.loading || _vm.updating},scopedSlots:_vm._u([{key:\"item.start_date\",fn:function(ref){\n                    var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":\"primary darken-2\"}},[_vm._v(_vm._s(item.start_date.format(\"DD.MM.YYYY\")))])]}},{key:\"item.isFinished\",fn:function(ref){\n                    var item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                    var on = ref.on;\n                    var attrs = ref.attrs;\nreturn [_c('v-chip',_vm._g(_vm._b({attrs:{\"color\":item.isFinished\n                              ? 'green lighten-2'\n                              : 'red lighten-2',\"outlined\":_vm.$store.getters.getTheme,\"disabled\":_vm.updating},on:{\"click\":function($event){return _vm.endCompetition(item)}}},'v-chip',attrs,false),on),[_vm._v(_vm._s(item.isFinished ? \"Kyllä\" : \"Ei\"))])]}}],null,true)},[_c('span',[_vm._v(\"Muuta tila painamalla\")])])]}},{key:\"item.isPublic\",fn:function(ref){\n                              var item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                              var on = ref.on;\n                              var attrs = ref.attrs;\nreturn [_c('v-chip',_vm._g(_vm._b({attrs:{\"outlined\":_vm.$store.getters.getTheme,\"color\":item.isPublic ? 'green darken-2' : 'red darken-2',\"disabled\":_vm.updating},on:{\"click\":function($event){return _vm.publishCompetition(item)}}},'v-chip',attrs,false),on),[_vm._v(_vm._s(item.isPublic ? \"Julkinen\" : \"Salainen\"))])]}}],null,true)},[_c('span',[_vm._v(\"Muuta tila painamalla\")])])]}},{key:\"item.cup_points_multiplier\",fn:function(ref){\n                              var item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":_vm.getMultiplierColor(item.cup_points_multiplier),\"outlined\":_vm.$store.getters.getTheme}},[_vm._v(_vm._s(item.cup_points_multiplier)+\"x\")])]}},{key:\"item.choose\",fn:function(ref){\n                              var item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                              var on = ref.on;\n                              var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary\",\"disabled\":_vm.updating},on:{\"click\":function($event){return _vm.pickCompetition(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"color\":\"black\"}},[_vm._v(\"mdi-arrow-right-bold-box-outline\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Siirry kilpailuun\")])])]}},{key:\"item.modify\",fn:function(ref){\n                              var item = ref.item;\nreturn [_c('v-btn',{attrs:{\"color\":\"yellow darken-2\",\"dark\":_vm.$store.getters.getTheme},on:{\"click\":function($event){$event.stopPropagation();_vm.new_captain_name = item.captain_name;\n                        _vm.new_temp_captain_name = item.temp_captain_name;\n                        _vm.new_locality = item.locality;\n                        _vm.$set(_vm.dialog_signee, item.boat_number, true);}}},[_c('v-icon',{attrs:{\"color\":\"black\"}},[_vm._v(\"mdi-account-edit\")])],1),_c('v-dialog',{key:item.boat_number,attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.dialog_signee[item.boat_number]),callback:function ($$v) {_vm.$set(_vm.dialog_signee, item.boat_number, $$v)},expression:\"dialog_signee[item.boat_number]\"}},[_c('v-card',{attrs:{\"dark\":_vm.$store.getters.getTheme}},[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Muokkaa käyttäjän (Nro \"+_vm._s(item.boat_number)+\") Cup tietoja\")])]),_c('v-card-text',[_c('v-container',{staticStyle:{\"width\":\"70%\"}},[(_vm.errors.length)?_c('div',[_c('ul',{staticClass:\"collection with-header\",staticStyle:{\"border\":\"1px solid red\"}},[_c('li',{staticClass:\"collection-header\",staticStyle:{\"background\":\"rgba(0, 0, 0, 0)\"}},[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Korjaa seuraavat virheet: \")])],1),_vm._l((_vm.errors),function(error,index){return _c('li',{key:index,staticClass:\"collection-item\",attrs:{\"id\":\"error\"}},[_c('p',{staticClass:\"flow-text black--text\"},[_vm._v(\" \"+_vm._s(index + 1)+\". \"+_vm._s(error)+\" \")])])})],2)]):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"10\"}},[_c('v-text-field',{attrs:{\"loading\":_vm.publishing,\"label\":\"Kippari*\",\"maxlength\":\"40\",\"counter\":\"40\",\"required\":\"\"},model:{value:(_vm.new_captain_name),callback:function ($$v) {_vm.new_captain_name=$$v},expression:\"new_captain_name\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"10\"}},[_c('v-text-field',{attrs:{\"loading\":_vm.publishing,\"label\":\"Varakippari\",\"maxlength\":\"40\",\"counter\":\"40\",\"required\":\"\"},model:{value:(_vm.new_temp_captain_name),callback:function ($$v) {_vm.new_temp_captain_name=$$v},expression:\"new_temp_captain_name\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"10\"}},[_c('v-text-field',{attrs:{\"loading\":_vm.publishing,\"label\":\"Paikkakunta*\",\"maxlength\":\"40\",\"counter\":\"40\",\"required\":\"\"},model:{value:(_vm.new_locality),callback:function ($$v) {_vm.new_locality=$$v},expression:\"new_locality\"}})],1)],1),_c('small',[_vm._v(\"*Pakolliset kentät\")])],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"yellow darken-2\",\"outlined\":\"\",\"loading\":_vm.publishing},on:{\"click\":function($event){$event.stopPropagation();return _vm.modifySignee(\n                                item,\n                                _vm.new_captain_name,\n                                _vm.new_temp_captain_name,\n                                _vm.new_locality,\n                                false\n                              )}}},[_vm._v(\"Peruuta\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"green darken-2\",\"outlined\":\"\",\"loading\":_vm.publishing},on:{\"click\":function($event){$event.stopPropagation();return _vm.modifySignee(\n                                item,\n                                _vm.new_captain_name,\n                                _vm.new_temp_captain_name,\n                                _vm.new_locality,\n                                true\n                              )}}},[_vm._v(\"Tallenna\")])],1)],1)],1)]}}],null,true)})],1)],1)],1):_vm._e(),(_vm.competitions.length)?_c('v-row',{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"}},[_c('v-col',[_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"blue lighten-1\",\"loading\":_vm.publishing},on:{\"click\":function($event){return _vm.changePage('/register-comp')}}},[_c('v-icon',[_vm._v(\"mdi-plus-circle\")]),_vm._v(\"Luo uusi kilpailu!\")],1)],1),_c('v-col',[_c('v-btn',{attrs:{\"large\":\"\",\"outlined\":\"\",\"dark\":\"\",\"loading\":_vm.publishing},on:{\"click\":function($event){_vm.dialog = true}}},[_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"mdi-file-pdf-outline\")]),_vm._v(\" Lataa lista kilpailijoista\")],1)],1),_c('v-col',[_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":_vm.cup.isPublic ? 'grey darken-4' : 'green darken-4',\"loading\":_vm.publishing},on:{\"click\":function($event){return _vm.publishCup(_vm.cup.isPublic)}}},[(_vm.cup.isPublic)?_c('div',[_c('v-icon',[_vm._v(\"mdi-incognito\")]),_vm._v(\" Aseta cup salaiseksi \")],1):_c('div',[_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-publish\")]),_vm._v(\" Aseta cup julkiseksi \")],1)])],1)],1):_c('v-row',[(!_vm.loading && !_vm.competitions.length)?_c('v-col',[_c('h2',{staticClass:\"white--text\"},[_vm._v(\"Ei kilpailuja!\")]),_c('router-link',{attrs:{\"to\":\"/register-comp\"}},[_c('v-btn',{attrs:{\"tile\":\"\",\"color\":\"blue lighten-1\"}},[_c('v-icon',[_vm._v(\"mdi-plus-circle\")]),_vm._v(\"Luo kilpailu!\")],1)],1)],1):_vm._e(),(_vm.error)?_c('v-col',[_c('h2',{staticClass:\"error white--text\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")])]):_vm._e(),(_vm.loading)?_c('v-col',[_c('h2',{staticClass:\"white--text\"},[_vm._v(\"Ladataan kilpailuja...\")]),_c('ProgressBarQuery')],1):_vm._e()],1)],1),_c('v-tab-item',{attrs:{\"value\":'points'}},[_c('cup-points',{attrs:{\"competitions\":_vm.competitions,\"allCompetitions\":_vm.allCompetitions,\"results\":_vm.results,\"isResults\":_vm.isResults,\"loading\":_vm.loading,\"selectNumbers\":_vm.selectNumbers,\"headers\":_vm.headers,\"cup\":_vm.cup},on:{\"change\":function (selection) { return _vm.changeHeaders(selection); },\"refresh\":function (cup) { return _vm.refreshCup(cup._id); },\"calculate\":function (selectedCompetitions) { return _vm.calculateAll(_vm.competitions, selectedCompetitions); },\"save\":function (options) {\n                _vm.selectedCompetitions = options.selectedCompetitions;\n                _vm.isLandscape = options.isLandscape;\n                _vm.showInfoInPdf = options.showInfoInPdf;\n                _vm.saveAsPDF(\"Tulokset\");\n              },\"sort\":function (show) {\n                _vm.showUnfinishedCompetitions = show;\n                _vm.sortUnfinished();\n              }}})],1),_c('v-tab-item',{attrs:{\"value\":'stats'}},[_c('cup-stats',{attrs:{\"competitions\":_vm.competitions,\"cup\":_vm.cup,\"loading\":_vm.loading}})],1)],1),_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\n              var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"blue\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- /cup-overview -->\r\n  <!-- html and js autoinjects to App.vue (and therefore on public/index.html) -->\r\n  <div>\r\n    <v-row>\r\n      <v-col v-if=\"prevRoute\">\r\n        <v-btn\r\n          v-if=\"prevRoute.name\"\r\n          large\r\n          rounded\r\n          color=\"yellow\"\r\n          @click=\"$router.push({ path: prevRoute.path })\"\r\n          ><v-icon>mdi-keyboard-return</v-icon>Palaa takaisin</v-btn\r\n        >\r\n      </v-col>\r\n    </v-row>\r\n    <v-row style=\"margin: 20px\">\r\n      <v-col>\r\n        <v-btn\r\n          v-if=\"competition\"\r\n          rounded\r\n          color=\"yellow\"\r\n          @click=\"$router.push({ path: '/overview' })\"\r\n        >\r\n          <v-icon>mdi-keyboard-return</v-icon>Takaisin kilpailuun\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <v-container\r\n      v-bind:class=\"{\r\n        mobile: $vuetify.breakpoint.width < 800,\r\n        browser: $vuetify.breakpoint.width >= 800,\r\n        wide: $vuetify.breakpoint.width >= 1200,\r\n      }\"\r\n    >\r\n      <v-card\r\n        style=\"background: transparent\"\r\n        elevation=\"10\"\r\n        outlined\r\n        :dark=\"$store.getters.getTheme\"\r\n      >\r\n        <v-dialog v-model=\"dialog\" width=\"500\">\r\n          <v-card :dark=\"$store.getters.getTheme\">\r\n            <v-card-title> Pdf Asetukset </v-card-title>\r\n            <v-card-text>\r\n              <v-checkbox\r\n                label=\"Pfd Vaakatasossa\"\r\n                v-model=\"isLandscape\"\r\n              ></v-checkbox>\r\n            </v-card-text>\r\n\r\n            <v-divider></v-divider>\r\n\r\n            <v-card-actions>\r\n              <v-btn color=\"yellow\" text @click=\"dialog = false\">\r\n                Peruuta\r\n              </v-btn>\r\n              <v-spacer></v-spacer>\r\n              <v-btn color=\"primary\" text @click=\"saveAsPDF(`Ilmoittautuneet`)\">\r\n                Lataa\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-dialog>\r\n\r\n        <v-row justify=\"center\" align=\"center\">\r\n          <v-col v-if=\"cup\">\r\n            <h1>{{ cup.name }}, {{ cup.year }}</h1>\r\n          </v-col>\r\n          <v-col v-else><h1>Ladataan...</h1></v-col>\r\n        </v-row>\r\n        <v-tabs\r\n          v-model=\"tab\"\r\n          background-color=\"blue lighten-2\"\r\n          color=\"blue darken-4\"\r\n          grow\r\n          show-arrows\r\n          next-icon=\"mdi-arrow-right-bold-box-outline\"\r\n          prev-icon=\"mdi-arrow-left-bold-box-outline\"\r\n          center-active\r\n        >\r\n          <v-tabs-slider color=\"blue darken-4\"></v-tabs-slider>\r\n          <v-tab href=\"#overview\">Yleisnäkymä</v-tab>\r\n          <v-tab href=\"#points\" :disabled=\"!competitions.length\"\r\n            >Pistetilanne</v-tab\r\n          >\r\n          <v-tab href=\"#stats\" :disabled=\"!competitions.length\"\r\n            >Tilastoja</v-tab\r\n          >\r\n        </v-tabs>\r\n        <v-tabs-items v-model=\"tab\" style=\"background: rgba(0, 0, 0, 0.4)\">\r\n          <v-tab-item :value=\"'overview'\">\r\n            <v-row v-if=\"loading\">\r\n              <v-col>\r\n                <h2 class=\"white--text\">Valmistellaan Cuppia...</h2>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col v-if=\"!cup\">\r\n                <p\r\n                  class=\"flow-text\"\r\n                  v-bind:class=\"{\r\n                    'white--text': $store.getters.getTheme,\r\n                  }\"\r\n                >\r\n                  Ei cuppia valittuna\r\n                </p>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"competitions.length\" style=\"margin-top: 50px\">\r\n              <v-col md=\"4\" offset-md=\"4\">\r\n                <v-select\r\n                  dark\r\n                  :menu-props=\"$store.getters.getTheme ? 'dark' : 'light'\"\r\n                  label=\"Valitse näytettävät tiedot\"\r\n                  outlined\r\n                  :items=\"select_table\"\r\n                  @input=\"selectTableData\"\r\n                  v-model=\"selected\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-if=\"allCompetitions.length\">\r\n              <v-col md=\"10\" offset-md=\"1\">\r\n                <v-card :dark=\"$store.getters.getTheme\">\r\n                  <v-card-title>\r\n                    <p\r\n                      class=\"flow-text\"\r\n                      v-bind:class=\"{\r\n                        'white--text': $store.getters.getTheme,\r\n                      }\"\r\n                    >\r\n                      {{ selected }}\r\n                    </p>\r\n                    <v-spacer></v-spacer>\r\n                    <v-text-field\r\n                      v-model=\"search_comp\"\r\n                      append-icon=\"mdi-magnify\"\r\n                      label=\"Hae taulukosta\"\r\n                      single-line\r\n                      hide-details\r\n                    ></v-text-field>\r\n                  </v-card-title>\r\n                  <v-data-table\r\n                    id=\"normal-table\"\r\n                    :headers=\"selected_headers\"\r\n                    :items=\"selected_items\"\r\n                    :search=\"search_comp\"\r\n                    :loading=\"loading || updating\"\r\n                  >\r\n                    <template v-slot:[`item.start_date`]=\"{ item }\">\r\n                      <v-chip color=\"primary darken-2\">{{\r\n                        item.start_date.format(\"DD.MM.YYYY\")\r\n                      }}</v-chip>\r\n                    </template>\r\n                    <template v-slot:[`item.isFinished`]=\"{ item }\">\r\n                      <v-tooltip right>\r\n                        <template v-slot:activator=\"{ on, attrs }\">\r\n                          <v-chip\r\n                            v-bind=\"attrs\"\r\n                            v-on=\"on\"\r\n                            :color=\"\r\n                              item.isFinished\r\n                                ? 'green lighten-2'\r\n                                : 'red lighten-2'\r\n                            \"\r\n                            @click=\"endCompetition(item)\"\r\n                            :outlined=\"$store.getters.getTheme\"\r\n                            :disabled=\"updating\"\r\n                            >{{ item.isFinished ? \"Kyllä\" : \"Ei\" }}</v-chip\r\n                          >\r\n                        </template>\r\n                        <span>Muuta tila painamalla</span>\r\n                      </v-tooltip>\r\n                    </template>\r\n                    <template v-slot:[`item.isPublic`]=\"{ item }\">\r\n                      <v-tooltip right>\r\n                        <template v-slot:activator=\"{ on, attrs }\">\r\n                          <v-chip\r\n                            v-bind=\"attrs\"\r\n                            v-on=\"on\"\r\n                            :outlined=\"$store.getters.getTheme\"\r\n                            :color=\"\r\n                              item.isPublic ? 'green darken-2' : 'red darken-2'\r\n                            \"\r\n                            @click=\"publishCompetition(item)\"\r\n                            :disabled=\"updating\"\r\n                            >{{\r\n                              item.isPublic ? \"Julkinen\" : \"Salainen\"\r\n                            }}</v-chip\r\n                          >\r\n                        </template>\r\n                        <span>Muuta tila painamalla</span>\r\n                      </v-tooltip>\r\n                    </template>\r\n                    <template v-slot:[`item.cup_points_multiplier`]=\"{ item }\">\r\n                      <v-chip\r\n                        :color=\"getMultiplierColor(item.cup_points_multiplier)\"\r\n                        :outlined=\"$store.getters.getTheme\"\r\n                        >{{ item.cup_points_multiplier }}x</v-chip\r\n                      >\r\n                    </template>\r\n                    <template v-slot:[`item.choose`]=\"{ item }\">\r\n                      <v-tooltip right>\r\n                        <template v-slot:activator=\"{ on, attrs }\">\r\n                          <v-btn\r\n                            color=\"primary\"\r\n                            v-bind=\"attrs\"\r\n                            v-on=\"on\"\r\n                            :disabled=\"updating\"\r\n                            @click=\"pickCompetition(item)\"\r\n                            ><v-icon color=\"black\"\r\n                              >mdi-arrow-right-bold-box-outline</v-icon\r\n                            ></v-btn\r\n                          >\r\n                        </template>\r\n                        <span>Siirry kilpailuun</span>\r\n                      </v-tooltip>\r\n                    </template>\r\n                    <template v-slot:[`item.modify`]=\"{ item }\">\r\n                      <v-btn\r\n                        color=\"yellow darken-2\"\r\n                        :dark=\"$store.getters.getTheme\"\r\n                        @click.stop=\"\r\n                          new_captain_name = item.captain_name;\r\n                          new_temp_captain_name = item.temp_captain_name;\r\n                          new_locality = item.locality;\r\n                          $set(dialog_signee, item.boat_number, true);\r\n                        \"\r\n                        ><v-icon color=\"black\">mdi-account-edit</v-icon></v-btn\r\n                      >\r\n                      <v-dialog\r\n                        v-model=\"dialog_signee[item.boat_number]\"\r\n                        persistent\r\n                        max-width=\"600px\"\r\n                        :key=\"item.boat_number\"\r\n                      >\r\n                        <v-card :dark=\"$store.getters.getTheme\">\r\n                          <v-card-title>\r\n                            <span class=\"headline\"\r\n                              >Muokkaa käyttäjän (Nro {{ item.boat_number }})\r\n                              Cup tietoja</span\r\n                            >\r\n                          </v-card-title>\r\n                          <v-card-text>\r\n                            <v-container style=\"width: 70%\">\r\n                              <div v-if=\"errors.length\">\r\n                                <ul\r\n                                  class=\"collection with-header\"\r\n                                  style=\"border: 1px solid red\"\r\n                                >\r\n                                  <li\r\n                                    class=\"collection-header\"\r\n                                    style=\"background: rgba(0, 0, 0, 0)\"\r\n                                  >\r\n                                    <v-alert type=\"error\">\r\n                                      Korjaa seuraavat virheet:\r\n                                    </v-alert>\r\n                                  </li>\r\n                                  <li\r\n                                    class=\"collection-item\"\r\n                                    id=\"error\"\r\n                                    v-for=\"(error, index) in errors\"\r\n                                    v-bind:key=\"index\"\r\n                                  >\r\n                                    <p class=\"flow-text black--text\">\r\n                                      {{ index + 1 }}. {{ error }}\r\n                                    </p>\r\n                                  </li>\r\n                                </ul>\r\n                              </div>\r\n                              <v-row>\r\n                                <v-col cols=\"12\" sm=\"6\" md=\"10\">\r\n                                  <v-text-field\r\n                                    v-model=\"new_captain_name\"\r\n                                    :loading=\"publishing\"\r\n                                    label=\"Kippari*\"\r\n                                    maxlength=\"40\"\r\n                                    counter=\"40\"\r\n                                    required\r\n                                  ></v-text-field>\r\n                                </v-col>\r\n                              </v-row>\r\n                              <v-row>\r\n                                <v-col cols=\"12\" sm=\"6\" md=\"10\">\r\n                                  <v-text-field\r\n                                    v-model=\"new_temp_captain_name\"\r\n                                    :loading=\"publishing\"\r\n                                    label=\"Varakippari\"\r\n                                    maxlength=\"40\"\r\n                                    counter=\"40\"\r\n                                    required\r\n                                  ></v-text-field>\r\n                                </v-col>\r\n                              </v-row>\r\n                              <v-row>\r\n                                <v-col cols=\"12\" sm=\"6\" md=\"10\">\r\n                                  <v-text-field\r\n                                    v-model=\"new_locality\"\r\n                                    :loading=\"publishing\"\r\n                                    label=\"Paikkakunta*\"\r\n                                    maxlength=\"40\"\r\n                                    counter=\"40\"\r\n                                    required\r\n                                  ></v-text-field>\r\n                                </v-col>\r\n                              </v-row>\r\n                              <small>*Pakolliset kentät</small>\r\n                            </v-container>\r\n                          </v-card-text>\r\n                          <v-card-actions>\r\n                            <v-btn\r\n                              color=\"yellow darken-2\"\r\n                              outlined\r\n                              :loading=\"publishing\"\r\n                              @click.stop=\"\r\n                                modifySignee(\r\n                                  item,\r\n                                  new_captain_name,\r\n                                  new_temp_captain_name,\r\n                                  new_locality,\r\n                                  false\r\n                                )\r\n                              \"\r\n                              >Peruuta</v-btn\r\n                            >\r\n                            <v-spacer></v-spacer>\r\n                            <v-btn\r\n                              color=\"green darken-2\"\r\n                              outlined\r\n                              :loading=\"publishing\"\r\n                              @click.stop=\"\r\n                                modifySignee(\r\n                                  item,\r\n                                  new_captain_name,\r\n                                  new_temp_captain_name,\r\n                                  new_locality,\r\n                                  true\r\n                                )\r\n                              \"\r\n                              >Tallenna</v-btn\r\n                            >\r\n                          </v-card-actions>\r\n                        </v-card>\r\n                      </v-dialog>\r\n                    </template>\r\n                  </v-data-table>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row\r\n              v-if=\"competitions.length\"\r\n              style=\"margin-top: 10px; margin-bottom: 10px\"\r\n            >\r\n              <v-col>\r\n                <v-btn\r\n                  tile\r\n                  color=\"blue lighten-1\"\r\n                  :loading=\"publishing\"\r\n                  @click=\"changePage('/register-comp')\"\r\n                  ><v-icon>mdi-plus-circle</v-icon>Luo uusi kilpailu!</v-btn\r\n                >\r\n              </v-col>\r\n              <v-col>\r\n                <v-btn\r\n                  @click=\"dialog = true\"\r\n                  large\r\n                  outlined\r\n                  dark\r\n                  :loading=\"publishing\"\r\n                  ><v-icon color=\"red\">mdi-file-pdf-outline</v-icon> Lataa lista\r\n                  kilpailijoista</v-btn\r\n                >\r\n              </v-col>\r\n              <v-col>\r\n                <v-btn\r\n                  large\r\n                  tile\r\n                  :color=\"cup.isPublic ? 'grey darken-4' : 'green darken-4'\"\r\n                  @click=\"publishCup(cup.isPublic)\"\r\n                  class=\"white--text\"\r\n                  :loading=\"publishing\"\r\n                >\r\n                  <div v-if=\"cup.isPublic\">\r\n                    <v-icon>mdi-incognito</v-icon> Aseta cup salaiseksi\r\n                  </div>\r\n                  <div v-else>\r\n                    <v-icon color=\"green\">mdi-publish</v-icon> Aseta cup\r\n                    julkiseksi\r\n                  </div>\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row v-else>\r\n              <v-col v-if=\"!loading && !competitions.length\">\r\n                <h2 class=\"white--text\">Ei kilpailuja!</h2>\r\n                <router-link to=\"/register-comp\">\r\n                  <v-btn tile color=\"blue lighten-1\"\r\n                    ><v-icon>mdi-plus-circle</v-icon>Luo kilpailu!</v-btn\r\n                  >\r\n                </router-link>\r\n              </v-col>\r\n              <v-col v-if=\"error\">\r\n                <h2 class=\"error white--text\">\r\n                  {{ error }}\r\n                </h2>\r\n              </v-col>\r\n\r\n              <v-col v-if=\"loading\">\r\n                <h2 class=\"white--text\">Ladataan kilpailuja...</h2>\r\n                <ProgressBarQuery />\r\n              </v-col>\r\n            </v-row>\r\n          </v-tab-item>\r\n          <v-tab-item :value=\"'points'\">\r\n            <cup-points\r\n              :competitions=\"competitions\"\r\n              :allCompetitions=\"allCompetitions\"\r\n              :results=\"results\"\r\n              :isResults=\"isResults\"\r\n              :loading=\"loading\"\r\n              :selectNumbers=\"selectNumbers\"\r\n              :headers=\"headers\"\r\n              :cup=\"cup\"\r\n              @change=\"(selection) => changeHeaders(selection)\"\r\n              @refresh=\"(cup) => refreshCup(cup._id)\"\r\n              @calculate=\"\r\n                (selectedCompetitions) =>\r\n                  calculateAll(competitions, selectedCompetitions)\r\n              \"\r\n              @save=\"\r\n                (options) => {\r\n                  selectedCompetitions = options.selectedCompetitions;\r\n                  isLandscape = options.isLandscape;\r\n                  showInfoInPdf = options.showInfoInPdf;\r\n                  saveAsPDF(`Tulokset`);\r\n                }\r\n              \"\r\n              @sort=\"\r\n                (show) => {\r\n                  showUnfinishedCompetitions = show;\r\n                  sortUnfinished();\r\n                }\r\n              \"\r\n            ></cup-points>\r\n          </v-tab-item>\r\n          <v-tab-item :value=\"'stats'\">\r\n            <cup-stats\r\n              :competitions=\"competitions\"\r\n              :cup=\"cup\"\r\n              :loading=\"loading\"\r\n            ></cup-stats>\r\n          </v-tab-item>\r\n        </v-tabs-items>\r\n        <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\r\n          {{ text }}\r\n\r\n          <template v-slot:action=\"{ attrs }\">\r\n            <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"snackbar = false\">\r\n              Close\r\n            </v-btn>\r\n          </template>\r\n        </v-snackbar>\r\n      </v-card>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n<script>\r\n\"use strict\";\r\nimport CupService from \"../CupService\";\r\nimport CompetitionService from \"../CompetitionService\";\r\nimport \"jspdf-autotable\";\r\nimport shared from \"../shared\";\r\nimport CupPoints from \"../components/CupPoints.vue\";\r\nimport CupStats from \"../components/CupStats.vue\";\r\nimport jsPDF from \"jspdf\";\r\nexport default {\r\n  name: \"CupOverview\",\r\n  components: {\r\n    ProgressBarQuery: () => import(\"../components/layout/ProgressBarQuery\"),\r\n    CupPoints,\r\n    CupStats,\r\n  },\r\n  data() {\r\n    return {\r\n      prevRoute: null,\r\n      dialog: false,\r\n      isLandscape: false,\r\n      dialog_clock: false,\r\n      dialog_signee: {},\r\n      cup: null,\r\n      allCompetitions: [],\r\n      competitions: [],\r\n      signees: [],\r\n      headers: [],\r\n      select_table: [\"Kilpailut\", \"Ilmoittautuneet\"],\r\n      selected: \"Kilpailut\",\r\n      selected_headers: [],\r\n      selected_items: [],\r\n      cup_fishes_competition: [],\r\n      cup_fishes_total: [],\r\n      cup_signees: [],\r\n      cup_biggest_fishes: [],\r\n      cup_biggest_amounts: [],\r\n      total_fishes_chart_data: null,\r\n      competition_fishes_chart_data: null,\r\n      cup_signees_chart_data: null,\r\n      cup_biggest_fishes_chart_data: null,\r\n      cup_biggest_amounts_chart_data: null,\r\n      headers_comp: [\r\n        { text: \"Kilpailun Päivämäärä\", value: \"start_date\" },\r\n        { text: \"Nimi\", value: \"name\" },\r\n        { text: \"Päättynyt\", value: \"isFinished\" },\r\n        { text: \"Julkisuus\", value: \"isPublic\" },\r\n        { text: \"Pistekerroin\", value: \"cup_points_multiplier\" },\r\n        { text: \"Valitse\", value: \"choose\", sortable: false },\r\n      ],\r\n      headers_signees: [\r\n        { text: \"Kilp. numero\", value: \"boat_number\" },\r\n        { text: \"Kippari\", value: \"captain_name\" },\r\n        { text: \"Varakippari\", value: \"temp_captain_name\" },\r\n        { text: \"Seura/Paikkakunta\", value: \"locality\" },\r\n        { text: \"Muokkaa\", value: \"modify\", sortable: false },\r\n      ],\r\n\r\n      results: [],\r\n      loading: false,\r\n      publishing: false,\r\n      updating: false,\r\n      selectNumbers: [],\r\n      tab: null,\r\n      search_comp: \"\",\r\n      competition: null,\r\n      error: null,\r\n      errors: [],\r\n      new_locality: null,\r\n      new_captain_name: null,\r\n      new_temp_captain_name: null,\r\n      isSimpleMode: true,\r\n      snackbar: false,\r\n      text: \"\",\r\n      timeout: 5000,\r\n      isResults: false,\r\n      showInfoInPdf: false,\r\n      showUnfinishedCompetitions: false,\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next((vm) => {\r\n      vm.prevRoute = from;\r\n    });\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.competition = localStorage.getItem(\"competition\");\r\n    // IF competition on localstorage\r\n    if (localStorage.getItem(\"cup\") != null) {\r\n      // update from database\r\n      this.refreshCup(localStorage.getItem(\"cup\"));\r\n      this.$store.state.cup = this.cup;\r\n    } else {\r\n      console.log(\"No cup in localstorage!\");\r\n    }\r\n\r\n    // Focus on top of the page when changing pages\r\n    location.href = \"#\";\r\n    location.href = \"#app\";\r\n  },\r\n  methods: {\r\n    sortUnfinished() {\r\n      this.setCompetitionData(this.cup);\r\n    },\r\n    async publishCup(isPublic) {\r\n      this.cup.isPublic = !isPublic;\r\n\r\n      try {\r\n        //TODO update only this one variable (competition.normal_points) to database, not the whole competition\r\n        this.$store.state.cup = this.cup;\r\n        this.publishing = true;\r\n        const newValues = {\r\n          $set: { isPublic: this.cup.isPublic },\r\n        };\r\n        await CupService.updateValues(this.cup._id, newValues);\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n      this.publishing = false;\r\n    },\r\n    async publishCompetition(competition) {\r\n      competition.isPublic = !competition.isPublic;\r\n      const newvalues = {\r\n        $set: { isPublic: competition.isPublic },\r\n      };\r\n      this.updateToDatabase(competition, newvalues);\r\n    },\r\n    async endCompetition(competition) {\r\n      competition.isFinished = !competition.isFinished;\r\n      competition.isFinished\r\n        ? (competition.state = \"Päättynyt\")\r\n        : (competition.state = \"Kesken\");\r\n      const newvalues = {\r\n        $set: { isFinished: competition.isFinished },\r\n      };\r\n      this.updateToDatabase(competition, newvalues);\r\n    },\r\n    async updateToDatabase(competition, newvalues) {\r\n      try {\r\n        this.updating = true;\r\n        await CompetitionService.updateValues(competition._id, newvalues);\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n      this.updating = false;\r\n    },\r\n    changePage(path) {\r\n      this.$router.push({\r\n        path: path,\r\n        query: { cup: localStorage.getItem(\"cup\") },\r\n      });\r\n    },\r\n    selectTableData() {\r\n      if (this.selected === \"Kilpailut\") {\r\n        this.selected_items = this.allCompetitions;\r\n        this.selected_headers = this.headers_comp;\r\n      } else {\r\n        this.selected_items = this.signees;\r\n        this.selected_headers = this.headers_signees;\r\n      }\r\n    },\r\n\r\n    // Function to modify signees' captain, temp_captain or locality\r\n    async modifySignee(\r\n      signee,\r\n      new_captain_name,\r\n      new_temp_captain_name,\r\n      new_locality,\r\n      modify\r\n    ) {\r\n      this.errors = [];\r\n      // If user has pressed \"Tallenna\" button\r\n      if (modify) {\r\n        // First check that all the inputs are correctly filled\r\n        if (!new_captain_name) {\r\n          this.errors.push(\"Kipparin nimi puuttuu!\");\r\n        } else {\r\n          signee.captain_name = shared.capitalize_words(signee.captain_name);\r\n        }\r\n\r\n        if (!new_temp_captain_name) {\r\n          new_temp_captain_name = signee.temp_captain_name = \"-\";\r\n        } else {\r\n          signee.temp_captain_name = shared.capitalize_words(\r\n            signee.temp_captain_name\r\n          );\r\n        }\r\n        if (!new_locality) {\r\n          this.errors.push(\"Seura/Paikkakunta puuttuu!\");\r\n        } else {\r\n          signee.locality = shared.capitalize_words(signee.locality);\r\n        }\r\n        // No errors left\r\n        if (!this.errors.length) {\r\n          // Check if anything has been modified, if there is something modified -> update to database\r\n          if (\r\n            signee.captain_name !== new_captain_name ||\r\n            signee.temp_captain_name !== new_temp_captain_name ||\r\n            signee.locality !== new_locality\r\n          ) {\r\n            signee.captain_name = new_captain_name;\r\n            signee.temp_captain_name = new_temp_captain_name;\r\n            signee.locality = new_locality;\r\n            this.$store.state.cup = this.cup;\r\n            this.publishing = true;\r\n            const new_signees = [...this.signees];\r\n            // No need to have this variable in database\r\n            new_signees.forEach((signee) => {\r\n              delete signee.dialog;\r\n            });\r\n            const newvalues = {\r\n              $set: { signees: this.signees },\r\n            };\r\n            await CupService.updateValues(this.cup._id, newvalues)\r\n              .then(() => {\r\n                // Update names to \"points\" table\r\n                this.calculateAll(this.competitions, this.selectedCompetitions);\r\n                this.$set(this.dialog_signee, signee.boat_number, false);\r\n                this.text = \"Kilpailijan tiedot päivitetty!\";\r\n                this.snackbar = true;\r\n              })\r\n              .catch((err) => {\r\n                this.text =\r\n                  \"Virhe kilpailijan tietojen päivityksessä... Yritä uudelleen!\";\r\n                this.snackbar = true;\r\n                console.log(err);\r\n              });\r\n            this.publishing = false;\r\n          } else {\r\n            // Nothing modified -> do nothing\r\n            this.text =\r\n              \"Kaikki tiedot ovat samoja kuin aikaisemmin, poistutaan...\";\r\n            this.snackbar = true;\r\n            this.$set(this.dialog_signee, signee.boat_number, false);\r\n          }\r\n        }\r\n      }\r\n      // If user has pressed \"Peruuta\" button\r\n      else {\r\n        // Do nothing\r\n        this.$set(this.dialog_signee, signee.boat_number, false);\r\n      }\r\n    },\r\n    setCompetitionData(cup) {\r\n      this.selectNumbers = [];\r\n      // Convert dates to moment objects\r\n      this.allCompetitions.forEach((competition, i) => {\r\n        competition.start_date = this.$moment(competition.start_date);\r\n        competition.end_date = this.$moment(competition.end_date);\r\n        // Index for competition\r\n        competition.key_name = i + 1;\r\n      });\r\n      this.allCompetitions.sort((a, b) => {\r\n        return b.start_date.isBefore(a.start_date);\r\n      });\r\n      this.signees = this.cup.signees.sort(shared.sortBy(\"boat_number\", true));\r\n      this.signees.forEach((signee) => {\r\n        signee.dialog = false;\r\n      });\r\n\r\n      this.competitions = [...this.allCompetitions];\r\n      if (!this.showUnfinishedCompetitions) {\r\n        this.competitions = this.competitions.filter((comp) => comp.isFinished);\r\n      }\r\n\r\n      this.competitions.forEach((_, i) => {\r\n        this.selectNumbers.push(i + 1);\r\n      });\r\n\r\n      if (cup.meaningful_competitions > 0)\r\n        this.selectedCompetitions = cup.meaningful_competitions;\r\n      else this.selectedCompetitions = this.competitions.length;\r\n      this.calculateAll(this.competitions, this.selectedCompetitions);\r\n    },\r\n    async refreshCup(cup_id) {\r\n      this.loading = true;\r\n      try {\r\n        //Get competition from database (check 'client\\src\\CupService.js' and 'server\\routes\\api\\cups.js' to see how this works)\r\n        let cup = await CupService.getCups({\r\n          _id: cup_id,\r\n        });\r\n        // IF competition found from database\r\n        if (cup) {\r\n          // Returns an array, get first result (there shouldn't be more than one in any case, since id's are unique)\r\n          //TODO make a test for this?\r\n          this.cup = cup;\r\n          // Update to vuex, Assing variables from vuex (see client/store/index.js)\r\n          this.$store.commit(\"refreshCup\", this.cup);\r\n          try {\r\n            this.allCompetitions = await CompetitionService.getCompetitions({\r\n              cup_id: cup_id,\r\n            });\r\n            this.setCompetitionData(this.cup);\r\n            this.selectTableData();\r\n            this.text = \"Tiedot ajantasalla!\";\r\n            this.snackbar = true;\r\n          } catch (error) {\r\n            console.error(error);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n      this.loading = false;\r\n    },\r\n    pickCompetition: function (competition) {\r\n      // Pick competition for the app to use\r\n      //NOTE Store competition to vuex, redundant?\r\n      this.$store.state.competition = competition;\r\n      // Set competition._id to localstorage for database queries\r\n      localStorage.setItem(\r\n        \"competition\",\r\n        JSON.stringify({\r\n          id: competition._id,\r\n          start_date: competition.start_date,\r\n          end_date: competition.end_date,\r\n        })\r\n      );\r\n      // redirect to /overview\r\n      this.$router.push({ path: \"/overview\" });\r\n    },\r\n    // Calculate all the cup points, and limit the number of races taken into account\r\n    // If limit = 4, 4 races with highest points will be calculated, other races will have 5 points where the signee has participated\r\n    calculateAll(competitions, limit) {\r\n      let all_results = [];\r\n      this.isResults = false;\r\n      competitions.forEach((competition) => {\r\n        // Dynamic headers, because competition names change\r\n        //If there are any results in the competition\r\n        if (competition.normal_points.length) {\r\n          //Loop through each competition's results\r\n          competition.normal_points.forEach((signee) => {\r\n            // Get each signee's results from array that has all the results\r\n            let index = all_results.findIndex((item) => {\r\n              return (\r\n                parseInt(signee.boat_number) === parseInt(item.boat_number)\r\n              );\r\n            });\r\n\r\n            //If the signee is found there\r\n            if (index > -1) {\r\n              // Get the signee, and add competitions results to array, under the competition.name key\r\n              let found_signee = all_results[index];\r\n              found_signee.cup_results[competition.key_name] = {\r\n                competition: competition._id,\r\n                key_name: competition.key_name,\r\n                points: signee.cup_points_total,\r\n                placement: signee.placement,\r\n              };\r\n              // For tracking total points\r\n              all_results.splice(index, 1, found_signee);\r\n            }\r\n            // Not any points on cup_results yet\r\n            else {\r\n              // Get the data that is stored in the cup's signees array\r\n              let cup_signee = this.signees.find(\r\n                (element) => element.boat_number === signee.boat_number\r\n              );\r\n              if (cup_signee) {\r\n                // Add original names from the first instance\r\n                signee.captain_name = cup_signee.captain_name;\r\n                signee.temp_captain_name = cup_signee.temp_captain_name;\r\n                signee.locality = cup_signee.locality;\r\n              } else {\r\n                // TODO: Figure out a better way to notify\r\n                console.log(\r\n                  `(${signee.boat_number}) - ${signee.captain_name} ei löytynyt cupin ilmoittautumislistalta`\r\n                );\r\n                alert(\r\n                  `(${signee.boat_number}) - ${signee.captain_name} ei löytynyt cupin ilmoittautumislistalta`\r\n                );\r\n              }\r\n              // Initialize variables and add first points\r\n              signee.cup_results = [];\r\n              // Array for comparing points with limit\r\n              signee.cup_results[competition.key_name] = {\r\n                competition: competition._id,\r\n                key_name: competition.key_name,\r\n                points: signee.cup_points_total,\r\n                placement: signee.placement,\r\n              };\r\n              all_results.push(signee);\r\n            }\r\n          });\r\n        }\r\n      });\r\n      if (all_results.length) {\r\n        this.isResults = true;\r\n        // limits the amount of competitions are taken into account in the cup\r\n        all_results = this.limitCompetitions(all_results, limit);\r\n        // Sort the array based on total cup points\r\n        this.results = all_results.sort(function compare(a, b) {\r\n          return (\r\n            parseInt(b.cup_results[\"total\"]) - parseInt(a.cup_results[\"total\"])\r\n          );\r\n        });\r\n        this.changeHeaders(\"Paikkakunta\");\r\n\r\n        let final_placement = 1;\r\n        let last_points = -1;\r\n        let last_placement = -1;\r\n        this.results.forEach((signee) => {\r\n          if (last_points === signee.cup_results[\"total\"]) {\r\n            signee.final_placement = last_placement;\r\n          } else {\r\n            signee.final_placement = final_placement;\r\n            last_points = signee.cup_results[\"total\"];\r\n            last_placement = signee.final_placement;\r\n          }\r\n          signee.final_cup_points = signee.cup_results[\"total\"];\r\n          final_placement++;\r\n        });\r\n      }\r\n    },\r\n    changeHeaders(headerSelection) {\r\n      this.headers = [];\r\n      this.headers.push({\r\n        text: \"Sijoitus\",\r\n        highlight: false,\r\n        align: \"center\",\r\n        value: \"final_placement\",\r\n        isFinished: true,\r\n      });\r\n      this.headers.push({\r\n        text: \"Kilp. Nro\",\r\n        align: \"center\",\r\n        highlight: false,\r\n        value: \"boat_number\",\r\n        isFinished: true,\r\n      });\r\n      this.headers.push({\r\n        text: \"Kippari\",\r\n        align: \"center\",\r\n        highlight: false,\r\n        value: \"captain_name\",\r\n        isFinished: true,\r\n      });\r\n      this.headers.push({\r\n        text: \"Paikkakunta\",\r\n        align: \"center\",\r\n        highlight: false,\r\n        value: \"locality\",\r\n        isFinished: true,\r\n      });\r\n      this.notFinishedCount = 0;\r\n      this.competitions.forEach((competition) => {\r\n        // Keep track if there are unfinished competitions\r\n        if (!competition.isFinished) {\r\n          this.notFinishedCount++;\r\n        }\r\n        // Dynamic headers, because competition names change\r\n        if (headerSelection === \"Paikkakunta\") {\r\n          // Check if there are competitions with same locality, if so, add identifier\r\n          let found_headers = this.headers.filter((header) => {\r\n            return competition.locality === header.text;\r\n          });\r\n          if (found_headers.length) {\r\n            let new_header_text = ` ${competition.locality} #${\r\n              found_headers.length + 1\r\n            }`;\r\n            this.headers.push({\r\n              text: new_header_text,\r\n              align: \"center\",\r\n              highlight: true,\r\n              isFinished: competition.isFinished,\r\n              value: `cup_results[${competition.key_name}].points`,\r\n            });\r\n          } else {\r\n            this.headers.push({\r\n              text: competition.locality,\r\n              align: \"center\",\r\n              highlight: true,\r\n              isFinished: competition.isFinished,\r\n              value: `cup_results[${competition.key_name}].points`,\r\n            });\r\n          }\r\n        } else {\r\n          this.headers.push({\r\n            text: competition.name,\r\n            align: \"center\",\r\n            highlight: true,\r\n            isFinished: competition.isFinished,\r\n            value: `cup_results[${competition.key_name}].points`,\r\n          });\r\n        }\r\n      });\r\n      this.headers.push({\r\n        text: \"Yhteensä\",\r\n        align: \"center\",\r\n        highlight: false,\r\n        value: \"final_cup_points\",\r\n        isFinished: true,\r\n      });\r\n    },\r\n    limitCompetitions(results, limit) {\r\n      results.forEach((signee) => {\r\n        // If there are more or equal amount of competitions than the limit, limit remaining competitions after the limit\r\n        if (this.competitions.length >= limit) {\r\n          // Initialize total points to 0\r\n          signee.cup_results[\"total\"] = 0;\r\n          // sort the array that points are compared to\r\n          let temp = [...signee.cup_results];\r\n          temp.sort(function compare(a, b) {\r\n            return parseInt(b.points) - parseInt(a.points);\r\n          });\r\n\r\n          // Add all the limited points to total points\r\n          temp.forEach((element, index) => {\r\n            if (element) {\r\n              if (index + 1 <= limit) {\r\n                signee.cup_results[\"total\"] += element.points;\r\n              } else {\r\n                const comp = this.competitions.find(\r\n                  (c) => element.competition === c._id\r\n                );\r\n                signee.cup_results[element.key_name].points =\r\n                  comp.cup_participation_points;\r\n                signee.cup_results[\"total\"] += comp.cup_participation_points;\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      // Return sorted results\r\n      return results;\r\n    },\r\n\r\n    // Convert the charts and the tables to pdf\r\n    saveAsPDF(table_title) {\r\n      // Format dates for easier reding\r\n      // PDF creation\r\n      let doc = new jsPDF({\r\n        orientation: this.isLandscape ? \"landscape\" : \"portrait\",\r\n      });\r\n\r\n      // Title\r\n      const title = `${this.cup.name} (${this.cup.year})`;\r\n      let sub_title;\r\n      let columns = [];\r\n      let rows;\r\n      let startY;\r\n      // Find last competition from the array which has finished\r\n      let temp_array = [...this.competitions];\r\n      var index = temp_array\r\n        .slice()\r\n        .reverse()\r\n        .findIndex((competition) => competition.isFinished === true);\r\n      var count = temp_array.length - 1;\r\n      var finalIndex = index >= 0 ? count - index : index;\r\n      const last_competition = temp_array[finalIndex]\r\n        ? temp_array[finalIndex]\r\n        : null;\r\n      let last_competition_string = \"\";\r\n      let start_date = this.$moment();\r\n      if (last_competition) {\r\n        last_competition_string = `${last_competition.name} (${last_competition.locality})`;\r\n        start_date = this.$moment(last_competition.start_date);\r\n      }\r\n      const formatted_date = `${start_date.date()}.${\r\n        start_date.month() + 1\r\n      }.${start_date.year()}`;\r\n      doc.setFontSize(24);\r\n      doc.text(13, 15, title, { align: \"left\" });\r\n      doc.line(0, 20, 400, 20);\r\n      doc.setFontSize(14);\r\n      // Table, based on given table_id, and table title based on competition_type\r\n      let finished_competitions = 0;\r\n      let unfinished_competitions = 0;\r\n      this.competitions.forEach((competition) => {\r\n        competition.isFinished\r\n          ? finished_competitions++\r\n          : unfinished_competitions++;\r\n      });\r\n      if (table_title === \"Tulokset\") {\r\n        if (unfinished_competitions === 0 || !this.showUnfinishedCompetitions) {\r\n          sub_title = `Tulokset ${formatted_date}`;\r\n        } else {\r\n          sub_title = `Tilanne ${formatted_date}, ${last_competition_string}  (${unfinished_competitions} kpl kilpailuja kesken)`;\r\n        }\r\n        doc.text(13, 30, sub_title, { align: \"left\" });\r\n        if (this.showInfoInPdf) {\r\n          doc.text(\r\n            13,\r\n            40,\r\n            table_title +\r\n              ` (${this.selectedCompetitions}/${this.competitions.length} parasta kilpailua otettu huomioon)`,\r\n            { align: \"left\" }\r\n          );\r\n        }\r\n\r\n        this.headers.forEach((header) => {\r\n          columns.push(header.text);\r\n        });\r\n        rows = shared.cupDictToArray(\r\n          this.results,\r\n          this.competitions,\r\n          \"cup_total_points\"\r\n        );\r\n        startY = 45;\r\n      } else {\r\n        if (unfinished_competitions === 0) {\r\n          sub_title = `Cuppiin ilmoittautuneet ${this.cup.year}`;\r\n        } else {\r\n          sub_title = `Cupin kilpailijat ${formatted_date} ${last_competition_string}`;\r\n        }\r\n        doc.text(13, 30, sub_title, { align: \"left\" });\r\n        doc.setFontSize(8);\r\n\r\n        columns = [\"Kilp. numero\", \"Kippari\", \"Varakippari\", \"Paikkakunta\"];\r\n        this.signees = this.cup.signees.sort(\r\n          shared.sortBy(\"boat_number\", true)\r\n        );\r\n        rows = shared.cupDictToArray(\r\n          this.signees,\r\n          this.competitions,\r\n          \"signees\"\r\n        );\r\n        /* eslint-disable no-unused-vars */\r\n        // Just add some empty rows for new signees\r\n        if (rows.length) {\r\n          let last_number = Number(rows[rows.length - 1][0]) + 1;\r\n          for (let i of shared.range(last_number, last_number + 10)) {\r\n            rows.push([i, \"\", \"\", \"\"]);\r\n          }\r\n        } else {\r\n          // If no signees, just add 20 empty rows\r\n          for (let i of shared.range(1, 20)) {\r\n            rows.push([i, \"\", \"\", \"\"]);\r\n            doc.text(13, 35, \"Cupissa ei vielä ilmoittautuneita\", {\r\n              align: \"left\",\r\n            });\r\n          }\r\n        }\r\n        /* eslint-enable no-unused-vars */\r\n        startY = 37;\r\n      }\r\n\r\n      doc.autoTable({\r\n        head: [columns],\r\n        body: rows,\r\n        styles: {\r\n          overflow: \"linebreak\",\r\n          halign: \"justify\",\r\n          fontSize: \"8\",\r\n          lineColor: 100,\r\n          lineWidth: 0.25,\r\n        },\r\n        columnStyles: { text: { cellwidth: \"auto\" } },\r\n        headStyles: { text: { cellwidth: \"wrap\" } },\r\n        theme: \"striped\",\r\n        pageBreak: \"auto\",\r\n        tableWidth: \"auto\",\r\n        startY: startY,\r\n        margin: { top: 20 },\r\n      });\r\n      const fileName = `${this.cup.year}_${shared.replaceAll(\r\n        \"Cup\",\r\n        \" \",\r\n        \"\"\r\n      )}_${shared.replaceAll(\r\n        shared.capitalize_words(table_title),\r\n        \" \",\r\n        \"\"\r\n      )}.pdf`;\r\n      this.dialog = false;\r\n      shared.openPdfOnNewTab(doc, fileName);\r\n    },\r\n    getMultiplierColor: shared.getMultiplierColor,\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CupOverview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CupOverview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CupOverview.vue?vue&type=template&id=d2ed3f88&\"\nimport script from \"./CupOverview.vue?vue&type=script&lang=js&\"\nexport * from \"./CupOverview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VChip,VCol,VContainer,VDataTable,VDialog,VDivider,VIcon,VRow,VSelect,VSnackbar,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField,VTooltip})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=style&index=0&id=4f7df90e&scoped=true&lang=css&\""],"sourceRoot":""}