(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about~7b225a16"],{"21c8":function(t,e,i){"use strict";var a=i("5a72"),n=i.n(a);n.a},"51dd":function(t,e,i){"use strict";i("d81d"),i("b0c0");var a=i("53ca"),n=(i("96cf"),i("1da1")),s=i("d4ec"),r=i("bee2"),o=i("bc3a"),c=i.n(o),l="api/cups/",u=function(){function t(){Object(s["a"])(this,t)}return Object(r["a"])(t,null,[{key:"getCups",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(l),{params:e});case 2:return i=t.sent,t.prev=3,n=i.data,"object"==Object(a["a"])(n)&&n.constructor===Array&&(n=m(n)),t.abrupt("return",n);case 9:return t.prev=9,t.t0=t["catch"](3),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"insertCup",value:function(t){return c.a.post(l,{user_id:t.user_id,name:t.name,year:t.year,signees:[],isPublic:!1})}},{key:"updateCup",value:function(t,e){return c.a.put("".concat(l).concat(t),e)}},{key:"updateValues",value:function(t,e){return c.a.put("".concat(l).concat(t),e)}},{key:"deleteCup",value:function(t){return c.a.delete("".concat(l).concat(t))}}]),t}();function m(t){return t.map((function(t){return{id:t._id,user_id:t.user_id,name:t.name,year:t.year,signees:t.signees,isPublic:t.isPublic,createdAt:new Date(t.createdAt)}}))}e["a"]=u},"5a72":function(t,e,i){},7149:function(t,e,i){"use strict";i("d81d"),i("b0c0");var a=i("53ca"),n=(i("96cf"),i("1da1")),s=i("d4ec"),r=i("bee2"),o=i("bc3a"),c=i.n(o),l="api/competitions/",u=function(){function t(){Object(s["a"])(this,t)}return Object(r["a"])(t,null,[{key:"getCompetitions",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(l),{params:e});case 2:return i=t.sent,t.prev=3,n=i.data,"object"==Object(a["a"])(n)&&n.constructor===Array&&(n=m(n)),t.abrupt("return",n);case 9:return t.prev=9,t.t0=t["catch"](3),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"insertCompetition",value:function(t){return c.a.post(l,{user_id:t.user_id,cup_id:t.cup_id,name:t.name,locality:t.locality,cup_name:t.cup_name,cup_placement_points:t.cup_placement_points,cup_placement_points_array:t.cup_placement_points_array,cup_participation_points:t.cup_participation_points,cup_points_multiplier:t.cup_points_multiplier,start_date:t.start_date,end_date:t.end_date,start_time:t.start_time,end_time:t.end_time,fishes:t.fishes,state:t.state,signees:t.signees,teams:t.teams,normal_points:[],normal_weights:[],team_results:[],team_competition:t.team_competition,biggest_fishes:t.biggest_fishes,biggest_amounts:t.biggest_amounts,isPublic:!1,isFinished:!1})}},{key:"updateCompetition",value:function(t,e){return c.a.put("".concat(l).concat(t),e)}},{key:"updateValues",value:function(t,e){return c.a.put("".concat(l).concat(t),e)}},{key:"deleteCompetition",value:function(t){return c.a.delete("".concat(l).concat(t))}}]),t}();function m(t){return t.map((function(t){return{_id:t._id,user_id:t.user_id,cup_id:t.cup_id,name:t.name,locality:t.locality,cup_name:t.cup_name,cup_placement_points:t.cup_placement_points,cup_placement_points_array:t.cup_placement_points_array,cup_participation_points:t.cup_participation_points,cup_points_multiplier:t.cup_points_multiplier,start_date:t.start_date,end_date:t.end_date,start_time:t.start_time,end_time:t.end_time,total_weights:t.total_weights,fishes:t.fishes,state:t.state,createdAt:new Date(t.createdAt),signees:t.signees,teams:t.teams,team_competition:t.team_competition,normal_points:t.normal_points,normal_weights:t.normal_weights,team_results:t.team_results,biggest_fishes:t.biggest_fishes,biggest_amounts:t.biggest_amounts,isPublic:t.isPublic,isFinished:t.isFinished}}))}e["a"]=u},"748a":function(t,e,i){"use strict";i("99af"),i("13d5"),i("a9e3"),i("35b3");var a,n,s=i("1fca"),r=(i("8521"),s["c"].reactiveProp),o={props:["title"],extends:s["b"],mixins:[r],data:function(){return{options:{maintainAspectRatio:!1,responsive:!0,tooltips:{callbacks:{title:function(t,e){return e.labels[t[0].index]},label:function(t,e){var i=e.datasets[t.datasetIndex].data.reduce((function(t,e){return t+e}),0),a=e.datasets[t.datasetIndex].data[t.index]/i*100;a=Math.round(100*(a+Number.EPSILON))/100;var n="".concat(e.datasets[t.datasetIndex].label,": ").concat(e.datasets[t.datasetIndex].data[t.index]," kpl ( ").concat(a,"% )");return n}}},plugins:{labels:{render:"percentage",fontSize:26,fontStyle:"bold",fontColor:"#000",fontFamily:'"Lucida Console", Monaco, monospace',precision:2}},legend:{display:!0}}}},mounted:function(){this.renderChart(this.chartData,this.options)},watch:{chartData:function(t){this.renderChart(t,this.options)}}},c=o,l=i("2877"),u=Object(l["a"])(c,a,n,!1,null,null,null);e["a"]=u.exports},"8ef5":function(t,e,i){"use strict";i("d81d"),i("96cf");var a=i("1da1"),n=i("d4ec"),s=i("bee2"),r=i("bc3a"),o=i.n(r),c="api/feedback/",l=function(){function t(){Object(n["a"])(this,t)}return Object(s["a"])(t,null,[{key:"getFeedback",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.a.get(c);case 2:return e=t.sent,t.prev=3,i=e.data,t.abrupt("return",i.map((function(t){return{_id:t._id,type:t.type,message:t.message,createdAt:new Date(t.createdAt)}})));case 8:return t.prev=8,t.t0=t["catch"](3),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"insertFeedback",value:function(t){return o.a.post(c,{type:t.type,message:t.message})}},{key:"deleteFeedback",value:function(t){return o.a.delete("".concat(c).concat(t))}}]),t}();e["a"]=l},"96c7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("header",{staticClass:"header"},[i("div",{staticClass:"navbar-fixed"},[i("nav",[i("div",{staticClass:"nav-wrapper",class:{"grey darken-4":t.isDark,"blue lighten-2":!t.isDark}},[i("router-link",{attrs:{to:"/"}},[i("img",{staticClass:"circle responsive-img left",staticStyle:{height:"55px",width:"55px",margin:"5px 10px"},attrs:{src:"https://i.imgur.com/2WcI49A.png",alt:""}})]),i("router-link",{attrs:{to:"/"}},[i("a",{staticClass:"brand-logo white-text",attrs:{href:"#!"}},[t._v("Fisustaja")])]),i("a",{staticClass:"sidenav-trigger right",on:{click:function(e){return e.stopPropagation(),t.openDrawer(e)}}},[i("i",{staticClass:"material-icons"},[t._v("menu")])]),t.isUserLoggedIn?i("ul",{staticClass:"right hide-on-med-and-down"},[t.isCompetitionSet?i("li",{class:t.isOverviewPage},[i("router-link",{attrs:{to:"/overview"}},[i("a",{staticClass:"white-text"},[i("i",{staticClass:"material-icons left"},[t._v("directions_boat")]),t._v("Kilpailuun")])])],1):t._e(),t.isCompetitionSet?i("li",{class:t.isCupPage},[i("router-link",{attrs:{to:"/cup-overview"}},[i("a",{staticClass:"white-text"},[i("i",{staticClass:"material-icons left"},[t._v("tune")]),t._v("Cuppiin")])])],1):t._e(),i("li",{staticStyle:{"margin-right":"20px","margin-left":"20px"}},[i("v-menu",{attrs:{"offset-y":"",rounded:"b-xl"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",n,!1),a),[t._v(" Lisää ")])]}}],null,!1,3161055572)},[i("v-list",{attrs:{dark:t.isDark}},[t._l(t.items,(function(e,a){return i("v-list-item",{key:a,on:{click:function(i){return t.changePage(e.route)}}},[i("v-list-item-title",[i("i",{staticClass:"material-icons left"},[t._v(t._s(e.icon))]),t._v(t._s(e.title))])],1)})),i("v-list-item",[i("v-list-item-action",[i("v-switch",{attrs:{loading:t.uploading,color:"purple"},model:{value:t.isDark,callback:function(e){t.isDark=e},expression:"isDark"}})],1),i("v-list-item-title",[t._v("Tumma teema")])],1)],2)],1)],1),i("li",[i("v-btn",{attrs:{large:"",rounded:"",color:"red"},on:{click:t.logout}},[i("i",{staticClass:"material-icons left"},[t._v("power_settings_new")]),t._v("Kirjaudu ulos")])],1)]):t._e()],1)])])]),i("v-navigation-drawer",{attrs:{absolute:"",dark:t.isDark,temporary:"",src:t.isDark?"https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg":"https://cdn.vuetifyjs.com/images/backgrounds/bg-2.jpg"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[i("v-list-item",{attrs:{"two-line":""}},[i("v-list-item-avatar",[i("i",{staticClass:"material-icons left"},[t._v("account_circle")])]),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.isUser.name))]),i("v-list-item-subtitle",[t._v(t._s(t.isUser.email))])],1)],1),i("v-divider"),t.isCompetitionSet?i("v-list-item",{on:{click:function(e){return t.changePage("/overview")}}},[i("v-list-item-icon",[i("v-icon",[t._v("directions_boat")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Kilpailuun")])],1)],1):t._e(),t.isCompetitionSet?i("v-list-item",{on:{click:function(e){return t.changePage("/cup-overview")}}},[i("v-list-item-icon",[i("v-icon",[t._v("tune")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Cuppiin")])],1)],1):t._e(),t._l(t.items,(function(e){return i("v-list-item",{key:e.title,attrs:{link:""},on:{click:function(i){return t.changePage(e.route)}}},[i("v-list-item-icon",[i("v-icon",[t._v(t._s(e.icon))])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),i("v-list-item",[i("v-list-item-action",[i("v-switch",{attrs:{loading:t.uploading,color:"purple"},model:{value:t.isDark,callback:function(e){t.isDark=e},expression:"isDark"}})],1),i("v-list-item-title",[t._v("Tumma teema")])],1),i("v-list-item",[i("v-list-item-content",[i("v-btn",{attrs:{large:"",rounded:"",color:"red"},on:{click:t.logout}},[i("i",{staticClass:"material-icons left"},[t._v("power_settings_new")]),t._v("Kirjaudu ulos")])],1)],1)],2)],1)],1)},n=[],s=(i("b0c0"),i("96cf"),i("1da1")),r=i("4d5c"),o=i.n(r),c={name:"Header",data:function(){return{user:null,items:[],preferences:JSON.parse(localStorage.getItem("preferences")),isDark:!0,drawer:null,uploading:!1}},mounted:function(){o.a.AutoInit();var t=JSON.parse(localStorage.getItem("user")),e=t["is_admin"];this.$store.state.isDark=this.preferences.isDark,this.isDark=this.preferences.isDark,this.items=e?[{title:"Dashboardiin",route:"/dashboard",icon:"dashboard"},{title:"Palaute",route:"/feedback",icon:"feedback"},{title:"Admin",route:"/admin",icon:"admin_panel_settings"},{title:"Rekisteröi käyttäjä",route:"/register",icon:"add_circle_outline"}]:[{title:"Dashboardiin",route:"/dashboard",icon:"dashboard"},{title:"Palaute",route:"/feedback",icon:"feedback"},{title:"Rekisteröi käyttäjä",route:"/register",icon:"add_circle_outline"}]},computed:{isOverviewPage:function(){return{active:"Overview"===this.$route.name}},isCupPage:function(){return{active:"CupOverview"===this.$route.name}},isUser:function(){return null!=localStorage.getItem("jwt")?JSON.parse(localStorage.getItem("user")):null},isUserLoggedIn:function(){return this.$store.getters.isLoggedIn},isAdmin:function(){return this.$store.getters.isAdmin},isCompetitionSet:function(){return!!this.$store.getters.getCompetition}},watch:{isDark:function(t){this.$store.state.isDark=t,this.updatePreferences(t,"fi")}},methods:{openDrawer:function(){location.href="#",this.drawer=!this.drawer},changePage:function(t){this.$router.currentRoute.path!==t?(this.$router.push(t),this.drawer=!this.drawer):o.a.toast({html:"Olet jo tällä sivulla!"})},updatePreferences:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:localStorage.setItem("preferences",JSON.stringify({isDark:t,lang:e}));case 1:case"end":return i.stop()}}),i)})))()},logout:function(){localStorage.removeItem("user"),localStorage.removeItem("jwt"),this.$store.state.logged_in=!1,this.$store.state.is_admin=!1,this.$router.push({path:"/"}),this.$store.commit("refreshCompetition",null),this.user=null,o.a.toast({html:"Kirjattu ulos onnistuneesti!"})}}},l=c,u=i("2877"),m=i("6544"),d=i.n(m),p=i("8336"),_=i("ce7e"),h=i("132d"),v=i("8860"),f=i("da13"),g=i("1800"),b=i("8270"),k=i("5d23"),w=i("34c3"),y=i("e449"),C=i("f774"),x=i("b73d"),I=Object(u["a"])(l,a,n,!1,null,"92fe3164",null);e["default"]=I.exports;d()(I,{VBtn:p["a"],VDivider:_["a"],VIcon:h["a"],VList:v["a"],VListItem:f["a"],VListItemAction:g["a"],VListItemAvatar:b["a"],VListItemContent:k["a"],VListItemIcon:w["a"],VListItemSubtitle:k["b"],VListItemTitle:k["c"],VMenu:y["a"],VNavigationDrawer:C["a"],VSwitch:x["a"]})},a822:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"progress"},[i("div",{staticClass:"indeterminate"})])}],s={name:"ProgressBarQuery"},r=s,o=i("2877"),c=Object(o["a"])(r,a,n,!1,null,null,null);e["default"]=c.exports},b3a7:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{outlined:"",elevation:"20"}},[i("v-row",[i("v-col",[i("h3",{attrs:{id:"comp-state"}},[t._v("Pvm. "+t._s(t.date))])]),i("v-col",[i("h3",{attrs:{id:"clock"}},[t._v("Klo. "+t._s(t.clock))])])],1),i("v-row",[i("v-col",[i("v-card",{attrs:{outlined:""}},[i("v-row",[i("v-col",{attrs:{cols:"12",xs:"6",sm:"6",md:"3","offset-md":"2"}},[i("h4",{class:"Kilpailu päättynyt!"===t.competition_state?"fred-text":"green-text",attrs:{id:"date"}},[t._v(" "+t._s(t.competition_state)+" ")])]),i("v-col",{attrs:{cols:"12",xs:"6",sm:"6",md:"6"}},[t.competitionChosen?i("h4",{staticClass:"green-text",attrs:{id:"comp-left"}},[t._v(" "+t._s(t.timer_string)+" ")]):t._e()])],1)],1)],1)],1)],1)},n=[],s=(i("99af"),{name:"Timedate",data:function(){return{competition:null,competition_started:!1,competition_ended:!1,calculated_time:null,date_interval:100,clock_interval:100,remaining_interval:100,clock:null,date:null,timer:null,timer_date:null,timer_clock:null,timer_string:"",competition_state:"",amount:40}},computed:{competitionChosen:function(){return null!=localStorage.getItem("competition")}},mounted:function(){if(this.setTime(),this.setDate(),this.timer_clock=setInterval(this.setTime,this.clock_interval),this.timer_date=setInterval(this.setDate,this.date_interval),null!=localStorage.getItem("competition")){var t=JSON.parse(localStorage.getItem("competition"));this.competition={id:t["id"],start_date:t["start_date"],end_date:t["end_date"]},this.remainingTime(),this.timer=setInterval(this.remainingTime,this.remaining_interval)}else this.timer_string="",clearInterval(this.timer)},beforeDestroy:function(){clearInterval(this.timer),clearInterval(this.timer_clock),clearInterval(this.timer_date)},methods:{setTime:function(){if(document.getElementById("clock")){var t=new Date,e=t.getHours(),i=t.getMinutes(),a=t.getSeconds();i=this.checkZeros(i),a=this.checkZeros(a),this.clock="".concat(e,":").concat(i,":").concat(a),this.clock_interval=300}else clearInterval(this.timer_clock)},setDate:function(){if(document.getElementById("date")){var t=new Date,e=t.getDate(),i=t.getMonth()+1,a=t.getFullYear();e=this.checkZeros(e),i=this.checkZeros(i),this.date="".concat(e,".").concat(i,".").concat(a),this.date_interval=6e4}else clearInterval(this.timer_date)},remainingTime:function(){if(document.getElementById("comp-left")){if(this.competition){var t=this.$moment(this.competition.start_date),e=this.$moment(this.competition.end_date),i=0,a="";if(this.competition_started=this.$moment(this.$moment()).isAfter(t),this.competition_ended=this.$moment(this.$moment()).isAfter(e),this.competition_started||this.competition_ended)if(this.competition_started&&!this.competition_ended){i=this.$moment.duration(e.diff(this.$moment()));var n=i.days()?"".concat(i.days(),"d "):" ";a=n+this.checkZeros(i.hours())+"h "+this.checkZeros(i.minutes())+"m "+this.checkZeros(i.seconds())+"s",this.remaining_interval=300,this.competition_state="Kilpailua jäljellä",this.timer_string="".concat(a)}else this.timer_string=null,this.competition_state="Kilpailu päättynyt!";else i=this.$moment.duration(t.diff(this.$moment())),a=this.checkZeros(i.hours())+"h "+this.checkZeros(i.minutes())+"m "+this.checkZeros(i.seconds())+"s",i<864e5?(this.competition_state="Kilpailun alkuun",this.timer_string=a):(this.calculated_time=this.$moment(this.$moment()).to(t),this.competition_state="Kilpailu alkaa",this.timer_string=this.calculated_time)}}else clearInterval(this.timer)},checkZeros:function(t){return t<10&&(t="0"+t),t}}}),r=s,o=(i("21c8"),i("2877")),c=i("6544"),l=i.n(c),u=i("b0af"),m=i("62ad"),d=i("0fd9"),p=Object(o["a"])(r,a,n,!1,null,"2d8ee462",null);e["a"]=p.exports;l()(p,{VCard:u["a"],VCol:m["a"],VRow:d["a"]})},e5e9:function(t,e,i){"use strict";i("99af"),i("13d5"),i("a9e3"),i("35b3");var a,n,s=i("1fca"),r=(i("8521"),s["c"].reactiveProp),o={props:["title"],extends:s["a"],mixins:[r],data:function(){return{options:{tooltips:{callbacks:{title:function(t,e){return e.labels[t[0].index]},label:function(t,e){var i=e.datasets[t.datasetIndex].data.reduce((function(t,e){return t+e}),0),a=e.datasets[t.datasetIndex].data[t.index],n=a/i*100;n=Math.round(100*(n+Number.EPSILON))/100;var s="".concat(e.datasets[t.datasetIndex].label,": ").concat(a.toLocaleString()," g ( ").concat(n,"% )");return s}}},maintainAspectRatio:!1,responsive:!0,plugins:{labels:{render:function(t){return t.value/(1e3+Number.EPSILON)*100/100+" kg"},fontSize:14,fontStyle:"bold",textShadow:!0,position:"border",textmargin:1,fontColor:"#000",fontFamily:'"Lucida Console", Monaco, monospace'}}}}},mounted:function(){this.renderChart(this.chartData,this.options)},watch:{chartData:function(t){this.renderChart(t,this.options)}}},c=o,l=i("2877"),u=Object(l["a"])(c,a,n,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=about~7b225a16.79977273.js.map