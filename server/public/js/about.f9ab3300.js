(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"06e3":function(t,e,i){"use strict";var a=i("215d"),s=i.n(a);s.a},"0812":function(t,e,i){},"0a06":function(t,e,i){"use strict";var a=i("c532"),s=i("30b5"),n=i("f6b49"),r=i("5270"),o=i("4a7b");function l(t){this.defaults=t,this.interceptors={request:new n,response:new n}}l.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=o(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[r,void 0],i=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)i=i.then(e.shift(),e.shift());return i},l.prototype.getUri=function(t){return t=o(this.defaults,t),s(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,i){return this.request(a.merge(i||{},{method:t,url:e}))}})),a.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,i,s){return this.request(a.merge(s||{},{method:t,url:e,data:i}))}})),t.exports=l},"0df6":function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},1465:function(t,e,i){},"14c3":function(t,e,i){var a=i("c6b6"),s=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var n=i.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(t,e)}},"159b":function(t,e,i){var a=i("da84"),s=i("fdbc"),n=i("17c2"),r=i("9112");for(var o in s){var l=a[o],c=l&&l.prototype;if(c&&c.forEach!==n)try{r(c,"forEach",n)}catch(u){c.forEach=n}}},"17c2":function(t,e,i){"use strict";var a=i("b727").forEach,s=i("a640"),n=i("ae40"),r=s("forEach"),o=n("forEach");t.exports=r&&o?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1d2b":function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return t.apply(e,i)}}},"1da1":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("d3b7"),i("e6cf");function a(t,e,i,a,s,n,r){try{var o=t[n](r),l=o.value}catch(c){return void i(c)}o.done?e(l):Promise.resolve(l).then(a,s)}function s(t){return function(){var e=this,i=arguments;return new Promise((function(s,n){var r=t.apply(e,i);function o(t){a(r,s,n,o,l,"next",t)}function l(t){a(r,s,n,o,l,"throw",t)}o(void 0)}))}}},"215d":function(t,e,i){},2226:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("Timedate"),t.errors.length?i("div",{attrs:{id:"errordiv"}},[i("ul",{staticClass:"collection with-header"},[t._m(0),t._l(t.errors,(function(e,a){return i("li",{key:a,staticClass:"collection-item flow-text",attrs:{id:"error"}},[t._v(t._s(a+1)+". "+t._s(e))])}))],2)]):t._e(),t.loading?i("div",[i("h2",[t._v("Valmistellaan kilpailua...")]),i("ProgressBarQuery")],1):i("div",{staticClass:"container-transparent"},[t._m(1),i("div",{staticClass:"row"},[i("router-link",{attrs:{to:"/comp-settings"}},[i("div",{staticClass:"col s3"},[i("a",{staticClass:"waves-effect waves-light grey btn"},[i("i",{staticClass:"material-icons left"},[t._v("tune")]),t._v("Määritykset")])])]),i("router-link",{attrs:{to:"/signing"}},[i("div",{staticClass:"col s3"},[i("a",{staticClass:"waves-effect waves-light blue btn"},[i("i",{staticClass:"material-icons left"},[t._v("edit")]),t._v("Ilmoittautuminen")])])]),i("router-link",{attrs:{to:"/weighting"}},[i("div",{staticClass:"col s3"},[i("a",{staticClass:"waves-effect waves-light blue darken-2 btn"},[i("i",{staticClass:"material-icons left"},[t._v("fitness_center")]),t._v("Punnitus")])])]),i("router-link",{attrs:{to:"/results"}},[i("div",{staticClass:"col s3"},[i("a",{staticClass:"waves-effect waves-light green btn"},[i("i",{staticClass:"material-icons left"},[t._v("emoji_events")]),t._v("Tulokset")])])])],1),i("div",{staticClass:"divider"}),i("div",{staticClass:"section inputarea"},[i("div",{staticClass:"col s12 center-align"},[i("h4",[t._v("Kilpailun nimi: "+t._s(t.competition.competition_name))]),i("div",[i("b",[t._v("Data:")]),t._v(" "+t._s(t.competition))])])])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"collection-header"},[i("h4",[t._v("Korjaa seuraavat virheet:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"col s12 center-align"},[i("h1",[t._v("Yleisnäkymä")])])])}],n=(i("7db0"),i("96cf"),i("1da1")),r=i("b3a7"),o=i("7149"),l=i("a822"),c={name:"Overview",components:{Timedate:r["a"],ProgressBarQuery:l["a"]},data:function(){return{competition:null,loading:!1,competitions:[],errors:[]}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$store.getters.getCompetition){e.next=22;break}if(t.competition=t.$store.getters.getCompetition,t.$store.getters.getCompetitionSignees&&t.$store.commit("refreshSigneesFromCompetition"),!t.$store.getters.getCompetitionId){e.next=7;break}t.competition=t.$store.getters.getCompetition,e.next=20;break;case 7:return t.loading=!0,t.errors=[],e.prev=9,e.next=12,o["a"].getCompetitions();case 12:t.competitions=e.sent,e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](9),t.loading=!1,t.errors.push(e.t0);case 19:t.competitions.length?(t.competition=t.competitions.find((function(e){return e.competition_id===t.$store.getters.getCreatedCompetitionID})),t.$store.state.competition=t.competition,t.loading=!1,t.competition||(t.competition={competition_name:"Kilpailua ei löytynyt..."})):(t.loading=!1,t.competition={competition_name:"Kilpailuja ei tietokannassa"});case 20:e.next=23;break;case 22:t.competition={competition_name:"'this.$store.state.competition' tyhjä"};case 23:case"end":return e.stop()}}),e,null,[[9,15]])})))()},mounted:function(){},methods:{}},u=c,p=i("2877"),d=Object(p["a"])(u,a,s,!1,null,null,null);e["default"]=d.exports},2444:function(t,e,i){"use strict";(function(e){var a=i("c532"),s=i("c8af"),n={"Content-Type":"application/x-www-form-urlencoded"};function r(t,e){!a.isUndefined(t)&&a.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function o(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=i("b50d")),t}var l={adapter:o(),transformRequest:[function(t,e){return s(e,"Accept"),s(e,"Content-Type"),a.isFormData(t)||a.isArrayBuffer(t)||a.isBuffer(t)||a.isStream(t)||a.isFile(t)||a.isBlob(t)?t:a.isArrayBufferView(t)?t.buffer:a.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):a.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),a.forEach(["post","put","patch"],(function(t){l.headers[t]=a.merge(n)})),t.exports=l}).call(this,i("4362"))},"2d83":function(t,e,i){"use strict";var a=i("387f");t.exports=function(t,e,i,s,n){var r=new Error(t);return a(r,e,i,s,n)}},"2e67":function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"30b5":function(t,e,i){"use strict";var a=i("c532");function s(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var n;if(i)n=i(e);else if(a.isURLSearchParams(e))n=e.toString();else{var r=[];a.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(a.isArray(t)?e+="[]":t=[t],a.forEach(t,(function(t){a.isDate(t)?t=t.toISOString():a.isObject(t)&&(t=JSON.stringify(t)),r.push(s(e)+"="+s(t))})))})),n=r.join("&")}if(n){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t}},"387f":function(t,e,i){"use strict";t.exports=function(t,e,i,a,s){return t.config=e,i&&(t.code=i),t.request=a,t.response=s,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},3934:function(t,e,i){"use strict";var a=i("c532");t.exports=a.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function s(t){var a=t;return e&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=s(window.location.href),function(e){var i=a.isString(e)?s(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},"3bb8":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"container"},[i("Timedate"),i("CompetitionComponent")],1)])},s=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h1",[t._v("Kilpailut")]),t.competitions.length?i("div",[i("table",{staticClass:"centered responsive-table tablearea highlight",attrs:{id:"competitions"}},[t._m(0),i("tbody",t._l(t.competitions,(function(e,a){return i("tr",{key:e._id,attrs:{item:e,index:a},on:{dblclick:function(i){return t.deleteCompetition(e._id)}}},[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"},attrs:{scope:"row"}},[t._v(t._s(e.date_of_competition))]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(t._s(e.competition_name))]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(t._s(e.cup_name))]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(t._s(e.state))]),i("td",{staticStyle:{border:"1px solid black"}},[i("a",{staticClass:"waves-effect waves-light btn",on:{click:function(i){return t.pickCompetition(e)}}},[i("i",{staticClass:"material-icons left"},[t._v("check")]),t._v("Valitse")])])])})),0)])]):i("div",[t.loading?t.error?i("h2",{staticClass:"error"},[t._v(t._s(t.error))]):i("div",[i("h2",[t._v("Ladataan kilpailuja...")]),i("ProgressBarQuery")],1):i("h2",[t._v("Ei kilpailuja!")])])])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Kilpailun Päivämäärä")]),i("th",[t._v("Nimi")]),i("th",[t._v("Cup")]),i("th",[t._v("Tila")]),i("th")])])}],o=(i("96cf"),i("1da1")),l=i("a822"),c=i("7149"),u=i("4d5c"),p=i.n(u),d={name:"CompetitionComponent",components:{ProgressBarQuery:l["a"]},data:function(){return{competitions:[],error:"",competition_input:null,loading:!1}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,c["a"].getCompetitions();case 4:t.competitions=e.sent,t.loading=!1,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.error=e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},mounted:function(){p.a.AutoInit()},methods:{pickCompetition:function(t){this.$store.state.competition=t,this.$router.push({path:"/overview"})},deleteCompetition:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return p.a.toast({html:"Poistetaan tietokannasta!"}),e.loading=!0,i.prev=2,i.next=5,c["a"].deleteCompetition(t);case 5:return i.next=7,c["a"].getCompetitions();case 7:e.competitions=i.sent,e.$store.state.competitions=e.competitions,e.loading=!1,i.next=15;break;case 12:i.prev=12,i.t0=i["catch"](2),e.error=i.t0.message;case 15:case"end":return i.stop()}}),i,null,[[2,12]])})))()}}},f=d,h=(i("d88b"),i("2877")),m=Object(h["a"])(f,n,r,!1,null,"417d9eb7",null),_=m.exports,v=i("b3a7"),g={name:"ContinueComp",components:{CompetitionComponent:_,Timedate:v["a"]}},b=g,C=Object(h["a"])(b,a,s,!1,null,null,null);e["default"]=C.exports},4160:function(t,e,i){"use strict";var a=i("23e7"),s=i("17c2");a({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},4362:function(t,e,i){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,a="/";e.cwd=function(){return a},e.chdir=function(e){t||(t=i("df7c")),a=t.resolve(e,a)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"467f":function(t,e,i){"use strict";var a=i("2d83");t.exports=function(t,e,i){var s=i.config.validateStatus;!s||s(i.status)?t(i):e(a("Request failed with status code "+i.status,i.config,null,i.request,i))}},"4a7b":function(t,e,i){"use strict";var a=i("c532");t.exports=function(t,e){e=e||{};var i={},s=["url","method","params","data"],n=["headers","auth","proxy"],r=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];a.forEach(s,(function(t){"undefined"!==typeof e[t]&&(i[t]=e[t])})),a.forEach(n,(function(s){a.isObject(e[s])?i[s]=a.deepMerge(t[s],e[s]):"undefined"!==typeof e[s]?i[s]=e[s]:a.isObject(t[s])?i[s]=a.deepMerge(t[s]):"undefined"!==typeof t[s]&&(i[s]=t[s])})),a.forEach(r,(function(a){"undefined"!==typeof e[a]?i[a]=e[a]:"undefined"!==typeof t[a]&&(i[a]=t[a])}));var o=s.concat(n).concat(r),l=Object.keys(e).filter((function(t){return-1===o.indexOf(t)}));return a.forEach(l,(function(a){"undefined"!==typeof e[a]?i[a]=e[a]:"undefined"!==typeof t[a]&&(i[a]=t[a])})),i}},"4b37":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("Timedate"),i("div",{staticClass:"container-transparent"},[t._m(0),i("div",{staticClass:"row"},[i("router-link",{attrs:{to:"/signing"}},[i("div",{staticClass:"col s4"},[i("a",{staticClass:"waves-effect waves-light blue btn"},[i("i",{staticClass:"material-icons left"},[t._v("assignment_ind")]),t._v("Ilmoittautuminen")])])]),i("router-link",{attrs:{to:"/overview"}},[i("div",{staticClass:"col s4"},[i("a",{staticClass:"waves-effect waves-light btn"},[i("i",{staticClass:"material-icons left"},[t._v("info")]),t._v("Kilpailun yleisnäkymä")])])]),i("router-link",{attrs:{to:"/results"}},[i("div",{staticClass:"col s4"},[i("a",{staticClass:"waves-effect waves-light green btn"},[i("i",{staticClass:"material-icons left"},[t._v("emoji_events")]),t._v("Tulokset")])])])],1),i("div",{staticClass:"row"},[t._m(1),i("div",{staticClass:"col s12 inputarea",attrs:{id:"weighting"}},[t.$store.getters.getCompetitionSignees.length?i("div",{staticClass:"section"},[t._m(2),t.notification?i("div",{staticClass:"section center-align"},[i("p",{staticClass:"flow-text green lighten-1 center-align",attrs:{id:"notification"}},[t._v(" "+t._s(t.notification)+" ")])]):t._e(),i("div",{staticClass:"row title"},[i("div",{staticClass:"row col s12"},[t._m(3),i("div",{staticClass:"input-field col s4 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.boat_number_input,expression:"boat_number_input"}],staticClass:"validate",attrs:{id:"boat_number_input",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",type:"number",maxlength:"6",step:"1",min:"0"},domProps:{value:t.boat_number_input},on:{keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||(t.boat_number_input=e.target.value)}}}),i("label",{attrs:{for:"boat_number_input"}},[t._v("Numero")])])]),i("div",{staticClass:"row"},[i("a",{staticClass:"waves-effect waves-light blue btn black-text col s4 push-s6",on:{click:function(e){return t.fetchFromDatabase(t.boat_number_input)}}},[i("i",{staticClass:"material-icons left"},[t._v("search")]),t._v("Hae numerolla")])])]),t.competition_boat?i("div",{staticClass:"row center-align"},[i("p",{staticClass:"flow-text"},[t._v("Venekunta")]),i("div",{staticClass:"row"},[i("div",{staticClass:"col s4 center-align"},[i("p",{staticClass:"flow-text"},[t._v("("+t._s(t.competition_boat.boat_number)+")")])]),i("div",{staticClass:"col s4 center-align"},[i("p",{staticClass:"flow-text"},[t._v(t._s(t.competition_boat.captain_name))])]),i("div",{staticClass:"col s4 center-align"},[i("p",{staticClass:"flow-text"},[t._v(" "+t._s(t.competition_boat.temp_captain_name)+" ")])])]),i("div",{staticClass:"row center-align"},[i("a",{staticClass:"col s4 push-s4 waves-effect waves-light yellow btn black-text",on:{click:t.clearInputs}},[i("i",{staticClass:"material-icons left"},[t._v("backspace")]),t._v("Peruuta valinta")])]),i("div",{staticClass:"divider black"}),i("div",{staticClass:"section"},[i("div",{attrs:{id:"fishes"}},[t.$store.getters.getCompetitionFishes.length?i("ul",{attrs:{id:"fish_weights"}},t._l(t.$store.getters.getCompetitionFishes,(function(e,a){return i("li",{key:e.name},[i("div",{staticClass:"section row"},[i("div",{staticClass:"col s6 center-align"},[i("span",{staticClass:"flow-text"},[t._v(t._s(a+1)+". ")]),i("span",{staticClass:"flow-text",attrs:{id:"fish_"+(a+1)+"_name"}},[t._v(t._s(e.name))])]),i("div",{staticClass:"col s6 pull-s1 center-align"},[i("input",{attrs:{id:"fish_"+(a+1)+"_weight",type:"number",value:"0",step:"5",min:"0"},on:{keypress:function(e){return t.isNumber(e)}}}),i("label",{attrs:{for:"fish_"+(a+1)+"_weight"}},[t._v("Paino grammoina")])])]),i("div",{staticClass:"divider black"})])})),0):t._e()]),t.loading?i("div",[i("p",{staticClass:"flow-text"},[t._v("Päivitetään tiedot tietokantaan...")]),i("ProgressBarQuery")],1):i("div",{staticClass:"section center-align"},[i("div",{staticClass:"col s1"}),i("a",{staticClass:"col s4 waves-effect waves-light red btn-large black-text",on:{click:function(e){return t.saveToDatabase(!0)}}},[i("i",{staticClass:"material-icons left"},[t._v("delete_forever")]),t._v("Nollaa kilpailijan pisteet")]),i("div",{staticClass:"col s2"}),i("a",{staticClass:"col s4 waves-effect waves-light green btn-large black-text",on:{click:function(e){return t.saveToDatabase(!1)}}},[i("i",{staticClass:"material-icons left"},[t._v("check")]),t._v("Tallenna")]),i("div",{staticClass:"col s1"})])])]):i("div",{staticClass:"center-align"},[t.searched?i("p",{staticClass:"flow-text"},[t._v(" Numerolla ei löytynyt venekuntaa tietokannasta! ")]):i("p",{staticClass:"flow-text"},[t._v("Venekuntaa ei valittuna")])])]):i("div",[i("p",{staticClass:"flow-text"},[t._v("Kilpailussa ei vielä ilmoittautuneita!")])])]),i("div",{staticClass:"col s12 inputarea",attrs:{id:"situation"}},[i("div",{staticClass:"section"},[t._m(4),i("div",{staticClass:"col s12 center-align"},[t.$store.getters.getResultSignees.length?i("table",{staticClass:"highlight centered responsive-table fixed_header tablearea",attrs:{id:"situation-table"}},[t._m(5),i("tbody",t._l(t.$store.getters.getResultSignees,(function(e,a){return i("tr",{key:a,class:{selected:t.selected_id==e.id},on:{click:function(i){return t.selectRow(e.id,e.boat_number)}}},[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(a+1)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.boat_number)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.captain_name)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.total_points)+" ")])])})),0)]):t._e()]),t.selected_id&&t.$store.getters.getResultSignees.length?i("div",{staticClass:"section inputarea"},[i("div",{staticClass:"col s12 center-align"},[i("a",{staticClass:"waves-effect waves-light blue btn",on:{click:t.searchSelected}},[i("i",{staticClass:"material-icons left"},[t._v("info")]),t._v("Siirry punnitukseen")])])]):i("div",{staticClass:"section inputarea center-align"},[t.$store.getters.getResultSignees.length?i("p",{staticClass:"flow-text"},[t._v(" Voit siirtyä punnitukseen myös klikkaamalla haluamaasi riviä taulukosta ja painamalla ilmestyvää nappulaa ")]):i("h3",{staticClass:"flow-text"},[t._v("Ei vielä tuloksia!")])])])]),i("div",{staticClass:"col s12 inputarea",attrs:{id:"stats"}},[t._m(6),t.$store.getters.getCompetition?i("div",{staticClass:"section"},[i("ul",{staticClass:"collapsible"},[i("li",[t._m(7),i("div",{staticClass:"collapsible-body white"},[i("div",{staticClass:"fishes_summary row"},[i("div",{staticClass:"col s8 push-s2"},[i("table",{staticClass:"striped highlight centered responsive-table"},[t._m(8),i("tbody",[t._l(t.calculated_fish_weights,(function(e,a){return i("tr",{key:a},[i("th",{staticStyle:{border:"1px solid black"},attrs:{scope:"row"}},[t._v(" "+t._s(e.name)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" x "+t._s(e.multiplier)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.minsize)+" cm ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.weights)+" g ")])])})),i("tr",[i("th",{attrs:{scope:"row"}}),i("th"),i("th",{staticStyle:{border:"1px solid black"}},[t._v(" Saalista yhteensä ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(Math.round(100*(t.calculated_total_weights/1e3+Number.EPSILON))/100)+" kg ")])])],2)])])])])]),i("li",[t._m(9),i("div",{staticClass:"collapsible-body white row"},[i("table",{staticClass:"striped centered responsive-table highlight col s8 push-s2"},[i("tr",[t._m(10),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.$store.getters.getSignees.length)+" venettä ")])]),i("tr",[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" Saalista saaneita veneitä: ")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.$store.getters.getFinishedSignees.length)+" venettä ")])]),i("tr",[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" Vielä vesillä: ")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.$store.getters.getStillOnWaterSignees.length)+" venettä ")])]),i("tr",[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" Saalista yhteensä: ")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(Math.round(100*(t.calculated_total_weights/1e3+Number.EPSILON))/100)+" kg ")])])])])])])]):t._e()]),i("div",{staticClass:"col s12 inputarea",attrs:{id:"still-on-water"}},[i("div",{staticClass:"section"},[i("div",{staticClass:"row center-align"},[t.$store.getters.getStillOnWaterSignees.length?i("p",{staticClass:"flow-text"},[t._v(" Venekunnat, jotka ovat vielä vesillä ")]):t.$store.getters.getCompetitionSignees.length?i("p",{staticClass:"flow-text"},[t._v(" Kaikki venekunnat palanneet maaliin! ")]):i("p",{staticClass:"flow-text"},[t._v(" Kilpailussa ei vielä ilmoittautuneita! ")])]),i("div",{staticClass:"col s12 center-align"},[t.$store.getters.getStillOnWaterSignees.length?i("table",{staticClass:"highlight centered responsive-table fixed_header tablearea",attrs:{id:"on-water-table"}},[t._m(11),i("tbody",t._l(t.$store.getters.getStillOnWaterSignees,(function(e,a){return i("tr",{key:a,class:{selected:t.selected_id==e.id},on:{click:function(i){return t.selectRow(e.id,e.boat_number)}}},[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.boat_number)+" ("+t._s(e.id)+") ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.captain_name)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.temp_captain_name)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.starting_place)+" ")])])})),0)]):t._e()]),t.selected_id&&t.$store.getters.getStillOnWaterSignees.length?i("div",{staticClass:"section inputarea"},[i("div",{staticClass:"col s12 center-align"},[i("a",{staticClass:"waves-effect waves-light blue btn",on:{click:t.searchSelected}},[i("i",{staticClass:"material-icons left"},[t._v("info")]),t._v("Siirry punnitukseen")])])]):i("div",{staticClass:"section inputarea center-align"},[t.$store.getters.getStillOnWaterSignees.length?i("p",{staticClass:"flow-text"},[t._v(" Voit siirtyä punnitukseen myös klikkaamalla haluamaasi riviä taulukosta ja painamalla ilmestyvää nappulaa ")]):t._e()])])])])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"col s12 center-align"},[i("h1",[t._v("Punnitus")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col s12"},[i("ul",{staticClass:"tabs"},[i("li",{staticClass:"tab col s3"},[i("a",{staticClass:"active",attrs:{href:"#weighting"}},[t._v("Punnitus")])]),i("li",{staticClass:"tab col s3"},[i("a",{attrs:{href:"#situation"}},[t._v("Tilannekatsaus")])]),i("li",{staticClass:"tab col s3"},[i("a",{attrs:{href:"#stats"}},[t._v("Tilastoja")])]),i("li",{staticClass:"tab col s3"},[i("a",{attrs:{href:"#still-on-water"}},[t._v("Vielä vesillä")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row center-align"},[i("p",{staticClass:"flow-text"},[t._v("Punnitus")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col s4"},[i("p",{staticClass:"flow-text"},[t._v("Venekunnan numero")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row center-align"},[i("p",{staticClass:"flow-text"},[t._v("Tilannekatsaus")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Sijoitus")]),i("th",[t._v("Numero")]),i("th",[t._v("Kapteeni")]),i("th",[t._v("Pisteet")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section",staticStyle:{"margin-bottom":"50px"}},[i("div",{staticClass:"row center-align"},[i("p",{staticClass:"flow-text"},[t._v("Tilastoja")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collapsible-header"},[i("i",{staticClass:"material-icons"},[t._v("calculate")]),t._v("Kertoimet, alamitat, kaloja punnittu yhteensä ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Kalalaji")]),i("th",[t._v("Pistekerroin")]),i("th",[t._v("Alamitta")]),i("th",[t._v("Punnittu")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collapsible-header"},[i("i",{staticClass:"material-icons"},[t._v("bar_chart")]),t._v("Muita tilastoja ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[i("b",[t._v("Veneitä yhteensä:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Nro.")]),i("th",[t._v("Kapteeni")]),i("th",[t._v("Varakapteeni")]),i("th",[t._v("Lähtöpaikka")])])])}],n=(i("7db0"),i("4160"),i("b0c0"),i("159b"),i("96cf"),i("1da1")),r=i("b3a7"),o=i("4d5c"),l=i.n(o),c=i("9225"),u=i("7149"),p=i("a822"),d={name:"Weighting",components:{Timedate:r["a"],ProgressBarQuery:p["a"]},data:function(){return{boat_number_input:null,competition_boat:null,calculated_total_weights:null,calculated_fish_weights:null,searched:!1,selected_id:null,selected_boat_number:null,loading:!1,notification:null}},mounted:function(){l.a.AutoInit();var t=document.querySelectorAll(".tabs"),e=(l.a.Tabs.init(t,c["a"]),document.querySelectorAll(".collapsible")),i=(l.a.Collapsible.init(e,c["a"]),document.querySelectorAll(".tabs")[0]);this.tabs=l.a.Tabs.getInstance(i),this.calculated_fish_weights=this.calculateTotalWeights(),this.calculated_total_weights=this.$store.getters.getCompetitionTotalWeights},methods:{isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(e>31&&(e<48||e>57)&&46!==e)t.preventDefault();else{if(46!=e)return!0;t.preventDefault()}},searchBoatNumber:function(t){var e=parseInt(t);return this.$store.getters.getSigneeByBoatNumber(e)},selectRow:function(t,e){t==this.selected_id?(this.selected_id=null,this.selected_boat_number=null):(this.selected_id=t,this.selected_boat_number=e)},setInputWeights:function(){for(var t=this,e=this.$store.getters.getCompetitionFishes,i=function(e){var i=document.getElementById("fish_".concat(e,"_name")).innerHTML,a=t.competition_boat.weights.find((function(t){return t.name===i})).weights;document.getElementById("fish_".concat(e,"_weight")).value=a},a=1;a<e.length+1;a++)i(a)},calculateTotalWeights:function(){var t=this.$store.getters.getFinishedSignees,e=this.$store.getters.getCompetitionFishes,i=this.$store.getters.getCompetition;i.total_weights=0;for(var a=0;a<e.length;a++)e[a].weights=0;return t.forEach((function(t){for(var a=function(a){var s=t.weights.find((function(t){return e[a].name==t.name})).weights;e[a].weights+=parseInt(s),i.total_weights+=parseInt(s)},s=0;s<e.length;s++)a(s)})),e},searchSelected:function(){this.tabs.select("weighting");var t=this.selected_boat_number;this.selected_id=null,this.selected_boat_number=null,this.fetchFromDatabase(t)},fetchFromDatabase:function(t){var e=this;this.searched=!0,this.notification=null,this.competition_boat=this.searchBoatNumber(t),this.competition_boat?this.$nextTick((function(){return e.setInputWeights()})):console.log("No such boat in list!")},saveToDatabase:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,s,n,r,o,l,c,p,d,f,h;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.$store.getters.getCompetitionFishes,s=[],n=0,r=0,o=0,l=0,t)for(e.competition_boat.returned=!1,p=1;p<a.length+1;p++)c=document.getElementById("fish_".concat(p,"_name")).innerHTML,s.push({name:c,weights:o,points:l});else for(e.competition_boat.returned=!0,d=1;d<a.length+1;d++)c=document.getElementById("fish_".concat(d,"_name")).innerHTML,o=parseInt(document.getElementById("fish_".concat(d,"_weight")).value),f=a.find((function(t){return t.name===c})).multiplier,l=o*f,s.push({name:c,weights:o,points:l}),n+=o,r+=l;return e.competition_boat.weights=s,e.competition_boat.total_weights=n,e.competition_boat.total_points=r,e.$store.commit("replaceSignee",e.competition_boat),h=e.$store.getters.getCompetition,h.signees=e.$store.getters.getSignees,e.$store.getters.getStillOnWaterSignees.length?h.state="Punnitus":h.state="Kaikki punnittu",e.$store.commit("refreshCompetition",h),i.prev=15,e.loading=!0,i.next=19,u["a"].updateCompetition(h._id,h);case 19:console.log("Updated to database!"),e.notification="Tiedot päivitetty tietokantaan!",e.loading=!1,e.searched=!1,e.competition_boat=null,e.calculated_fish_weights=e.calculateTotalWeights(),e.calculated_total_weights=e.$store.getters.getCompetitionTotalWeights,i.next=31;break;case 28:i.prev=28,i.t0=i["catch"](15),console.log(i.t0.message);case 31:case"end":return i.stop()}}),i,null,[[15,28]])})))()},clearInputs:function(){l.a.toast({html:"Todo: Pyyhi inputit..."});for(var t=1;t<this.$store.getters.getCompetitionFishes.length+1;t++)document.getElementById("fish_".concat(t,"_weight")).value=0;this.competition_boat=null,this.boat_number_input=null,this.searched=!1}}},f=d,h=i("2877"),m=Object(h["a"])(f,a,s,!1,null,null,null);e["default"]=m.exports},5270:function(t,e,i){"use strict";var a=i("c532"),s=i("c401"),n=i("2e67"),r=i("2444");function o(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){o(t),t.headers=t.headers||{},t.data=s(t.data,t.headers,t.transformRequest),t.headers=a.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),a.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||r.adapter;return e(t).then((function(e){return o(t),e.data=s(e.data,e.headers,t.transformResponse),e}),(function(e){return n(e)||(o(t),e&&e.response&&(e.response.data=s(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5319:function(t,e,i){"use strict";var a=i("d784"),s=i("825a"),n=i("7b0b"),r=i("50c4"),o=i("a691"),l=i("1d80"),c=i("8aa5"),u=i("14c3"),p=Math.max,d=Math.min,f=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,_=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,i,a){var v=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=a.REPLACE_KEEPS_$0,b=v?"$":"$0";return[function(i,a){var s=l(this),n=void 0==i?void 0:i[t];return void 0!==n?n.call(i,s,a):e.call(String(s),i,a)},function(t,a){if(!v&&g||"string"===typeof a&&-1===a.indexOf(b)){var n=i(e,t,this,a);if(n.done)return n.value}var l=s(t),f=String(this),h="function"===typeof a;h||(a=String(a));var m=l.global;if(m){var y=l.unicode;l.lastIndex=0}var k=[];while(1){var w=u(l,f);if(null===w)break;if(k.push(w),!m)break;var x=String(w[0]);""===x&&(l.lastIndex=c(f,r(l.lastIndex),y))}for(var S="",E=0,j=0;j<k.length;j++){w=k[j];for(var T=String(w[0]),$=p(d(o(w.index),f.length),0),I=[],N=1;N<w.length;N++)I.push(_(w[N]));var P=w.groups;if(h){var R=[T].concat(I,$,f);void 0!==P&&R.push(P);var A=String(a.apply(void 0,R))}else A=C(T,f,$,I,P,a);$>=E&&(S+=f.slice(E,$)+A,E=$+T.length)}return S+f.slice(E)}];function C(t,i,a,s,r,o){var l=a+t.length,c=s.length,u=m;return void 0!==r&&(r=n(r),u=h),e.call(o,u,(function(e,n){var o;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,a);case"'":return i.slice(l);case"<":o=r[n.slice(1,-1)];break;default:var u=+n;if(0===u)return e;if(u>c){var p=f(u/10);return 0===p?e:p<=c?void 0===s[p-1]?n.charAt(1):s[p-1]+n.charAt(1):e}o=s[u-1]}return void 0===o?"":o}))}}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var a=i("1d80"),s=i("5899"),n="["+s+"]",r=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),l=function(t){return function(e){var i=String(a(e));return 1&t&&(i=i.replace(r,"")),2&t&&(i=i.replace(o,"")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},6062:function(t,e,i){"use strict";var a=i("6d61"),s=i("6566");t.exports=a("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),s)},6566:function(t,e,i){"use strict";var a=i("9bf2").f,s=i("7c73"),n=i("e2cc"),r=i("0366"),o=i("19aa"),l=i("2266"),c=i("7dd0"),u=i("2626"),p=i("83ab"),d=i("f183").fastKey,f=i("69f3"),h=f.set,m=f.getterFor;t.exports={getConstructor:function(t,e,i,c){var u=t((function(t,a){o(t,u,e),h(t,{type:e,index:s(null),first:void 0,last:void 0,size:0}),p||(t.size=0),void 0!=a&&l(a,t[c],t,i)})),f=m(e),_=function(t,e,i){var a,s,n=f(t),r=v(t,e);return r?r.value=i:(n.last=r={index:s=d(e,!0),key:e,value:i,previous:a=n.last,next:void 0,removed:!1},n.first||(n.first=r),a&&(a.next=r),p?n.size++:t.size++,"F"!==s&&(n.index[s]=r)),t},v=function(t,e){var i,a=f(t),s=d(e);if("F"!==s)return a.index[s];for(i=a.first;i;i=i.next)if(i.key==e)return i};return n(u.prototype,{clear:function(){var t=this,e=f(t),i=e.index,a=e.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete i[a.index],a=a.next;e.first=e.last=void 0,p?e.size=0:t.size=0},delete:function(t){var e=this,i=f(e),a=v(e,t);if(a){var s=a.next,n=a.previous;delete i.index[a.index],a.removed=!0,n&&(n.next=s),s&&(s.previous=n),i.first==a&&(i.first=s),i.last==a&&(i.last=n),p?i.size--:e.size--}return!!a},forEach:function(t){var e,i=f(this),a=r(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:i.first){a(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!v(this,t)}}),n(u.prototype,i?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return _(this,0===t?0:t,e)}}:{add:function(t){return _(this,t=0===t?0:t,t)}}),p&&a(u.prototype,"size",{get:function(){return f(this).size}}),u},setStrong:function(t,e,i){var a=e+" Iterator",s=m(e),n=m(a);c(t,e,(function(t,e){h(this,{type:a,target:t,state:s(t),kind:e,last:void 0})}),(function(){var t=n(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),u(e)}}},"6d61":function(t,e,i){"use strict";var a=i("23e7"),s=i("da84"),n=i("94ca"),r=i("6eeb"),o=i("f183"),l=i("2266"),c=i("19aa"),u=i("861d"),p=i("d039"),d=i("1c7e"),f=i("d44e"),h=i("7156");t.exports=function(t,e,i){var m=-1!==t.indexOf("Map"),_=-1!==t.indexOf("Weak"),v=m?"set":"add",g=s[t],b=g&&g.prototype,C=g,y={},k=function(t){var e=b[t];r(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(_&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return _&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(_&&!u(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(n(t,"function"!=typeof g||!(_||b.forEach&&!p((function(){(new g).entries().next()})))))C=i.getConstructor(e,t,m,v),o.REQUIRED=!0;else if(n(t,!0)){var w=new C,x=w[v](_?{}:-0,1)!=w,S=p((function(){w.has(1)})),E=d((function(t){new g(t)})),j=!_&&p((function(){var t=new g,e=5;while(e--)t[v](e,e);return!t.has(-0)}));E||(C=e((function(e,i){c(e,C,t);var a=h(new g,e,C);return void 0!=i&&l(i,a[v],a,m),a})),C.prototype=b,b.constructor=C),(S||j)&&(k("delete"),k("has"),m&&k("get")),(j||x)&&k(v),_&&b.clear&&delete b.clear}return y[t]=C,a({global:!0,forced:C!=g},y),f(C,t),_||i.setStrong(C,t,m),C}},7149:function(t,e,i){"use strict";i("d81d"),i("96cf");var a=i("1da1"),s=i("d4ec"),n=i("bee2"),r=i("bc3a"),o=i.n(r),l="api/competitions/",c=function(){function t(){Object(s["a"])(this,t)}return Object(n["a"])(t,null,[{key:"getCompetitions",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.a.get(l);case 2:return e=t.sent,t.prev=3,i=e.data,t.abrupt("return",i.map((function(t){return{_id:t._id,competition_id:t.competition_id,competition_name:t.competition_name,cup_name:t.cup_name,cup_placement_points:t.cup_placement_points,cup_participation_points:t.cup_participation_points,cup_points_multiplier:t.cup_points_multiplier,date_of_competition:t.date_of_competition,competition_duration:t.competition_duration,start_of_competition:t.start_of_competition,end_of_competition:t.end_of_competition,total_weights:t.total_weights,fishes:t.fishes,state:t.state,createdAt:new Date(t.createdAt),signees:t.signees,results:t.results}})));case 8:return t.prev=8,t.t0=t["catch"](3),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"insertCompetition",value:function(t){return o.a.post(l,{competition_id:t.competition_id,competition_name:t.competition_name,cup_name:t.cup_name,cup_placement_points:t.cup_placement_points,cup_participation_points:t.cup_participation_points,cup_points_multiplier:t.cup_points_multiplier,date_of_competition:t.date_of_competition,competition_duration:t.competition_duration,start_of_competition:t.start_of_competition,end_of_competition:t.end_of_competition,fishes:t.fishes,state:t.state,signees:t.signees,results:t.results})}},{key:"updateCompetition",value:function(t,e){return o.a.put("".concat(l).concat(t),e)}},{key:"deleteCompetition",value:function(t){return o.a.delete("".concat(l).concat(t))}}]),t}();e["a"]=c},7156:function(t,e,i){var a=i("861d"),s=i("d2bb");t.exports=function(t,e,i){var n,r;return s&&"function"==typeof(n=e.constructor)&&n!==i&&a(r=n.prototype)&&r!==i.prototype&&s(t,r),t}},"7a77":function(t,e,i){"use strict";function a(t){this.message=t}a.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},a.prototype.__CANCEL__=!0,t.exports=a},"7aac":function(t,e,i){"use strict";var a=i("c532");t.exports=a.isStandardBrowserEnv()?function(){return{write:function(t,e,i,s,n,r){var o=[];o.push(t+"="+encodeURIComponent(e)),a.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),a.isString(s)&&o.push("path="+s),a.isString(n)&&o.push("domain="+n),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"83b9":function(t,e,i){"use strict";var a=i("d925"),s=i("e683");t.exports=function(t,e){return t&&!a(e)?s(t,e):e}},"8aa5":function(t,e,i){"use strict";var a=i("6547").charAt;t.exports=function(t,e,i){return e+(i?a(t,e).length:1)}},"8df4b":function(t,e,i){"use strict";var a=i("7a77");function s(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new a(t),e(i.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var t,e=new s((function(e){t=e}));return{token:e,cancel:t}},t.exports=s},"90ba":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("Timedate"),t.errors.length?i("div",{attrs:{id:"errordiv"}},[i("ul",{staticClass:"collection with-header"},[t._m(0),t._l(t.errors,(function(e,a){return i("li",{key:a,staticClass:"collection-item",attrs:{id:"error"}},[t._v(t._s(a+1)+". "+t._s(e))])}))],2)]):t._e(),i("div",{staticClass:"container-transparent"},[t._m(1),i("div",{staticClass:"row"},[i("router-link",{attrs:{to:"/comp-settings"}},[i("div",{staticClass:"col s4"},[i("a",{staticClass:"waves-effect waves-light grey btn"},[i("i",{staticClass:"material-icons left"},[t._v("tune")]),t._v("Määritykset")])])]),i("router-link",{attrs:{to:"/overview"}},[i("div",{staticClass:"col s4"},[i("a",{staticClass:"waves-effect waves-light btn"},[i("i",{staticClass:"material-icons left"},[t._v("info")]),t._v("Kilpailun yleisnäkymä")])])]),i("router-link",{attrs:{to:"/weighting"}},[i("div",{staticClass:"col s4"},[i("a",{staticClass:"waves-effect waves-light blue darken-2 btn"},[i("i",{staticClass:"material-icons left"},[t._v("fitness_center")]),t._v("Punnitus")])])])],1),t._m(2),i("div",{staticClass:"col s12 inputarea",attrs:{id:"signing"}},[t._m(3),t.notification?i("div",{staticClass:"section center-align"},[i("p",{staticClass:"flow-text green lighten-1 center-align",attrs:{id:"notification"}},[t._v(t._s(t.notification))])]):t._e(),t.old_info?i("div",{staticClass:"section center-align"},[i("div",{attrs:{id:"old-info-container col s6"}},[i("h3",[t._v("Numeron ("+t._s(t.old_info.boat_number)+".) Vanhat tiedot")]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Kapteeni:")]),t._v(" "+t._s(t.old_info.captain_name))]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Varakapteeni:")]),t._v(" "+t._s(t.old_info.temp_captain_name))]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Seura/Paikkakunta:")]),t._v(" "+t._s(t.old_info.locality))]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Seura/Paikkakunta:")]),t._v(" "+t._s(t.old_info.starting_place))]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Seura/Paikkakunta:")]),t._v(" "+t._s(t.old_info.team))])]),i("div",{staticClass:"divider black"}),i("div",{attrs:{id:"new-info-container col s6"}},[i("h3",[t._v("Numeron ("+t._s(t.boat_number)+".) Uudet tiedot")]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Kapteeni:")]),t._v(" "+t._s(t.captain_name))]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Varakapteeni:")]),t._v(" "+t._s(t.temp_captain_name))]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Seura/Paikkakunta:")]),t._v(" "+t._s(t.locality))]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Seura/Paikkakunta:")]),t._v(" "+t._s(t.starting_place))]),i("p",{staticClass:"flow-text"},[i("b",[t._v("Seura/Paikkakunta:")]),t._v(" "+t._s(t.team))])]),i("div",{staticClass:"row"},[i("a",{staticClass:"waves-effect waves-light yellow btn black-text col s4 push-s1",on:{click:function(e){return t.overwriteSignee(t.old_info,!1)}}},[i("i",{staticClass:"material-icons left"},[t._v("backspace")]),t._v("Peruuta")]),i("a",{staticClass:"waves-effect waves-light green btn col s4 push-s3",on:{click:function(e){return t.overwriteSignee(t.old_info,!0)}}},[i("i",{staticClass:"material-icons left"},[t._v("check")]),t._v("Päällekirjoita")])]),i("div",{staticClass:"divider black",staticStyle:{"margin-bottom":"20px"}})]):t._e(),t.old_info?t._e():i("div",{staticClass:"row",attrs:{id:"signing-inputs"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.boat_number,expression:"boat_number"}],staticClass:"validate",attrs:{id:"boat_number",name:"boat_number",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",type:"number",maxlength:"6",min:"1",step:"1"},domProps:{value:t.boat_number},on:{keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||(t.boat_number=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"boat_number"}},[t._v("Venekunnan numero")])]),i("div",{staticClass:"col s12",staticStyle:{"margin-top":"20px"}},[i("a",{staticClass:"waves-effect waves-light blue btn col s4 push-s4",on:{click:t.searchSelected}},[i("i",{staticClass:"material-icons left"},[t._v("info")]),t._v("Hae numerolla")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.captain_name,expression:"captain_name"}],staticClass:"validate",attrs:{id:"captain_name",type:"text",maxlength:"40"},domProps:{value:t.captain_name},on:{input:function(e){e.target.composing||(t.captain_name=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"captain_name"}},[t._v("Kapteeni")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.temp_captain_name,expression:"temp_captain_name"}],staticClass:"validate",attrs:{id:"temp_captain_name",placeholder:"Ei pakollinen",type:"text",maxlength:"40"},domProps:{value:t.temp_captain_name},on:{input:function(e){e.target.composing||(t.temp_captain_name=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"temp_captain_name"}},[t._v("Varakapteeni")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.locality,expression:"locality"}],staticClass:"validate",attrs:{id:"locality",type:"text",maxlength:"40"},domProps:{value:t.locality},on:{input:function(e){e.target.composing||(t.locality=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"locality"}},[t._v("Seura/Paikkakunta")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.starting_place,expression:"starting_place"}],staticClass:"validate",attrs:{id:"starting_place",name:"starting_place",placeholder:"Ei pakollinen",type:"text",maxlength:"40"},domProps:{value:t.starting_place},on:{input:function(e){e.target.composing||(t.starting_place=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"starting_place"}},[t._v("Lähtöpaikka")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.team,expression:"team"}],staticClass:"validate",attrs:{id:"team",type:"text",placeholder:"Ei pakollinen",maxlength:"40"},domProps:{value:t.team},on:{input:function(e){e.target.composing||(t.team=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"team"}},[t._v("Joukkue")])])])]),t.old_info?t._e():i("div",{staticClass:"row center-align"},[t.loading?i("div",[i("p",{staticClass:"flow-text"},[t._v("Päivitetään tiedot tietokantaan...")]),i("ProgressBarQuery")],1):t._e(),i("a",{staticClass:"waves-effect waves-light yellow black-text btn-large col s4 offset-s2",on:{click:t.clearInputs}},[i("i",{staticClass:"material-icons left"},[t._v("backspace")]),t._v("Pyyhi Kentät")]),i("a",{staticClass:"waves-effect waves-light green black-text btn-large col s3 offset-s1",on:{click:t.validateInfo}},[i("i",{staticClass:"material-icons right"},[t._v("save_alt")]),t._v("Tallenna")])])]),i("div",{staticClass:"col s12",attrs:{id:"signees-div"}},[i("div",{staticClass:"center-align col s4 inputarea"},[i("p",{staticClass:"flow-text"},[t._v("Ilmoittautuneita yhteensä: "),i("b",[t._v(t._s(t.$store.getters.getSignees.length))])])]),i("div",[t.$store.getters.getSignees.length?i("table",{staticClass:"highlight centered responsive-table fixed_header tablearea",attrs:{id:"signees-table"}},[t._m(4),i("tbody",t._l(t.$store.getters.getSignees,(function(e,a){return i("tr",{key:a,class:{selected:t.selected_id==e.id},on:{click:function(i){return t.selectRow(e.id)}}},[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(t._s(e.boat_number)+" ("+t._s(e.id)+")")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(t._s(e.captain_name))]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(t._s(e.temp_captain_name))]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(t._s(e.locality))])])})),0)]):t._e()]),t.selected_id?i("div",{staticClass:"section inputarea"},[i("div",{staticClass:"col s12 center-align"},[i("a",{staticClass:"waves-effect waves-light blue btn",on:{click:t.searchSelected}},[i("i",{staticClass:"material-icons left"},[t._v("info")]),t._v("Näytä valitun ilmoittautumistiedot")])])]):i("div",{staticClass:"section inputarea center-align"},[t.$store.getters.getSignees.length?i("p",{staticClass:"flow-text"},[t._v("Voit katsella venekunnan tietoja myös klikkaamalla haluamaasi riviä taulukosta ja painamalla ilmestyvää nappulaa")]):i("h3",{staticClass:"center-align"},[t._v("Ei ilmoittautuneita!")])])])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"collection-header"},[i("h4",[t._v("Korjaa seuraavat virheet:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"col s12 center-align"},[i("h1",[t._v("Ilmoittautuminen")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("ul",{staticClass:"tabs row"},[i("li",{staticClass:"tab col s6",attrs:{id:"signing-tab"}},[i("a",{staticClass:"active",attrs:{href:"#signing"}},[t._v("Ilmoittautuminen")])]),i("li",{staticClass:"tab col s6",attrs:{id:"signees-tab"}},[i("a",{attrs:{href:"#signees-div"}},[t._v("Ilmoittautuneet")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section center-align"},[i("p",{staticClass:"flow-text"},[t._v("Ilmoittautuminen")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Nro.")]),i("th",[t._v("Kapteeni")]),i("th",[t._v("Varakapteeni")]),i("th",[t._v("Seura/Paikkakunta")])])])}],n=(i("99af"),i("4160"),i("b0c0"),i("159b"),i("96cf"),i("1da1")),r=i("b3a7"),o=i("a822"),l=i("4d5c"),c=i.n(l),u=i("9225"),p=i("7149"),d={name:"Signing",components:{Timedate:r["a"],ProgressBarQuery:o["a"]},data:function(){return{errors:[],boat_number:null,starting_place:null,captain_name:null,temp_captain_name:null,locality:null,team:null,selected_id:null,id:1,new_signee:null,notification:null,loading:!1,old_info:null,signees:[]}},mounted:function(){c.a.AutoInit();var t=document.querySelectorAll(".tabs"),e=(c.a.Tabs.init(t,u["a"]),document.querySelectorAll(".tabs")[0]);this.tabs=c.a.Tabs.getInstance(e),this.signees=this.$store.getters.getCompetitionSignees,this.signees.length?(this.boat_number=this.$store.getters.getSigneesCount+1,this.id=this.$store.getters.getSigneesCount+1):(this.boat_number=1,this.id=1)},methods:{isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(e>31&&(e<48||e>57)&&46!==e)t.preventDefault();else{if(46!=e)return!0;t.preventDefault()}},clearInputs:function(){this.boat_number=null,this.starting_place=null,this.captain_name=null,this.temp_captain_name=null,this.locality=null,this.team=null,this.errors=[],this.old_info=null},overwriteSignee:function(t,e){!0===e?console.log("Overwrite!"):console.log("Don't overwrite!"),e?(t.boat_number=parseInt(this.boat_number),t.starting_place=this.starting_place,t.captain_name=this.captain_name,t.temp_captain_name=this.temp_captain_name,t.locality=this.locality,t.team=this.team,this.saveToDatabase(t,!0),this.clearInputs(),this.boat_number=this.id,this.notification="Tiedot korvattu uusilla!"):(this.notification="Veneen numero asetettu ensimmäiseen vapaaseen paikkaan!",this.boat_number=this.id,this.old_info=null)},searchSelected:function(){if(this.notification=null,0==this.tabs.index)if(this.boat_number){var t=this.searchBoatNumber(this.boat_number);if(t)this.notification="Venekunta löydetty!\n(".concat(t.boat_number,") : ").concat(t.captain_name,", ").concat(t.temp_captain_name),this.selected_id=t.id,this.boat_number=t.boat_number,this.starting_place=t.starting_place,this.captain_name=t.captain_name,this.temp_captain_name=t.temp_captain_name,this.locality=t.locality,this.team=t.team;else{var e=this.boat_number;this.clearInputs(),this.boat_number=e,this.notification="Tällä numerolla ei ole vielä ilmoitettu venekuntaa!",this.selected_id=null}}else this.notification="Syötä venekunnan numero ennen hakemista!";else if(this.selected_id){var i=this.selected_id;if(i){var a=this.$store.getters.getSigneeById(i);a?(this.notification="Venekunnan tiedot:\n(".concat(a.boat_number,") : ").concat(a.captain_name,", ").concat(a.temp_captain_name),this.boat_number=a.boat_number,this.starting_place=a.starting_place,this.captain_name=a.captain_name,this.temp_captain_name=a.temp_captain_name,this.locality=a.locality,this.team=a.team,this.tabs.select("signing")):(this.clearInputs(),this.notification="Tällä numerolla ei ole vielä ilmoitettu venekuntaa!")}else this.errors=[],this.showError("Valitse ilmoittautuneideiden listalta venekunta ennen hakemista!")}else this.errors=[],this.showError("Valitse ilmoittautuneideiden listalta venekunta ennen hakemista!")},selectRow:function(t){t==this.selected_id?this.selected_id=null:this.selected_id=t},searchBoatNumber:function(t){var e=parseInt(t);return this.$store.getters.getSigneeByBoatNumber(e)},searchId:function(t){var e=parseInt(t);return this.$store.getters.getSigneeById(e)},showError:function(t){this.errors.push(t),c.a.toast({html:t}),location.href="#",location.href="#app"},saveToDatabase:function(t,e){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return!0===e?i.$store.commit("replaceSignee",t):i.$store.commit("addSignee",t),s=i.$store.getters.getCompetition,s.signees=i.$store.getters.getSignees,s.state="Ilmoittautuminen",i.$store.commit("refreshCompetition",s),a.prev=5,i.loading=!0,a.next=9,p["a"].updateCompetition(s._id,s);case 9:console.log("Updated to database!"),i.loading=!1,a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),console.log(a.t0.message);case 16:case"end":return a.stop()}}),a,null,[[5,13]])})))()},validateInfo:function(){if(c.a.toast({html:"Todo: Tallenna tietokantaan"}),this.notification=null,this.errors=[],this.boat_number||this.showError("Venekunnan kilpailunumero puuttuu!"),this.captain_name||this.showError("Kapteenin nimi puuttuu!"),this.starting_place||(this.starting_place="-"),this.team||(this.team="-"),this.temp_captain_name||(this.temp_captain_name="-"),this.locality||this.showError("Seura/Paikkakunta puuttuu!"),!this.errors.length)if(this.selected_id){var t=this.searchId(this.selected_id);if(t){var e=this.searchBoatNumber(this.boat_number);e&&e.id!=t.id?(console.log("Boat already exists with this boat number.."),this.old_info=e,this.old_info="Kapteeni: ".concat(e.captain_name,", Varakapteeni: ").concat(e.temp_captain_name,", Seura/Paikkakunta: ").concat(e.locality)):(t.boat_number=parseInt(this.boat_number),t.starting_place=this.starting_place,t.captain_name=this.captain_name,t.temp_captain_name=this.temp_captain_name,t.locality=this.locality,t.team=this.team,this.new_signee=t,this.saveToDatabase(this.new_signee,!0),console.log("Found old signee, updating info..."),this.notification="Päivitetty venekunnan (Nro: ".concat(this.new_signee.boat_number,", Kapteeni: ").concat(this.new_signee.captain_name,") Tiedot!"),this.clearInputs(),this.boat_number=parseInt(this.new_signee.boat_number)+1,this.selected_id=null)}}else{var i=this.searchBoatNumber(this.boat_number);if(i&&i.id!=this.id)console.log("Boat already exists with this boat number.."),this.notification="Numerolla on jo olemassa venekunta, päällekirjoitetaanko?",this.old_info=i;else{var a=this.$store.getters.getCompetitionFishes,s=[];a.forEach((function(t){var e={name:t.name,weights:0,points:0};s.push(e)})),this.new_signee={id:this.id,boat_number:parseInt(this.boat_number),starting_place:this.starting_place,captain_name:this.captain_name,temp_captain_name:this.temp_captain_name,locality:this.locality,team:this.team,total_points:0,total_weights:0,returned:!1,weights:s},this.saveToDatabase(this.new_signee,!1),this.notification="Venekunta ilmoitettu kisaan! (Nro: ".concat(this.new_signee.boat_number,", Kapteeni: ").concat(this.new_signee.captain_name,")"),this.clearInputs(),this.boat_number=parseInt(this.new_signee.boat_number)+1,this.id++,this.selected_id=null}}}}},f=d,h=(i("06e3"),i("2877")),m=Object(h["a"])(f,a,s,!1,null,null,null);e["default"]=m.exports},9263:function(t,e,i){"use strict";var a=i("ad6d"),s=i("9f7f"),n=RegExp.prototype.exec,r=String.prototype.replace,o=n,l=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=s.UNSUPPORTED_Y||s.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],p=l||u||c;p&&(o=function(t){var e,i,s,o,p=this,d=c&&p.sticky,f=a.call(p),h=p.source,m=0,_=t;return d&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),_=String(t).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==t[p.lastIndex-1])&&(h="(?: "+h+")",_=" "+_,m++),i=new RegExp("^(?:"+h+")",f)),u&&(i=new RegExp("^"+h+"$(?!\\s)",f)),l&&(e=p.lastIndex),s=n.call(d?i:p,_),d?s?(s.input=s.input.slice(m),s[0]=s[0].slice(m),s.index=p.lastIndex,p.lastIndex+=s[0].length):p.lastIndex=0:l&&s&&(p.lastIndex=p.global?s.index+s[0].length:e),u&&s&&s.length>1&&r.call(s[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(s[o]=void 0)})),s}),t.exports=o},"96cf":function(t,e,i){var a=function(t){"use strict";var e,i=Object.prototype,a=i.hasOwnProperty,s="function"===typeof Symbol?Symbol:{},n=s.iterator||"@@iterator",r=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function l(t,e,i,a){var s=e&&e.prototype instanceof m?e:m,n=Object.create(s.prototype),r=new T(a||[]);return n._invoke=x(t,i,r),n}function c(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(a){return{type:"throw",arg:a}}}t.wrap=l;var u="suspendedStart",p="suspendedYield",d="executing",f="completed",h={};function m(){}function _(){}function v(){}var g={};g[n]=function(){return this};var b=Object.getPrototypeOf,C=b&&b(b($([])));C&&C!==i&&a.call(C,n)&&(g=C);var y=v.prototype=m.prototype=Object.create(g);function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function w(t,e){function i(s,n,r,o){var l=c(t[s],t,n);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"===typeof p&&a.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,r,o)}),(function(t){i("throw",t,r,o)})):e.resolve(p).then((function(t){u.value=t,r(u)}),(function(t){return i("throw",t,r,o)}))}o(l.arg)}var s;function n(t,a){function n(){return new e((function(e,s){i(t,a,e,s)}))}return s=s?s.then(n,n):n()}this._invoke=n}function x(t,e,i){var a=u;return function(s,n){if(a===d)throw new Error("Generator is already running");if(a===f){if("throw"===s)throw n;return I()}i.method=s,i.arg=n;while(1){var r=i.delegate;if(r){var o=S(r,i);if(o){if(o===h)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===u)throw a=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=d;var l=c(t,e,i);if("normal"===l.type){if(a=i.done?f:p,l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a=f,i.method="throw",i.arg=l.arg)}}}function S(t,i){var a=t.iterator[i.method];if(a===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,S(t,i),"throw"===i.method))return h;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var s=c(a,t.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,h;var n=s.arg;return n?n.done?(i[t.resultName]=n.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,h):n:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function $(t){if(t){var i=t[n];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var s=-1,r=function i(){while(++s<t.length)if(a.call(t,s))return i.value=t[s],i.done=!1,i;return i.value=e,i.done=!0,i};return r.next=r}}return{next:I}}function I(){return{value:e,done:!0}}return _.prototype=y.constructor=v,v.constructor=_,v[o]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},k(w.prototype),w.prototype[r]=function(){return this},t.AsyncIterator=w,t.async=function(e,i,a,s,n){void 0===n&&(n=Promise);var r=new w(l(e,i,a,s),n);return t.isGeneratorFunction(i)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},k(y),y[o]="Generator",y[n]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var a=e.pop();if(a in t)return i.value=a,i.done=!1,i}return i.done=!0,i}},t.values=$,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function s(a,s){return o.type="throw",o.arg=t,i.next=a,s&&(i.method="next",i.arg=e),!!s}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return s("end");if(r.tryLoc<=this.prev){var l=a.call(r,"catchLoc"),c=a.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return s(r.catchLoc,!0);if(this.prev<r.finallyLoc)return s(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return s(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return s(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&a.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var n=s;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=t,r.arg=e,n?(this.method="next",this.next=n.finallyLoc,h):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),j(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var s=a.arg;j(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,a){return this.delegate={iterator:$(t),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=a}catch(s){Function("r","regeneratorRuntime = r")(a)}},9984:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("Timedate"),i("div",{staticClass:"container-transparent"},[t._m(0),i("div",{staticClass:"row"},[i("router-link",{attrs:{to:"/overview"}},[i("div",{staticClass:"col s4 push-s4"},[i("a",{staticClass:"waves-effect waves-light btn"},[i("i",{staticClass:"material-icons left"},[t._v("info")]),t._v("Kilpailun yleisnäkymä")])])]),i("router-link",{attrs:{to:"/signing"}},[i("div",{staticClass:"col s4 push-s4"},[i("a",{staticClass:"waves-effect waves-light blue btn"},[i("i",{staticClass:"material-icons left"},[t._v("edit")]),t._v("Ilmoittautuminen")])])])],1),i("div",{staticClass:"section inputarea",attrs:{id:"settings-info"}},[i("div",{attrs:{id:"summary"}},[i("div",{staticClass:"basic_summary row section"},[i("div",{staticClass:"center-align col s8 push-s2"},[i("table",{staticClass:"striped centered responsive-table highlight"},[i("caption",{staticClass:"flow-text"},[t._v(" Perustiedot ")]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailu")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition.competition_name)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Cup")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition.cup_name)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Voittajan Cup sijoittumispisteet")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition.cup_placement_points)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailijoiden Cup osallistumispisteet")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition.cup_participation_points)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v(" Kilpailun pistekerroin ")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition.cup_points_multiplier)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Järjestetään")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition.date_of_competition)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailupäiviä")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition.competition_duration)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Ajankohta")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition.start_of_competition)+" - "+t._s(t.competition.end_of_competition)+" ")])]),t.competition_started?t.competition_started&&!t.competition_ended?i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailu loppuu")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.calculated_time)+" ")])]):i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailu loppunut")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.calculated_time)+" ")])]):i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailun alkaa")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.calculated_time)+" ")])])])])]),i("div",{staticClass:"fishes_summary row"},[t._m(1),i("div",{staticClass:"col s8 push-s2"},[i("table",{staticClass:"striped highlight centered responsive-table"},[t._m(2),i("tbody",t._l(t.fish_specs,(function(e,a){return i("tr",{key:a},[i("th",{staticStyle:{border:"1px solid black"},attrs:{scope:"row"}},[t._v(" "+t._s(e.name)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" x "+t._s(e.multiplier)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(t._s(e.minsize)+" cm")])])})),0)])])])])])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"col s12 center-align"},[i("h1",[t._v("Kilpailun määritykset")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"center-align"},[i("p",{staticClass:"flow-text"},[t._v("Kalojen määritykset")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Kalalaji")]),i("th",[t._v("Pistekerroin")]),i("th",[t._v("Alamitta")])])])}],n=(i("99af"),i("b3a7")),r=i("c1df"),o=i.n(r),l={name:"CompSettings",components:{Timedate:n["a"]},data:function(){return{competition:null,fish_specs:null,competition_started:!1,competition_ended:!1,calculated_time:null}},mounted:function(){this.calculateRemainingTime()},methods:{calculateRemainingTime:function(){var t=o()().format(),e=o()("".concat(this.competition.date_of_competition," ").concat(this.competition.start_of_competition),"DD.MM.YYYY HH:mm").format(),i=o()("".concat(this.competition.date_of_competition," ").concat(this.competition.end_of_competition),"DD.MM.YYYY HH:mm").format();this.competition_started=o()(t).isAfter(e),this.competition_ended=o()(t).isAfter(i),this.competition_started||this.competition_ended?(this.competition_started&&this.competition_ended,this.calculated_time=o()(t).to(i)):this.calculated_time=o()(t).to(e),setTimeout(this.calculateRemainingTime,6e4)}},created:function(){o.a.locale("fi"),this.$store.getters.getCompetition&&(this.fish_specs=this.$store.getters.getCompetitionFishes,this.competition=this.$store.getters.getCompetition)}},c=l,u=i("2877"),p=Object(u["a"])(c,a,s,!1,null,null,null);e["default"]=p.exports},"9f7f":function(t,e,i){"use strict";var a=i("d039");function s(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,i){"use strict";var a=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&a((function(){i.call(null,e||function(){throw 1},1)}))}},a822:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"progress"},[i("div",{staticClass:"indeterminate"})])}],n={name:"ProgressBarQuery"},r=n,o=i("2877"),l=Object(o["a"])(r,a,s,!1,null,null,null);e["a"]=l.exports},a9e3:function(t,e,i){"use strict";var a=i("83ab"),s=i("da84"),n=i("94ca"),r=i("6eeb"),o=i("5135"),l=i("c6b6"),c=i("7156"),u=i("c04e"),p=i("d039"),d=i("7c73"),f=i("241c").f,h=i("06cf").f,m=i("9bf2").f,_=i("58a8").trim,v="Number",g=s[v],b=g.prototype,C=l(d(b))==v,y=function(t){var e,i,a,s,n,r,o,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=_(c),e=c.charCodeAt(0),43===e||45===e){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+c}for(n=c.slice(2),r=n.length,o=0;o<r;o++)if(l=n.charCodeAt(o),l<48||l>s)return NaN;return parseInt(n,a)}return+c};if(n(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var k,w=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof w&&(C?p((function(){b.valueOf.call(i)})):l(i)!=v)?c(new g(y(e)),i,w):y(e)},x=a?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;x.length>S;S++)o(g,k=x[S])&&!o(w,k)&&m(w,k,h(g,k));w.prototype=b,b.constructor=w,r(s,v,w)}},ac1f:function(t,e,i){"use strict";var a=i("23e7"),s=i("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},b3c3:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("Timedate"),i("div",{staticClass:"container-transparent"},[t._m(0),i("div",{staticClass:"row"},[i("router-link",{attrs:{to:"/weighting"}},[i("div",{staticClass:"col s4"},[i("a",{staticClass:"waves-effect waves-light blue darken-2 btn"},[i("i",{staticClass:"material-icons left"},[t._v("fitness_center")]),t._v("Punnitus")])])]),i("router-link",{attrs:{to:"/overview"}},[i("div",{staticClass:"col s4"},[i("a",{staticClass:"waves-effect waves-light btn"},[i("i",{staticClass:"material-icons left"},[t._v("info")]),t._v("Kilpailun yleisnäkymä")])])])],1),i("div",{staticClass:"row"},[t._m(1),i("div",{staticClass:"col s12 inputarea",attrs:{id:"normal-competition"}},[i("div",{staticClass:"section"},[i("div",{staticClass:"row"},[i("table",{staticClass:"highlight centered responsive-table tablearea",attrs:{id:"normal-table"}},[t._m(2),i("tbody",t._l(t.results,(function(e,a){return i("tr",{key:a},[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.placement)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.boat_number)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.captain_name)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.locality)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.total_points)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.cup_placement_points)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.cup_participation_points)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.cup_points_total)+" ")])])})),0)])])])]),i("div",{staticClass:"col s12 inputarea",attrs:{id:"team-competition"}},[i("div",{staticClass:"section"},[i("div",{staticClass:"row"},[i("table",{staticClass:"highlight centered responsive-table tablearea",attrs:{id:"team-table"}},[t._m(3),i("tbody",t._l(t.team_results,(function(e,a){return i("tr",{key:a},[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(a+1)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(t._s(e.name))]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.captain_name_1)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.captain_name_2)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.captain_name_3)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(t._s(e.points))])])})),0)])])])]),i("div",{staticClass:"col s12 inputarea",attrs:{id:"biggest-fishes"}},[i("div",{staticClass:"section"},[i("div",{staticClass:"row"},[i("table",{staticClass:"highlight centered responsive-table tablearea",attrs:{id:"biggest-fishes-table"}},[t._m(4),i("tbody",t._l(t.biggest_fishes,(function(e,a){return i("tr",{key:a},[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" Todo ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.boat_number)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.captain_name)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v("Todo")])])})),0)])])])]),i("div",{staticClass:"col s12 inputarea",attrs:{id:"biggest-fish-amounts"}},[i("div",{staticClass:"section"},[i("div",{staticClass:"row"},[i("table",{staticClass:"highlight centered responsive-table tablearea",attrs:{id:"biggest-amounts-table"}},[t._m(5),i("tbody",t._l(t.biggest_fish_amounts,(function(e,a){return i("tr",{key:a},[i("th",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" Todo ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.boat_number)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.captain_name)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v("Todo")])])})),0)])])])])])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"col s12 center-align"},[i("h1",[t._v("Tulokset")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col s12"},[i("ul",{staticClass:"tabs"},[i("li",{staticClass:"tab col s3"},[i("a",{staticClass:"active",attrs:{href:"#normal-competition"}},[t._v("Normaalikilpailu")])]),i("li",{staticClass:"tab col s3"},[i("a",{attrs:{href:"#team-competition"}},[t._v("Tiimikilpailu")])]),i("li",{staticClass:"tab col s3"},[i("a",{attrs:{href:"#biggest-fishes"}},[t._v("Suurimmat Kalat")])]),i("li",{staticClass:"tab col s3"},[i("a",{attrs:{href:"#biggest-fish-amounts"}},[t._v("Suurimmat Kalasaaliit")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",{staticStyle:{background:"rgb(0, 1, 34)",color:"#fff"}},[i("tr",[i("th",[t._v("Sijoitus")]),i("th",[t._v("Nro")]),i("th",[t._v("Kapteeni")]),i("th",[t._v("Paikkakunta")]),i("th",[t._v("Tulos")]),i("th",[t._v("Cup sij. pisteet")]),i("th",[t._v("Cup osal. pisteet")]),i("th",[t._v("Cup pisteet yht.")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",{staticStyle:{background:"rgb(0, 1, 34)",color:"#fff"}},[i("tr",[i("th",[t._v("Sijoitus")]),i("th",[t._v("Tiimi")]),i("th",[t._v("Jäsen 1")]),i("th",[t._v("Jäsen 2")]),i("th",[t._v("Jäsen 3")]),i("th",[t._v("Pisteet")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",{staticStyle:{background:"rgb(0, 1, 34)",color:"#fff"}},[i("tr",[i("th",[t._v("Kalalaji")]),i("th",[t._v("Veneen nro")]),i("th",[t._v("Kapteeni")]),i("th",[t._v("Paino")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",{staticStyle:{background:"rgb(0, 1, 34)",color:"#fff"}},[i("tr",[i("th",[t._v("Kalalaji")]),i("th",[t._v("Veneen nro")]),i("th",[t._v("Kapteeni")]),i("th",[t._v("Paino")])])])}],n=(i("4de4"),i("4160"),i("c975"),i("d3b7"),i("6062"),i("3ca3"),i("159b"),i("ddb0"),i("2909")),r=i("b3a7"),o=i("4d5c"),l=i.n(o),c=i("9225"),u={name:"Results",components:{Timedate:r["a"]},data:function(){return{results:[],team_results:[],biggest_fishes:[],biggest_fish_amounts:[]}},mounted:function(){l.a.AutoInit();var t=document.querySelectorAll(".tabs"),e=(l.a.Tabs.init(t,c["a"]),document.querySelectorAll(".tabs")[0]);this.tabs=l.a.Tabs.getInstance(e),this.calculateTeamResults(),this.calculateNormalResults()},methods:{onlyUnique:function(t,e,i){return i.indexOf(t)===e},calculateNormalResults:function(){var t,e,i=this,a=this.$store.getters.getResultSignees,s=this.$store.getters.getCompetition,n=s.cup_points_multiplier,r=s.cup_placement_points,o=s.cup_participation_points,l=null,c=0,u=1;this.results=[],a.forEach((function(a){e=0,i.results.length?0==a.total_points?(r=0,e=o*n,c+=1):(a.total_points==l&&i.results.length?(u-=1,c+=1):u+=c,r<=20?a.total_points===l&&i.results.length||(r-=2*(c+1),c=0):r<=0?(r=0,c=0):(a.total_points!==l||i.results.length)&&(r-=2*(c+1),c=0),r>0?(t=r+o,e=t*n):e=o*n):(0==a.total_points&&(r=0),e=(r+o)*n),i.results.push({placement:u,boat_number:a.boat_number,captain_name:a.captain_name,locality:a.locality,total_points:a.total_points,cup_placement_points:r,cup_participation_points:o,cup_points_total:e}),c||(u+=1,l=a.total_points)}))},calculateTeamResults:function(){var t=this,e=this.$store.getters.getResultSignees,i=[];e.forEach((function(t){"-"!==t.team&&null!==t.team&&i.push(t.team)})),i=Object(n["a"])(new Set(i)),i.forEach((function(i){var a=e.filter((function(t){return t.team==i})),s=0,n=[];a.forEach((function(t){n.push(t.captain_name),s+=t.total_points})),1===n.length&&(n.push("-"),n.push("-")),2===n.length&&n.push("-"),t.team_results.push({name:i,captain_name_1:n[0],captain_name_2:n[1],captain_name_3:n[2],points:s})}))}}},p=u,d=i("2877"),f=Object(d["a"])(p,a,s,!1,null,null,null);e["default"]=f.exports},b50d:function(t,e,i){"use strict";var a=i("c532"),s=i("467f"),n=i("30b5"),r=i("83b9"),o=i("c345"),l=i("3934"),c=i("2d83");t.exports=function(t){return new Promise((function(e,u){var p=t.data,d=t.headers;a.isFormData(p)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+btoa(h+":"+m)}var _=r(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),n(_,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in f?o(f.getAllResponseHeaders()):null,a=t.responseType&&"text"!==t.responseType?f.response:f.responseText,n={data:a,status:f.status,statusText:f.statusText,headers:i,config:t,request:f};s(e,u,n),f=null}},f.onabort=function(){f&&(u(c("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){u(c("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(c(e,t,"ECONNABORTED",f)),f=null},a.isStandardBrowserEnv()){var v=i("7aac"),g=(t.withCredentials||l(_))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;g&&(d[t.xsrfHeaderName]=g)}if("setRequestHeader"in f&&a.forEach(d,(function(t,e){"undefined"===typeof p&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)})),a.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(b){if("json"!==t.responseType)throw b}"function"===typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),u(t),f=null)})),void 0===p&&(p=null),f.send(p)}))}},bb2f:function(t,e,i){var a=i("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bc3a:function(t,e,i){t.exports=i("cee4")},bee2:function(t,e,i){"use strict";function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function s(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}i.d(e,"a",(function(){return s}))},c345:function(t,e,i){"use strict";var a=i("c532"),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,n,r={};return t?(a.forEach(t.split("\n"),(function(t){if(n=t.indexOf(":"),e=a.trim(t.substr(0,n)).toLowerCase(),i=a.trim(t.substr(n+1)),e){if(r[e]&&s.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([i]):r[e]?r[e]+", "+i:i}})),r):r}},c401:function(t,e,i){"use strict";var a=i("c532");t.exports=function(t,e,i){return a.forEach(i,(function(i){t=i(t,e)})),t}},c532:function(t,e,i){"use strict";var a=i("1d2b"),s=Object.prototype.toString;function n(t){return"[object Array]"===s.call(t)}function r(t){return"undefined"===typeof t}function o(t){return null!==t&&!r(t)&&null!==t.constructor&&!r(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function l(t){return"[object ArrayBuffer]"===s.call(t)}function c(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function p(t){return"string"===typeof t}function d(t){return"number"===typeof t}function f(t){return null!==t&&"object"===typeof t}function h(t){return"[object Date]"===s.call(t)}function m(t){return"[object File]"===s.call(t)}function _(t){return"[object Blob]"===s.call(t)}function v(t){return"[object Function]"===s.call(t)}function g(t){return f(t)&&v(t.pipe)}function b(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function C(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function k(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),n(t))for(var i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function w(){var t={};function e(e,i){"object"===typeof t[i]&&"object"===typeof e?t[i]=w(t[i],e):t[i]=e}for(var i=0,a=arguments.length;i<a;i++)k(arguments[i],e);return t}function x(){var t={};function e(e,i){"object"===typeof t[i]&&"object"===typeof e?t[i]=x(t[i],e):t[i]="object"===typeof e?x({},e):e}for(var i=0,a=arguments.length;i<a;i++)k(arguments[i],e);return t}function S(t,e,i){return k(e,(function(e,s){t[s]=i&&"function"===typeof e?a(e,i):e})),t}t.exports={isArray:n,isArrayBuffer:l,isBuffer:o,isFormData:c,isArrayBufferView:u,isString:p,isNumber:d,isObject:f,isUndefined:r,isDate:h,isFile:m,isBlob:_,isFunction:v,isStream:g,isURLSearchParams:b,isStandardBrowserEnv:y,forEach:k,merge:w,deepMerge:x,extend:S,trim:C}},c8af:function(t,e,i){"use strict";var a=i("c532");t.exports=function(t,e){a.forEach(t,(function(i,a){a!==e&&a.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[a])}))}},c975:function(t,e,i){"use strict";var a=i("23e7"),s=i("4d64").indexOf,n=i("a640"),r=i("ae40"),o=[].indexOf,l=!!o&&1/[1].indexOf(1,-0)<0,c=n("indexOf"),u=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(t){return l?o.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})},cee4:function(t,e,i){"use strict";var a=i("c532"),s=i("1d2b"),n=i("0a06"),r=i("4a7b"),o=i("2444");function l(t){var e=new n(t),i=s(n.prototype.request,e);return a.extend(i,n.prototype,e),a.extend(i,e),i}var c=l(o);c.Axios=n,c.create=function(t){return l(r(c.defaults,t))},c.Cancel=i("7a77"),c.CancelToken=i("8df4b"),c.isCancel=i("2e67"),c.all=function(t){return Promise.all(t)},c.spread=i("0df6"),t.exports=c,t.exports.default=c},d4ec:function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",(function(){return a}))},d784:function(t,e,i){"use strict";i("ac1f");var a=i("6eeb"),s=i("d039"),n=i("b622"),r=i("9263"),o=i("9112"),l=n("species"),c=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),p=n("replace"),d=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),f=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,p){var h=n(t),m=!s((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),_=m&&!s((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[l]=function(){return i},i.flags="",i[h]=/./[h]),i.exec=function(){return e=!0,null},i[h](""),!e}));if(!m||!_||"replace"===t&&(!c||!u||d)||"split"===t&&!f){var v=/./[h],g=i(h,""[t],(function(t,e,i,a,s){return e.exec===r?m&&!s?{done:!0,value:v.call(e,i,a)}:{done:!0,value:t.call(i,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=g[0],C=g[1];a(String.prototype,t,b),a(RegExp.prototype,h,2==e?function(t,e){return C.call(t,this,e)}:function(t){return C.call(t,this)})}p&&o(RegExp.prototype[h],"sham",!0)}},d81d:function(t,e,i){"use strict";var a=i("23e7"),s=i("b727").map,n=i("1dde"),r=i("ae40"),o=n("map"),l=r("map");a({target:"Array",proto:!0,forced:!o||!l},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},d88b:function(t,e,i){"use strict";var a=i("0812"),s=i.n(a);s.a},d925:function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},df7c:function(t,e,i){(function(t){function i(t,e){for(var i=0,a=t.length-1;a>=0;a--){var s=t[a];"."===s?t.splice(a,1):".."===s?(t.splice(a,1),i++):i&&(t.splice(a,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function a(t){"string"!==typeof t&&(t+="");var e,i=0,a=-1,s=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!s){i=e+1;break}}else-1===a&&(s=!1,a=e+1);return-1===a?"":t.slice(i,a)}function s(t,e){if(t.filter)return t.filter(e);for(var i=[],a=0;a<t.length;a++)e(t[a],a,t)&&i.push(t[a]);return i}e.resolve=function(){for(var e="",a=!1,n=arguments.length-1;n>=-1&&!a;n--){var r=n>=0?arguments[n]:t.cwd();if("string"!==typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,a="/"===r.charAt(0))}return e=i(s(e.split("/"),(function(t){return!!t})),!a).join("/"),(a?"/":"")+e||"."},e.normalize=function(t){var a=e.isAbsolute(t),r="/"===n(t,-1);return t=i(s(t.split("/"),(function(t){return!!t})),!a).join("/"),t||a||(t="."),t&&r&&(t+="/"),(a?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(s(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,i){function a(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var i=t.length-1;i>=0;i--)if(""!==t[i])break;return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var s=a(t.split("/")),n=a(i.split("/")),r=Math.min(s.length,n.length),o=r,l=0;l<r;l++)if(s[l]!==n[l]){o=l;break}var c=[];for(l=o;l<s.length;l++)c.push("..");return c=c.concat(n.slice(o)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,a=-1,s=!0,n=t.length-1;n>=1;--n)if(e=t.charCodeAt(n),47===e){if(!s){a=n;break}}else s=!1;return-1===a?i?"/":".":i&&1===a?"/":t.slice(0,a)},e.basename=function(t,e){var i=a(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,i=0,a=-1,s=!0,n=0,r=t.length-1;r>=0;--r){var o=t.charCodeAt(r);if(47!==o)-1===a&&(s=!1,a=r+1),46===o?-1===e?e=r:1!==n&&(n=1):-1!==e&&(n=-1);else if(!s){i=r+1;break}}return-1===e||-1===a||0===n||1===n&&e===a-1&&e===i+1?"":t.slice(e,a)};var n="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,i("4362"))},e683:function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},f183:function(t,e,i){var a=i("d012"),s=i("861d"),n=i("5135"),r=i("9bf2").f,o=i("90e3"),l=i("bb2f"),c=o("meta"),u=0,p=Object.isExtensible||function(){return!0},d=function(t){r(t,c,{value:{objectID:"O"+ ++u,weakData:{}}})},f=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!n(t,c)){if(!p(t))return"F";if(!e)return"E";d(t)}return t[c].objectID},h=function(t,e){if(!n(t,c)){if(!p(t))return!0;if(!e)return!1;d(t)}return t[c].weakData},m=function(t){return l&&_.REQUIRED&&p(t)&&!n(t,c)&&d(t),t},_=t.exports={REQUIRED:!1,fastKey:f,getWeakData:h,onFreeze:m};a[c]=!0},f52d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"container"},[i("Timedate"),t.errors.length?i("div",{attrs:{id:"errordiv"}},[i("ul",{staticClass:"collection with-header"},[t._m(0),t._l(t.errors,(function(e,a){return i("li",{key:a,staticClass:"collection-item flow-text",attrs:{id:"error"}},[t._v(" "+t._s(a+1)+". "+t._s(e)+" ")])}))],2)]):t._e(),i("div",{staticClass:"container-transparent"},[t._m(1),i("div",{staticClass:"row"},[t._m(2),i("div",{staticClass:"col s12 inputarea",attrs:{id:"basic-info"}},[i("p",{staticClass:"center-align flow-text"},[t._v("Kilpailun perustiedot")]),t.basic_info_validated?i("p",{staticClass:"flow-text yellow lighten-1 center-align"},[t._v(' Tiedot lukittuna, paina "Muuta tietoja" jos haluat vielä muokata tietoja ')]):t._e(),i("div",{staticClass:"row",attrs:{id:"basic-inputs"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.competition_name,expression:"competition_name"}],staticClass:"validate",attrs:{id:"competition_name",name:"competition_name",type:"text",maxlength:"40"},domProps:{value:t.competition_name},on:{input:function(e){e.target.composing||(t.competition_name=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"competition_name"}},[t._v("Kilpailun nimi")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cup_name,expression:"cup_name"}],staticClass:"validate",attrs:{id:"cup_name",name:"cup_name",type:"text",maxlength:"40"},domProps:{value:t.cup_name},on:{input:function(e){e.target.composing||(t.cup_name=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"cup_name"}},[t._v("Cup nimi")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cup_placement_points,expression:"cup_placement_points"}],staticClass:"validate",attrs:{id:"cup_placement_points",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",type:"text",maxlength:"4"},domProps:{value:t.cup_placement_points},on:{keypress:function(e){return t.isNumber(e,!0)},input:function(e){e.target.composing||(t.cup_placement_points=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"cup_placement_points"}},[t._v("Kilpailun voittajan cup sijoittumispisteet")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cup_participation_points,expression:"cup_participation_points"}],staticClass:"validate",attrs:{id:"cup_participation_points",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",type:"text",maxlength:"4"},domProps:{value:t.cup_participation_points},on:{keypress:function(e){return t.isNumber(e,!0)},input:function(e){e.target.composing||(t.cup_participation_points=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"cup_participation_points"}},[t._v("Kilpailun cup osallistumispisteet")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.cup_points_multiplier,expression:"cup_points_multiplier"}],staticClass:"validate",attrs:{id:"cup_points_multiplier",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",type:"text",maxlength:"4",value:"1"},domProps:{value:t.cup_points_multiplier},on:{keypress:function(e){return t.isNumber(e,!0)},input:function(e){e.target.composing||(t.cup_points_multiplier=e.target.value)}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"cup_points_multiplier"}},[t._v("Cup pistekerroin")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.date_of_competition,expression:"date_of_competition",modifiers:{lazy:!0}}],staticClass:"datepicker validate",attrs:{id:"date_of_competition",name:"date_of_competition",type:"text",maxlength:"10"},domProps:{value:t.date_of_competition},on:{change:function(e){t.date_of_competition=e.target.value}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"date_of_competition"}},[t._v("Päivämäärä")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col s4 push-s4 center-align"},[i("v-select",{staticClass:"flow-text",attrs:{options:t.days_options},model:{value:t.competition_duration,callback:function(e){t.competition_duration=e},expression:"competition_duration"}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"date_of_competition"}},[t._v("Kilpailupäiviä")])],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.start_of_competition,expression:"start_of_competition",modifiers:{lazy:!0}}],staticClass:"timepicker",attrs:{id:"start_of_competition",name:"time_of_competition",type:"text",maxlength:"5"},domProps:{value:t.start_of_competition},on:{keypress:function(e){return t.isNumber(e,!1)},change:function(e){t.start_of_competition=e.target.value}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"start_of_competition"}},[t._v("Kilpailun alkamisaika")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"input-fields col s8 push-s2"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.end_of_competition,expression:"end_of_competition",modifiers:{lazy:!0}}],staticClass:"timepicker",attrs:{id:"end_of_competition",name:"end_of_competition",type:"text",maxlength:"5"},domProps:{value:t.end_of_competition},on:{keypress:function(e){return t.isNumber(e,!1)},change:function(e){t.end_of_competition=e.target.value}}}),i("label",{staticClass:"flow-text black-text",attrs:{for:"end_of_competition"}},[t._v("Kilpailun loppumisaika")])])]),i("div",{staticClass:"row"},[t.basic_info_validated?t._e():i("a",{staticClass:"col s4 offset-s4 waves-effect waves-light green btn-large",on:{click:t.checkBasicInformation}},[i("i",{staticClass:"material-icons left"},[t._v("check")]),t._v("Jatka")])])]),t.basic_info_validated?i("div",{staticClass:"row center-align"},[i("a",{staticClass:"waves-effect waves-light grey btn-large col s4 offset-s2",on:{click:function(e){return t.disableInputs(!1)}}},[i("i",{staticClass:"material-icons left"},[t._v("settings")]),t._v("Muuta tietoja")]),i("a",{staticClass:"waves-effect waves-light green btn-large col s3 offset-s1",on:{click:function(e){return t.tabs.select("fishes")}}},[i("i",{staticClass:"material-icons right"},[t._v("arrow_forward")]),t._v("Jatka")])]):t._e()]),i("div",{staticClass:"col s12 inputarea",attrs:{id:"fishes"}},[i("p",{staticClass:"flow-text center-align"},[t._v(" Kalalajien valitseminen kilpailuun ")]),t.fish_species_validated?i("p",{staticClass:"flow-text yellow lighten-1 center-align"},[t._v(' Tiedot lukittuna, paina "Muuta tietoja" jos haluat vielä muokata tietoja ')]):t._e(),i("div",{staticClass:"row section",staticStyle:{height:"400px"},attrs:{id:"fishes_select"}},[i("p",{staticClass:"center-align"},[t._v(" (Valitse allaolevasta laatikosta, voi myös lisätä oman kalalajin kirjoittamalla) ")]),i("v-select",{staticClass:"col s10 push-s1 flow-text",attrs:{taggable:"",multiple:"","push-tags":"",options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),i("div",{staticClass:"divider black"}),i("div",{staticClass:"section center-align"},[t.fish_species_validated?i("div",{staticClass:"row"},[i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light blue lighten-2 btn-large col s2",on:{click:function(e){return t.tabs.select("basic-info")}}},[i("i",{staticClass:"material-icons left"},[t._v("arrow_back")]),t._v("Takaisin")]),i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light grey btn-large col s3",on:{click:function(e){return t.disableInputs(!1)}}},[i("i",{staticClass:"material-icons left"},[t._v("settings")]),t._v("Muuta tietoja")]),i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light green btn-large col s2",on:{click:function(e){return t.tabs.select("points")}}},[i("i",{staticClass:"material-icons right"},[t._v("arrow_forward")]),t._v("Jatka")]),i("div",{staticClass:"col s1"})]):i("div",{staticClass:"row"},[i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light blue lighten-2 btn-large col s4",on:{click:function(e){return t.tabs.select("basic-info")}}},[i("i",{staticClass:"material-icons left"},[t._v("arrow_back")]),t._v("Takaisin")]),i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light green btn-large col s4",on:{click:t.checkFishSpecies}},[i("i",{staticClass:"material-icons left"},[t._v("check")]),t._v("Jatka")])])])]),i("div",{staticClass:"col s12 inputarea",attrs:{id:"points"}},[i("p",{staticClass:"flow-text center-align"},[t._v(" Syötä kaloille pistekertoimet ja alamitat ")]),t.fish_specs_validated?i("p",{staticClass:"flow-text yellow lighten-1 center-align"},[t._v(' Tiedot lukittuna, paina "Muuta tietoja" jos haluat vielä muokata tietoja ')]):t._e(),i("div",{staticClass:"specs",attrs:{id:"select_specs"}},[t.selected.length?i("ul",{attrs:{id:"fish_specs"}},t._l(t.selected,(function(e,a){return i("li",{key:e,attrs:{id:"fish_spec"}},[i("div",{staticClass:"row"},[i("span",{staticClass:"flow-text",attrs:{id:"fish_"+(a+1)+"_name"}},[t._v(t._s(a+1)+". "+t._s(e))])]),i("div",{staticClass:"row input-fields"},[t._m(3,!0),i("div",{staticClass:"col s4"},[i("input",{staticClass:"validate",attrs:{id:"fish_"+(a+1)+"_multiplier",type:"text",value:"1",maxlength:"4"},on:{keypress:function(e){return t.isNumber(e,!0)}}})])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col s12 input-fields"},[t._m(4,!0),i("div",{staticClass:"col s4"},[i("input",{staticClass:"validate",attrs:{id:"fish_"+(a+1)+"_minsize",type:"text",value:"0",maxlength:"4"},on:{keypress:function(e){return t.isNumber(e,!0)}}})])])])])})),0):i("p",{staticClass:"flow-text center-align"},[t._v(" Yhtään kalaa ei ole valittu! ")])]),i("div",{staticClass:"row section"},[t.selected.length&&!t.validated?i("div",{staticClass:"row"},[i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light blue lighten-2 btn-large col s4",on:{click:function(e){return t.tabs.select("fishes")}}},[i("i",{staticClass:"material-icons left"},[t._v("arrow_back")]),t._v("Takaisin")]),i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light green btn-large col s4",on:{click:t.checkFishSpecs}},[i("i",{staticClass:"material-icons left"},[t._v("check")]),t._v("Tarkista tiedot")])]):i("div",{staticClass:"row"},[i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light blue lighten-2 btn-large col s2",on:{click:function(e){return t.tabs.select("fishes")}}},[i("i",{staticClass:"material-icons left"},[t._v("arrow_back")]),t._v("Takaisin")]),i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light grey btn-large col s3",on:{click:function(e){return t.disableInputs(!1)}}},[i("i",{staticClass:"material-icons left"},[t._v("settings")]),t._v("Muuta tietoja")]),i("div",{staticClass:"col s1"}),i("a",{staticClass:"waves-effect waves-light green btn-large col s2",on:{click:function(e){return t.tabs.select("summary")}}},[i("i",{staticClass:"material-icons right"},[t._v("arrow_forward")]),t._v("Jatka")]),i("div",{staticClass:"col s1"})])])]),i("div",{staticClass:"col s12 inputarea",attrs:{id:"summary"}},[t.loading?i("div",[i("h2",[t._v("Tallennetaan kilpailua tietokantaan...")]),i("ProgressBarQuery")],1):i("div",[i("div",{staticClass:"basic_summary row section"},[i("div",{staticClass:"center-align col s8 push-s2"},[i("table",{staticClass:"striped centered responsive-table highlight"},[i("caption",{staticClass:"flow-text"},[t._v(" Perustiedot ")]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailu")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition_name)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Cup")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.cup_name)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Voittajan Cup sijoittumispisteet")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.cup_placement_points)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailijoiden Cup osallistumispisteet")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.cup_participation_points)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v(" Kilpailun Cup pistekerroin ")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.cup_points_multiplier)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Järjestetään")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.date_of_competition)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailupäiviä")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.competition_duration)+" ")])]),i("tr",[i("th",{staticStyle:{border:"1px solid black"}},[t._v("Kilpailuajankohta")]),i("td",{staticClass:"center-align",staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(t.start_of_competition)+" - "+t._s(t.end_of_competition)+" ")])])])])]),i("div",{staticClass:"fishes_summary section col s8 push-s2"},[t._m(5),i("div",{staticClass:"center-align"},[i("table",{staticClass:"striped highlight centered responsive-table"},[t._m(6),i("tbody",t._l(t.completed_fish_specs,(function(e,a){return i("tr",{key:a},[i("th",{staticStyle:{border:"1px solid black"},attrs:{scope:"row"}},[t._v(" "+t._s(e.name)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" x "+t._s(e.multiplier)+" ")]),i("td",{staticStyle:{border:"1px solid black"}},[t._v(" "+t._s(e.minsize)+" cm ")])])})),0)])]),i("div",{staticClass:"row section"},[i("div",{staticClass:"col s6"},[i("a",{staticClass:"waves-effect waves-light blue lighten-2 btn-large",on:{click:function(e){return t.tabs.select("points")}}},[i("i",{staticClass:"material-icons left"},[t._v("arrow_back")]),t._v("Takaisin")])]),t.validated?i("div",{staticClass:"col s6"},[i("a",{staticClass:"waves-effect waves-light green lighten-2 btn-large",on:{click:t.submitCompetition}},[i("i",{staticClass:"material-icons left"},[t._v("add_circle_outline")]),t._v("Luo kilpailu näillä tiedoilla")])]):t._e()])])])])])])],1)])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"collection-header"},[i("h4",[t._v("Korjaa seuraavat virheet:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("div",{staticClass:"col s12 center-align"},[i("h1",[t._v("Kilpailun luonti")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col s12"},[i("ul",{staticClass:"tabs"},[i("li",{staticClass:"tab col s3",attrs:{id:"info-tab"}},[i("a",{staticClass:"active",attrs:{href:"#basic-info"}},[t._v("1. Perustiedot")])]),i("li",{staticClass:"tab col s3 disabled",attrs:{id:"fishes-tab"}},[i("a",{attrs:{href:"#fishes"}},[t._v("2. Kilpailun kalalajit")])]),i("li",{staticClass:"tab col s3 disabled",attrs:{id:"points-tab"}},[i("a",{attrs:{href:"#points"}},[t._v("3. Pistekertoimet ja alamitat")])]),i("li",{staticClass:"tab col s3 disabled",attrs:{id:"summary-tab"}},[i("a",{attrs:{href:"#summary"}},[t._v("4. Yhteenveto")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col s6 push-s2"},[i("span",{staticClass:"flow-text"},[t._v("Pistekerroin")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col s6 push-s2"},[i("span",{staticClass:"flow-text"},[t._v("Alamitta")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"center-align"},[i("p",{staticClass:"flow-text"},[t._v("Kalojen määritykset")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Kalalaji")]),i("th",[t._v("Pistekerroin")]),i("th",[t._v("Alamitta")])])])}],n=(i("c975"),i("b0c0"),i("a9e3"),i("d3b7"),i("ac1f"),i("25f0"),i("5319"),i("96cf"),i("1da1")),r=i("4d5c"),o=i.n(r),l=(i("1465"),i("b3a7")),c=i("a822"),u=i("9225"),p=i("7149"),d=i("c1df"),f=i.n(d),h={name:"RegisterComp",components:{Timedate:l["a"],ProgressBarQuery:c["a"]},data:function(){return{errors:[],options:["Ahven","Hauki","Kuha","Lohi","Taimen"],selected:[],days_options:[1,2,3,4,5,6,7],competition_duration:null,competition_name:null,cup_name:null,cup_placement_points:30,cup_participation_points:5,cup_points_multiplier:1,date_of_competition:null,start_of_competition:null,end_of_competition:null,basic_info:null,completed_fish_specs:[],basic_info_validated:!1,fish_species_validated:!1,fish_specs_validated:!1,validated:!1,loading:!1,tabs:null}},mounted:function(){o.a.AutoInit();var t=document.querySelectorAll(".tabs"),e=(o.a.Tabs.init(t,u["a"]),document.querySelectorAll(".datepicker")),i=(o.a.Datepicker.init(e,u["a"]),document.querySelectorAll(".timepicker")),a=(o.a.Timepicker.init(i,u["a"]),document.querySelectorAll(".collapsible")),s=(o.a.Collapsible.init(a,u["a"]),document.querySelectorAll(".tabs")[0]);this.tabs=o.a.Tabs.getInstance(s),f.a.locale("fi")},methods:{isNumber:function(t,e){var i=46,a=".";e||(i=58,a=":"),t=t||window.event;var s=t.which?t.which:t.keyCode;if(s>31&&(s<48||s>57)&&s!==i)t.preventDefault();else{if(s!=i)return!0;if(!(t.target.value.indexOf(a)>=0))return!0;t.preventDefault()}},showError:function(t){this.errors.push(t),o.a.toast({html:t}),location.href="#",location.href="#app"},checkBasicInformation:function(){this.errors=[],this.basic_info_validated=!1,this.validated=!1;var t=f()(this.date_of_competition,"D.M.YYYY",!0).isValid(),e=f()(this.start_of_competition,"H:mm",!0).isValid(),i=f()(this.end_of_competition,"H:mm",!0).isValid();this.competition_name||this.showError("Kilpailun nimi puuttuu!"),this.cup_name||this.showError("Cupin nimi puuttuu!"),this.cup_placement_points||this.showError("Määritä kilpailun voittajalle Cup sijoittumispisteet (Voittaja saa pisteet: Sijoittumispisteet + Osallistumispisteet)!"),this.cup_participation_points||this.showError("Määritä kilpailun Cup osallistumispisteet!"),this.cup_points_multiplier||this.showError("Kilpailun pistekerroin puuttuu!"),this.date_of_competition&&t||(1==!this.date_of_competition?this.showError("Päivämäärää ei ole valittu!"):this.showError('Syötä päivämäärä muodossa "PP.KK.VVVV (esim: 06.02.2020)')),this.competition_duration||this.showError("Valitse monta kilpailupäivää kilpailu sisältää!"),this.start_of_competition&&e||(1==!this.start_of_competition?this.showError("Kilpailun alkamisnaika puuttuu!"):this.showError('Syötä aika muodossa "hh:mm" (esim: 13:00)')),this.end_of_competition&&i||(1==!this.end_of_competition?this.showError("Kilpailun loppumisaika puuttuu!"):this.showError('Syötä aika muodossa "hh:mm" (esim: 13:00)')),this.errors.length||(this.basic_info={competition_name:this.competition_name,cup_name:this.cup_name,cup_placement_points:Number(this.cup_placement_points),cup_participation_points:Number(this.cup_participation_points),cup_points_multiplier:Number(this.cup_points_multiplier),date_of_competition:this.date_of_competition,competition_duration:Number(this.competition_duration),start_of_competition:this.start_of_competition,end_of_competition:this.end_of_competition},document.getElementById("fishes-tab").classList.remove("disabled"),this.disableInputs(!0),this.tabs.select("fishes"))},checkFishSpecies:function(){this.errors=[],this.fish_species_validated=!1,this.validated=!1,this.selected.length?(this.selected=this.selected.sort(),document.getElementById("points-tab").classList.remove("disabled"),this.disableInputs(!0),this.tabs.select("points")):(this.errors.push("Yhtään kalalajia ei ole valittu!"),o.a.toast({html:"Yhtään kalalajia ei ole valittu!"}),this.fish_species_validated=!1,location.href="#",location.href="#app")},checkFishSpecs:function(){this.completed_fish_specs=[];for(var t=1;t<this.selected.length+1;t++){var e={name:document.getElementById("fish_".concat(t,"_name")).innerHTML.replace("".concat(t,". "),""),multiplier:document.getElementById("fish_".concat(t,"_multiplier")).value,minsize:document.getElementById("fish_".concat(t,"_minsize")).value,weights:0};e.multiplier&&e.minsize?this.completed_fish_specs.push(e):(this.errors=[],o.a.toast({html:"Syötä kalan '".concat(e.name,"' kaikki tiedot! (Pistekerroin = 1, Alamitta = 0 oletusarvot)")}),this.errors.push("Syötä kalan '".concat(e.name,"' kaikki tiedot! (Pistekerroin = 1, Alamitta = 0 oletusarvot)")),location.href="#",location.href="#app")}!this.errors.length&&this.completed_fish_specs.length==this.selected.length&&this.completed_fish_specs.length>0?(this.fish_specs_validated=!0,this.basic_info_validated&&this.fish_species_validated&&this.fish_specs_validated?(document.getElementById("summary-tab").classList.remove("disabled"),this.disableInputs(!0),this.tabs.select("summary")):(this.validated=!1,0==this.basic_info_validated?this.errors.push("Tarkista kilpailun perustiedot!"):console.log("Perustiedot kunnossa!"),0==this.fish_specs_validated?this.errors.push("Tarkista kalojen tiedot!"):console.log("Kalojen tiedot kunnossa!"),location.href="#",location.href="#app")):(o.a.toast({html:"Joitain tietoja puuttuu vielä!"}),location.href="#",location.href="#app")},disableInputs:function(t){0==this.tabs.index&&(t?(document.getElementById("basic-inputs").classList.add("disabledbutton"),this.basic_info_validated=!0):(document.getElementById("basic-inputs").classList.remove("disabledbutton"),document.getElementById("select_specs").classList.remove("disabledbutton"),this.basic_info_validated=!1,this.validated=!1)),1==this.tabs.index&&(t?(document.getElementById("fishes_select").classList.add("disabledbutton"),this.fish_species_validated=!0):(document.getElementById("fishes_select").classList.remove("disabledbutton"),document.getElementById("select_specs").classList.remove("disabledbutton"),this.fish_species_validated=!1,this.validated=!1)),2==this.tabs.index&&(t?(document.getElementById("select_specs").classList.add("disabledbutton"),this.fish_specs_validated=!0,this.validated=!0):(document.getElementById("select_specs").classList.remove("disabledbutton"),this.fish_specs_validated=!1,this.validated=!1))},submitCompetition:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.validated){e.next=17;break}return t.loading=!0,i=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),a={competition_id:i,competition_name:t.basic_info.competition_name,cup_name:t.basic_info.cup_name,cup_placement_points:t.basic_info.cup_placement_points,cup_participation_points:t.basic_info.cup_participation_points,cup_points_multiplier:t.basic_info.cup_points_multiplier,date_of_competition:t.basic_info.date_of_competition,competition_duration:t.basic_info.competition_duration,start_of_competition:t.basic_info.start_of_competition,end_of_competition:t.basic_info.end_of_competition,fishes:t.completed_fish_specs,state:"Rekisteröity",total_weights:0,signees:[],results:[]},e.prev=4,e.next=7,p["a"].insertCompetition(a);case 7:o.a.toast({html:"Kilpailu lisätty tietokantaan!"}),t.$store.commit("refreshCompetition",a),t.$router.push({path:"/overview"}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](4),t.errors.push=e.t0.message;case 15:e.next=18;break;case 17:t.errors.push("Not validated somehow?");case 18:case"end":return e.stop()}}),e,null,[[4,12]])})))()}}},m=h,_=i("2877"),v=Object(_["a"])(m,a,s,!1,null,null,null);e["default"]=v.exports},f6b49:function(t,e,i){"use strict";var a=i("c532");function s(){this.handlers=[]}s.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},s.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},s.prototype.forEach=function(t){a.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=s},f820:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about container"},[i("Timedate"),t.error?i("div",{staticClass:"row"},[t._v(" "+t._s(t.error)+" ")]):t._e(),t._m(0),i("div",{staticClass:"section",attrs:{id:"send-feedback"}},[i("h1",[t._v("Lähetä palautetta")]),i("p",{staticClass:"flow-text title black-text"},[t._v("Ilmoita bugeista, kehitysehdotuksista jne jne.")]),i("div",{staticClass:"row inputarea"},[t._m(1),i("v-select",{staticClass:"flow-text col s4 push-s1",attrs:{taggable:"","push-tags":"",options:t.type_options},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),i("div",{staticClass:"inputarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"flow-text",staticStyle:{"min-height":"200px"},attrs:{maxlength:"800",placeholder:"Palaute tähän"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})]),i("div",{staticClass:"section row title"},[i("a",{staticClass:"col s4 push-s4 waves-effect waves-light grey btn-large",on:{click:t.sendFeedback}},[i("i",{staticClass:"material-icons left"},[t._v("note_add")]),t._v("Lähetä palaute")])])]),i("div",{staticClass:"section",attrs:{id:"feedback"}},[i("h1",[t._v("Saatu Palaute")]),t.feedback.length?i("div",{attrs:{id:"feedback"}},[i("ul",{attrs:{id:"fish_weights"}},t._l(t.feedback,(function(e,a){return i("li",{key:a},[i("div",{staticClass:"col s12 m8 offset-m2 l6 offset-l3"},[i("div",{staticClass:"card-panel grey lighten-5 z-depth-1"},[i("p",{staticClass:"flow-text"},[t._v("#"+t._s(a+1)+" "+t._s(e.type)+" "),i("i",{staticClass:"material-icons"},[t._v("report")])]),i("div",{staticClass:"row valign-wrapper"},[t._m(2,!0),i("div",{staticClass:"col s10"},[i("p",{staticClass:"black-text flow-text ",staticStyle:{"word-break":"break-all"}},[t._v(" "+t._s(e.message)+" ")])])]),i("div",{staticClass:"row section center-align"},[i("a",{staticClass:"waves-effect waves-light yellow btn black-text col s4 push-s4",on:{click:function(i){return t.deleteFeedback(e._id)}}},[i("i",{staticClass:"material-icons left"},[t._v("done_outline")]),t._v(" Ratkaise ")])])])])])})),0)]):i("div",[t._m(3)])])],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col s12"},[i("ul",{staticClass:"tabs"},[i("li",{staticClass:"tab col s3"},[i("a",{staticClass:"active",attrs:{href:"#send-feedback"}},[t._v("Lähetä palautetta")])]),i("li",{staticClass:"tab col s3"},[i("a",{attrs:{href:"#feedback"}},[t._v("Saatu palaute")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"flow-text black-text col s4 push-s1"},[t._v("Palautteen tyyppi "),i("br"),t._v("(valitse tai kirjoita oma): ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col s2"},[a("img",{staticClass:"circle responsive-img",attrs:{src:i("cf05"),alt:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("p",{staticClass:"flow-text"},[t._v("Palautetta ei ole annettu vielä!")])])}],n=(i("96cf"),i("1da1")),r=i("b3a7"),o=i("4d5c"),l=i.n(o),c=i("9225"),u=(i("1465"),i("d81d"),i("d4ec")),p=i("bee2"),d=i("bc3a"),f=i.n(d),h="api/feedback/",m=function(){function t(){Object(u["a"])(this,t)}return Object(p["a"])(t,null,[{key:"getFeedback",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.a.get(h);case 2:return e=t.sent,t.prev=3,i=e.data,t.abrupt("return",i.map((function(t){return{_id:t._id,type:t.type,message:t.message,createdAt:new Date(t.createdAt)}})));case 8:return t.prev=8,t.t0=t["catch"](3),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"insertFeedback",value:function(t){return f.a.post(h,{type:t.type,message:t.message})}},{key:"deleteFeedback",value:function(t){return f.a.delete("".concat(h).concat(t))}}]),t}(),_=m,v={name:"About",components:{Timedate:r["a"]},data:function(){return{message:null,type:null,type_options:["Bugi","Ehdotus","Muu"],loading:!1,error:null,feedback:[]}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,_.getFeedback();case 4:t.feedback=e.sent,t.loading=!1,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.error=e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},mounted:function(){l.a.AutoInit();var t=document.querySelectorAll(".tabs"),e=(l.a.Tabs.init(t,c["a"]),document.querySelectorAll(".collapsible")),i=(l.a.Collapsible.init(e,c["a"]),document.querySelectorAll(".tabs")[0]);this.tabs=l.a.Tabs.getInstance(i),this.type=this.type_options[0]},methods:{sendFeedback:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.type),console.log(t.message),t.type||(t.type="-"),i={type:t.type,message:t.message},e.prev=4,e.next=7,_.insertFeedback(i);case 7:return l.a.toast({html:"Palaute vastaanotettu!"}),e.next=10,_.getFeedback();case 10:t.feedback=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),t.errors.push=e.t0.message;case 16:t.message=null;case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))()},deleteFeedback:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return l.a.toast({html:"Palaute ratkaistu!"}),e.loading=!0,i.prev=2,i.next=5,_.deleteFeedback(t);case 5:return i.next=7,_.getFeedback();case 7:e.feedback=i.sent,e.loading=!1,i.next=14;break;case 11:i.prev=11,i.t0=i["catch"](2),e.error=i.t0.message;case 14:case"end":return i.stop()}}),i,null,[[2,11]])})))()}}},g=v,b=i("2877"),C=Object(b["a"])(g,a,s,!1,null,null,null);e["default"]=C.exports}}]);
//# sourceMappingURL=about.f9ab3300.js.map