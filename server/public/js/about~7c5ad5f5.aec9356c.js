(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about~7c5ad5f5"],{"06e3":function(t,e,i){"use strict";i("215d")},"215d":function(t,e,i){},"4b37":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-navigation-drawer",{attrs:{permanent:""}},[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400",tile:"",dark:t.$store.getters.getTheme}},[i("v-list",{attrs:{dense:""}},[i("p",[t._v("Navigointi")]),i("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[i("v-divider"),t._l(t.items,(function(e,a){return i("div",{key:a},[i("v-list-item",{attrs:{disabled:t.$router.currentRoute.path===e.path},on:{click:function(i){return t.changePage(e.path)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1),i("v-divider")],1)}))],2)],1)],1)],1),i("v-container",{staticStyle:{width:"70%"}},[i("div",{class:{"container-transparent":!t.$store.getters.getTheme,"container-transparent-dark":t.$store.getters.getTheme}},[i("v-card",{staticStyle:{"background-color":"rgba(0, 0, 0, 0)"},attrs:{dark:t.$store.getters.getTheme}},[i("v-row",[i("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"12"}},[i("v-row",[i("v-col",{attrs:{md:"7"}},[i("h1",{staticStyle:{margin:"30px"}},[t._v("Punnitus")])]),i("v-col",{attrs:{md:"5"}},[i("div",{staticClass:"text-center"},[i("v-dialog",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("p",{class:{"black-text":!t.$store.getters.getTheme,"white-text":t.$store.getters.getTheme},staticStyle:{margin:"10px"}},[t._v(" Kello/Kilpailuaika ")]),i("v-btn",t._g(t._b({attrs:{text:"",outlined:"",color:"red darken-4",dark:""}},"v-btn",s,!1),a),[i("v-icon",[t._v("mdi-timer")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme,width:"600px"}},[i("Timedate"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Sulje ")])],1)],1)],1)],1)])],1)],1)],1)],1),i("v-tabs",{attrs:{"background-color":"blue lighten-2",color:"blue darken-4",grow:"","show-arrows":"","next-icon":"mdi-arrow-right-bold-box-outline","prev-icon":"mdi-arrow-left-bold-box-outline","center-active":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tabs-slider",{attrs:{color:"blue darken-4"}}),i("v-tab",{attrs:{href:"#weighting"}},[t._v("Punnitus")]),i("v-tab",{attrs:{href:"#situation"}},[t._v("Tilannekatsaus")]),i("v-tab",{attrs:{href:"#onwater"}},[t._v("Vielä vesillä")])],1),i("v-tabs-items",{staticStyle:{background:"rgba(0, 0, 0, 0.4)"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"weighting"}},[t.loading_site?i("v-row",[i("v-col",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Haetaan veneitä... ")]),i("ProgressBarQuery")],1)],1):i("v-row",[i("v-col",[t.signees.length?i("v-row",[i("v-col",[t.notification?i("v-row",{staticStyle:{"margin-top":"20px"}},[i("v-col",[i("v-alert",{attrs:{type:"success"}},[t._v(" "+t._s(t.notification)+" ")])],1)],1):t._e(),t.loading?t._e():i("v-row",{staticStyle:{"margin-top":"20px"}},[i("v-col",{class:{"grey darken-4":t.$store.getters.getTheme,"input-fields":!t.$store.getters.getTheme},staticStyle:{padding:"20px"},attrs:{md:"6","offset-md":"3"}},[i("v-col",[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Venekunta ")])]),i("v-col",{staticClass:"d-flex"},[i("v-autocomplete",{attrs:{"menu-props":t.$store.getters.getTheme?"dark":"light",dark:t.$store.getters.getTheme,items:t.sortedArray,"item-text":"select",label:"Valitse tai hae venekunta",hint:void 0!==t.boat_number_input["boat_number"]?"("+t.boat_number_input.boat_number+")\n                        "+t.boat_number_input.captain_name+",\n                        "+t.boat_number_input.temp_captain_name:"Valitse tai hae venekunta",disabled:t.loading_site,outlined:"","return-object":"","single-line":""},on:{input:function(e){return t.fetchFromDatabase(t.boat_number_input?t.boat_number_input.boat_number:-1)}},scopedSlots:t._u([{key:"item",fn:function(e){return["object"!==typeof e.item?[i("v-list-item-icon",[e.item.returned?i("v-icon",{attrs:{color:"green"}},[t._v("mdi-checkbox-marked-circle")]):i("v-icon",{attrs:{color:"yellow"}},[t._v("mdi-progress-question")])],1),i("v-list-item-content",{domProps:{textContent:t._s(e.item)}})]:[i("v-list-item-icon",[e.item.returned?i("v-icon",{attrs:{color:"green"}},[t._v("mdi-checkbox-marked-circle")]):i("v-icon",{attrs:{color:"yellow darken-2"}},[t._v("mdi-account-question")])],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:t._s(e.item.boat_number)}}),i("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.item.captain_name)}})],1)]]}}],null,!1,554738487),model:{value:t.boat_number_input,callback:function(e){t.boat_number_input=e},expression:"boat_number_input"}})],1)],1)],1),t.competition_boat?t._e():i("v-row",[i("v-col",[t.loading?i("v-alert",{attrs:{type:"info"}}):t._e(),t.searched?i("v-alert",{attrs:{type:"error"}},[t._v(" Numerolla ei löytynyt venekuntaa tietokannasta! ")]):i("v-alert",{attrs:{type:"warning"}},[t._v(" Venekuntaa ei valittuna ")])],1)],1),t.competition_boat?i("v-row",[i("v-col",[t.loading?t._e():i("v-row",{staticStyle:{"margin-top":"30px"}},[i("v-col",{attrs:{offset:"4",cols:"4"}},[i("v-btn",{attrs:{large:"",block:"",color:"yellow"},on:{click:t.clearInputs}},[i("v-icon",[t._v("mdi-backspace-reverse-outline")]),t._v("Peruuta valinta")],1)],1)],1),i("v-row",[i("v-col",[i("v-divider",{staticClass:"black"})],1)],1),i("v-col",{attrs:{md:"10","offset-md":"1"}},[t.$store.getters.getCompetitionFishes.length?i("ul",{staticStyle:{"list-style-type":"none"},attrs:{id:"fish_weights"}},[i("li",{staticStyle:{padding:"10px","margin-bottom":"10px"}},[i("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.isBiggestFishVisible=!t.isBiggestFishVisible}}},[i("v-icon",[t._v(t._s(t.isBiggestFishVisible?"mdi-eye-off":"mdi-eye"))]),t._v(t._s(t.isBiggestFishVisible?"Piilota":"Punnitse yksittäinen kala"))],1),t.loading_fish?i("v-row",{staticStyle:{"margin-top":"20px"}},[i("v-col",[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Lisätään kala tietokantaan... ")]),i("ProgressBarQuery")],1)],1):t._e(),!t.loading_fish&&t.isBiggestFishVisible?i("v-row",{staticStyle:{"margin-top":"20px"}},[i("v-col",{attrs:{md:"3"}},[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Suurin kala? ")])]),i("v-col",{attrs:{md:"4"}},[i("v-select",{staticClass:"flow-text",attrs:{outlined:"",label:"Valitse kalalaji painamalla","item-text":"name",items:t.competition_fishes,dark:t.$store.getters.getTheme},scopedSlots:t._u([{key:"selection",fn:function(e){return[i("v-chip",{attrs:{color:"primary",close:""},on:{"click:close":function(e){t.selected_fish=null}}},[t._v(" "+t._s(e.item.name)+" ")])]}}],null,!1,4227073677),model:{value:t.selected_fish,callback:function(e){t.selected_fish=e},expression:"selected_fish"}})],1),i("v-col",{staticClass:"input-fields",attrs:{md:"3"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Paino grammoina",type:"number",value:"0",step:"50",min:"0",rules:t.number_rules,loading:t.loading_fish},on:{paste:function(t){t.preventDefault()},keypress:function(e){return t.isNumber(e)}},model:{value:t.biggest_fish,callback:function(e){t.biggest_fish=e},expression:"biggest_fish"}})],1),i("v-col",{attrs:{md:"2"}},[t.selected_fish&&t.biggest_fish?i("v-btn",{attrs:{large:"",tile:"",color:"green"},on:{click:t.saveBiggestFish}},[i("v-icon",[t._v("mdi-content-save")]),t._v("Tallenna")],1):t._e()],1)],1):t._e()],1),t._l(t.inputs,(function(e,a){return i("li",{key:a,staticStyle:{"padding-top":"10px","padding-bottom":"20px"}},[i("v-row",[i("v-col",{attrs:{md:"12"}},[i("v-divider",{staticClass:"black"})],1)],1),i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{md:"6"}},[i("span",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" "+t._s(a+1)+". ")]),i("span",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" "+t._s(e.name)+" ")])]),i("v-col",{staticClass:"input-fields",attrs:{md:"4"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Paino grammoina",type:"number",value:"0",step:"50",min:"0",rules:t.number_rules,loading:t.loading_fish},on:{paste:function(t){t.preventDefault()},keypress:function(e){return t.isNumber(e)}},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"input.value"}})],1),i("v-col",{attrs:{md:"2"}},[i("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[i("v-icon",[t._v("mdi-plus")]),t._v("Plussaa")],1)]}}],null,!0),model:{value:e.dialog,callback:function(i){t.$set(e,"dialog",i)},expression:"input.dialog"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Yhteenlaske summat")])]),i("v-card-text",[i("v-row",[i("v-col",{attrs:{md:"6","offset-md":"3"}},[i("v-text-field",{staticClass:"title",attrs:{label:"Alkuperäinen arvo",value:e.value,disabled:""}})],1)],1),i("v-row",[i("v-col",{attrs:{md:"6 ","offset-md":"3"}},[i("v-text-field",{attrs:{label:"Lisättävä arvo",type:"number",step:"50",min:"0","single-line":"",outlined:""},on:{paste:function(t){t.preventDefault()},keypress:function(e){return t.isNumber(e)}},model:{value:e.addition,callback:function(i){t.$set(e,"addition",i)},expression:"input.addition"}})],1)],1),i("v-row",[i("v-col",{staticClass:"title red--text",attrs:{md:"6","offset-md":"3"}},[i("v-text-field",{attrs:{value:parseInt(e.value)+parseInt(e.addition?e.addition:0),label:"Summa",disabled:""}})],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{outlined:"",color:"red darken-1"},on:{click:function(t){e.addition=null,e.dialog=!1}}},[t._v("Peruuta")]),i("v-btn",{attrs:{outlined:"",color:"green darken-1"},on:{click:function(t){e.value=parseInt(e.value)+parseInt(e.addition?e.addition:0),e.dialog=!1,e.addition=0}}},[t._v("Tallenna")])],1)],1)],1)],1)],1)],1)}))],2):t._e(),i("v-row",[i("v-col",{attrs:{md:"12"}},[i("v-divider",{staticClass:"black"})],1)],1),t.loading?t._e():i("v-row",[i("v-col",[i("v-card",{attrs:{dark:t.$store.getters.getTheme,outlined:"",tile:""}},[i("v-card-title",[t._v("Yhteenveto")]),i("v-list",[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-weight-gram")])],1),i("v-list-item-content",[i("v-list-item-title",[i("h3",[t._v(" "+t._s(t.getBoatTotalWeights().toLocaleString())+" g ")])]),i("v-list-item-subtitle",[t._v(" Yhteispaino ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-counter")])],1),i("v-list-item-content",[i("v-list-item-title",[i("h3",[t._v(" "+t._s(t.getBoatTotalPoints().toLocaleString())+" p ")])]),i("v-list-item-subtitle",[t._v(" Yhteispisteet ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-pound-box")])],1),i("v-list-item-content",[i("v-list-item-title",[i("h3",[t._v("#"+t._s(t.getBoatPlacing()))])]),i("v-list-item-subtitle",[t._v(" Sijoitus ")])],1)],1)],1)],1)],1)],1),i("v-row",[i("v-col",{attrs:{md:"12"}},[i("v-divider",{staticClass:"black"})],1)],1),t.loading?t._e():i("v-row",[i("v-col",[i("v-btn",{attrs:{large:"",tile:"",color:"red",loading:t.refreshing},on:{click:function(e){return t.saveToDatabase(!0)}}},[i("v-icon",[t._v("mdi-delete")]),t._v("Nollaa")],1)],1),i("v-col",[t.refreshing?i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Synkronoidaan tietokannan kanssa... ")]):t._e()]),i("v-col",[i("v-btn",{attrs:{large:"",tile:"",color:"green",loading:t.refreshing},on:{click:function(e){return t.saveToDatabase(!1)}}},[i("v-icon",[t._v("mdi-check")]),t._v("Tallenna")],1)],1)],1),t.loading?i("v-row",[i("v-col",[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Päivitetään tiedot tietokantaan... ")]),i("ProgressBarQuery")],1)],1):i("v-row",{staticStyle:{"margin-bottom":"20px"}},[i("v-col",[i("v-btn",{staticClass:"white--text",attrs:{id:"updatebtn",large:"",tile:"",color:"blue darken-4"},on:{click:function(e){return t.refreshCompetition(t.competition_id)}}},[i("v-icon",[t._v("mdi-update")]),t._v("Päivitä kilpailun tiedot ")],1)],1)],1)],1)],1)],1):t._e()],1)],1):i("v-row",[i("v-col",{staticStyle:{padding:"30px"}},[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Kilpailussa ei vielä ilmoittautuneita! ")])])],1)],1)],1)],1),i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"situation"}},[i("v-row",[i("v-col",[t.result_signees.length?i("v-row",[i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"8","offset-md":"2"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-title",[i("p",{staticClass:"flow-text"},[t._v("Tilannekatsaus")]),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Hae kilpailijaa","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),i("v-data-table",{attrs:{headers:t.headers,items:t.sortedCompetition,search:t.search},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"item.placement",fn:function(e){var a=e.item;return[i("v-chip",{attrs:{outlined:t.$store.getters.getTheme,color:t.getColor(a.placement)}},[t._v(t._s(a.placement)+".")])]}},{key:"item.total_points",fn:function(e){var a=e.item;return[i("v-chip",{attrs:{color:t.getColorPoints(a.total_points)}},[t._v(t._s(a.total_points.toLocaleString())+" p")])]}}],null,!0)})],1)],1)],1):t._e(),t.selected_id&&t.result_signees.length?i("v-row",[i("v-col",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"},attrs:{md:"8","offset-md":"2"}},[i("v-btn",{attrs:{large:"",tile:"",color:"blue"},on:{click:t.searchSelected}},[i("v-icon",[t._v("mdi-arrow-right")]),t._v("Siirry punnitukseen")],1)],1)],1):i("v-row",[i("v-col",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"},attrs:{md:"8","offset-md":"2"}},[t.result_signees.length?i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Voit siirtyä punnitukseen myös klikkaamalla haluamaasi riviä taulukosta ja painamalla ilmestyvää nappulaa ")]):i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ei vielä tuloksia! ")])])],1)],1)],1)],1),i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"onwater"}},[i("v-row",[i("v-col",[t.signees.length&&t.still_on_water.length?t._e():i("v-row",[i("v-col",{staticClass:"input-fields",staticStyle:{"margin-top":"100px"},attrs:{md:"8","offset-md":"2"}},[t.signees.length?t._e():i("p",{staticClass:"flow-text red--text"},[t._v(" Kilpailussa ei vielä ilmoittautuneita! ")]),!t.still_on_water.length&&t.signees.length?i("p",{staticClass:"flow-text green--text"},[t._v(" Kaikki venekunnat palanneet maaliin! ")]):t._e()])],1),t.still_on_water.length?i("v-row",{staticStyle:{"margin-top":"20px"}},[i("v-col",{attrs:{md:"8","offset-md":"2"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-title",[i("p",{staticClass:"flow-text"},[t._v(" Venekunnat, jotka ovat vielä vesillä ")]),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Hae kilpailijaa","single-line":"","hide-details":""},model:{value:t.search_on_water,callback:function(e){t.search_on_water=e},expression:"search_on_water"}}),t._v(" >")],1),i("v-data-table",{attrs:{headers:t.headers_on_water,items:t.still_on_water,search:t.search_on_water,loading:t.loading},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"item.boat_number",fn:function(e){var a=e.item;return[i("v-chip",[t._v(t._s(a.boat_number)+".")])]}}],null,!0)})],1)],1)],1):t._e(),t.selected_id&&t.still_on_water.length?i("v-row",[i("v-col",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"},attrs:{md:"8","offset-md":"2"}},[i("v-btn",{attrs:{large:"",tile:"",color:"blue"},on:{click:t.searchSelected}},[i("v-icon",[t._v("mdi-arrow-right")]),t._v("Siirry punnitukseen")],1)],1)],1):i("v-row",[i("v-col",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"},attrs:{md:"8","offset-md":"2"}},[t.still_on_water.length?i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Voit siirtyä punnitukseen myös klikkaamalla haluamaasi riviä taulukosta ja painamalla ilmestyvää nappulaa ")]):t._e(),t.still_on_water.length?i("v-btn",{staticClass:"white--text",attrs:{large:"",tile:"",color:"grey darken-4",loading:t.loading},on:{click:t.allFinished}},[i("v-icon",[t._v("mdi-check-outline")]),t._v("Kaikki saapuneet maaliin")],1):t._e()],1)],1)],1)],1)],1)],1)],1)]),i("v-snackbar",{attrs:{timeout:t.timeout},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[i("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},s=[],n=i("1da1"),o=i("2909"),r=(i("96cf"),i("4e827"),i("d3b7"),i("159b"),i("7db0"),i("b0c0"),i("4de4"),i("99af"),i("c740"),i("a434"),i("6062"),i("3ca3"),i("ddb0"),i("7149")),l=i("b3a7"),c=i("a822"),u={name:"Weighting",components:{Timedate:l["a"],ProgressBarQuery:c["default"]},data:function(){return{dialog:!1,tab:null,competition_id:null,boat_number_input:{},competition_boat:null,calculated_total_weights:null,calculated_fish_weights:null,searched:!1,selected_id:null,selected_boat_number:null,loading:!1,refreshing:!1,loading_fish:!1,loading_site:!0,notification:null,biggest_fish:null,selected_fish:null,isBiggestFishVisible:!1,competition_fishes:[],biggest_fishes:{},biggest_amounts:{},signees:[],result_signees:[],headers:[{text:"Sijoitus",value:"placement"},{text:"Kilp. Numero",value:"boat_number"},{text:"Kippari",value:"captain_name"},{text:"Pisteet",value:"total_points"}],headers_on_water:[{text:"Kilp. Numero",value:"boat_number"},{text:"Kippari",value:"captain_name"},{text:"Varakippari",value:"temp_captain_name"},{text:"Lähtöpaikka",value:"starting_place"}],search_on_water:"",search:"",still_on_water:[],number_rules:[function(t){return!isNaN(t||"")||"Ei ole numero!"},function(t){return(t||"")>=0||"Numeron pitää olla positiivinen!"}],timer_refresh:null,interval:6e4,inputs:[],selectedItem:3,items:[{text:"Yleisnäkymä",icon:"mdi-desktop-mac-dashboard",path:"/overview"},{text:"Määritykset",icon:"mdi-tune",path:"/comp-settings"},{text:"Ilmoittautuminen",icon:"mdi-draw",path:"/signing"},{text:"Punnitus",icon:"mdi-dumbbell",path:"/weighting"},{text:"Tulokset",icon:"mdi-seal",path:"/results"}],snackbar:!1,text:"",timeout:5e3}},computed:{sortedArray:function(){return Object(o["a"])(this.signees).sort((function(t,e){return t.boat_number-e.boat_number}))},sortedCompetition:function(){var t=Object(o["a"])(this.signees).sort((function(t,e){return e.total_points-t.total_points})),e=1,i=-1,a=-1;return t.forEach((function(t){i===t.total_points?t.placement=a:(t.placement=e,i=t.total_points,a=t.placement),e++})),t}},created:function(){if(null!=localStorage.getItem("competition")){var t=JSON.parse(localStorage.getItem("competition"));this.competition_id=t["id"],this.loading_site=!0,this.refreshCompetition(this.competition_id)}},mounted:function(){if(!this.competition_id){var t=JSON.parse(localStorage.getItem("competition"));this.competition_id=t["id"],this.loading_site=!0,this.refreshCompetition(this.competition_id)}location.href="#",location.href="#app"},beforeDestroy:function(){},methods:{getBoatTotalPoints:function(){var t=this,e=0;return this.inputs.forEach((function(i){var a=t.competition_fishes.find((function(t){return t.name===i.name}));e+=a.multiplier*i.value})),e},getBoatTotalWeights:function(){return this.inputs.reduce((function(t,e){var i=t.value?parseInt(t.value):0,a=e.value?parseInt(e.value):0;return i+a}))},getBoatPlacing:function(){var t=this;if(0===this.sortedCompetition.length)return 1;var e=this.getBoatTotalPoints(),i=this.bisect(e,this.sortedCompetition),a=i+1,s=this.sortedCompetition.filter((function(t){return t.total_points===e}));return i>0&&s.every((function(e){return e.boat_number!==t.boat_number_input.boat_number||(a=e.placement,!1)})),a},bisect:function(t,e){var i;if(0===e.length)return 0;for(i=0;i<e.length;i++)if(t>e[i].total_points)return i;return i},changePage:function(t){this.$router.currentRoute.path!==t?(this.$router.push(t),this.drawer=!this.drawer):(this.text="Olet jo tällä sivulla!",this.snackbar=!0)},refreshCompetition:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,s,n,o,l,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.refreshing=!0,i.prev=1,i.next=4,r["a"].getCompetitions({_id:t});case 4:a=i.sent,a?(s=a,n=e.calculateNormalResults(s),s.normal_points=n.normal_points,s.normal_weights=n.normal_weights,e.$store.commit("refreshCompetition",s),e.competition_fishes=e.$store.getters.getCompetitionFishes,e.signees=e.$store.getters.getCompetitionSignees,o=1,l=-1,c=-1,e.signees.forEach((function(t){t.select="".concat(t.boat_number,", ").concat(t.captain_name),l===t.total_points?t.placement=c:(t.placement=o,l=t.total_points,c=t.placement),o++})),e.result_signees=e.$store.getters.getResultSignees,e.still_on_water=e.$store.getters.getStillOnWaterSignees,e.competition_fishes.forEach((function(t){e.inputs.push({name:t.name,value:null,dialog:!1,addition:null})}))):console.log("No competition found on database..."),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](1),console.log(i.t0);case 11:e.loading_site=!1,e.refreshing=!1;case 13:case"end":return i.stop()}}),i,null,[[1,8]])})))()},allFinished:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.signees.forEach((function(t){t.returned=!0})),i=t.$store.getters.getCompetition,a=t.calculateNormalResults(i),i.normal_points=a.normal_points,i.normal_weights=a.normal_weights,i.signees=t.signees,t.$store.commit("refreshCompetition",i),e.prev=7,t.loading=!0,s={$set:{normal_points:i.normal_points,normal_weights:i.normal_weights,signees:i.signees}},e.next=12,r["a"].updateValues(i._id,s);case 12:t.loading=!1,t.still_on_water=t.$store.getters.getStillOnWaterSignees,t.text="Kaikki kilpailijat merkattu maaliin saapuneeksi!",t.snackbar=!0,e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](7),console.log(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[7,18]])})))()},isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(e>31&&(e<48||e>57)&&46!==e)t.preventDefault();else{if(46!=e)return!0;t.preventDefault()}},searchBoatNumber:function(t){return this.$store.getters.getSigneeByBoatNumber(parseInt(t))},getColor:function(t){return t>30?"red":t>20?"orange":t>5?"yellow":"green"},getColorPoints:function(t){return t>0?"indigo":"grey"},rowClick:function(t,e){t.id==this.selected_id?(this.selected_id=null,this.selected_boat_number=null,e.select(!1)):(this.selected_row&&this.selected_row.select(!1),this.selected_id=t.id,this.selected_boat_number=t.boat_number,e.select(!0),this.selected_row=e)},setInputWeights:function(){var t=this;this.inputs.forEach((function(e){var i=e.name,a=t.competition_boat.weights.find((function(t){return t.name===i})).weights;e.value=a>0?a:null}))},searchSelected:function(){this.tab="weighting",this.fetchFromDatabase(this.selected_boat_number)},fetchFromDatabase:function(t){var e=this;this.selected_id=null,this.selected_boat_number=null,-1!==t?(this.searched=!0,this.notification=null,this.competition_boat=this.searchBoatNumber(t),this.competition_boat?(this.$nextTick((function(){return e.setInputWeights()})),this.boat_number_input=this.competition_boat):console.log("No such boat in list!")):this.clearInputs()},saveBiggestFish:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.selected_fish&&t.boat_number_input&&t.biggest_fish)){e.next=24;break}return i={name:t.selected_fish,boat_number:t.boat_number_input.boat_number,captain_name:t.boat_number_input.captain_name,weight:t.biggest_fish},t.$store.commit("addBiggestFish",i),t.biggest_fishes=t.$store.getters.getBiggestFishes,a=t.$store.getters.getCompetition,a.biggest_fishes=t.biggest_fishes,t.$store.commit("refreshCompetition",a),e.prev=7,t.loading_fish=!0,s={$set:{biggest_fishes:a.biggest_fishes}},e.next=12,r["a"].updateValues(a._id,s);case 12:t.notification="Tiedot päivitetty tietokantaan!",t.loading_fish=!1,t.selected_fish=null,t.biggest_fish=null,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),console.log(e.t0.message);case 20:t.text="Isoin kala tallennettu listaan!",t.snackbar=!0,e.next=25;break;case 24:console.log("Jokin input tyhjänä:");case 25:case"end":return e.stop()}}),e,null,[[7,17]])})))()},saveToDatabase:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,s,n,o,l,c,u,m,d,p,h,v;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.$store.getters.getCompetitionFishes,s=[],n=0,o=0,l=0,c=0,e.biggest_fishes=e.$store.getters.getBiggestFishes,e.selected_fish&&e.boat_number_input&&e.biggest_fish&&(m={name:e.selected_fish,boat_number:e.boat_number_input.boat_number,captain_name:e.boat_number_input.captain_name,weight:e.biggest_fish},e.$store.commit("addBiggestFish",m),e.biggest_fishes=e.$store.getters.getBiggestFishes,e.selected_fish=null,e.biggest_fish=null),t?(e.competition_boat.returned=!1,e.inputs.forEach((function(t){if(u=t.name,s.push({name:u,weights:l,points:c}),e.biggest_fishes&&e.biggest_fishes[u]){var i=e.biggest_fishes[u].findIndex((function(t){return parseInt(e.boat_number_input.boat_number)===parseInt(t.boat_number)}));i>-1&&e.biggest_fishes[u].splice(i,1)}if(e.biggest_amounts&&e.biggest_amounts[u]){var a=e.biggest_amounts[u].findIndex((function(t){return parseInt(e.boat_number_input.boat_number)===parseInt(t.boat_number)}));a>-1&&e.biggest_amounts[u].splice(a,1)}}))):(e.competition_boat.returned=!0,e.inputs.forEach((function(t){u=t.name,l=parseInt(t.value?t.value:0);var i=a.find((function(t){return t.name===u})).multiplier;c=l*i,s.push({name:u,weights:l,points:c});var r={name:u,boat_number:e.competition_boat.boat_number,captain_name:e.competition_boat.captain_name,weight:l};e.$store.commit("addBiggestAmount",r),e.biggest_amounts=e.$store.getters.getBiggestAmounts,n+=l,o+=c}))),e.competition_boat.weights=s,e.competition_boat.total_weights=n,e.competition_boat.total_points=o,e.$store.commit("replaceSignee",e.competition_boat),d=e.$store.getters.getCompetition,p=e.calculateNormalResults(d),h=e.calculateTotalWeights(),d.signees=e.$store.getters.getCompetitionSignees,d.normal_points=p.normal_points,d.normal_weights=p.normal_weights,d.team_competition&&(d.team_results=e.calculateTeamResults()),d.biggest_fishes=e.biggest_fishes,d.biggest_amounts=e.biggest_amounts,d.total_weights=h.total_weights,d.fishes=h.competition_fishes,e.still_on_water.length?d.state="Punnitus":d.state="Kaikki maalissa",e.$store.commit("refreshCompetition",d),i.prev=26,e.loading=!0,e.loading_fish=!0,v={$set:{signees:d.signees,normal_points:d.normal_points,normal_weights:d.normal_weights,team_results:d.team_results,biggest_fishes:d.biggest_fishes,biggest_amounts:d.biggest_amounts,fishes:d.fishes,total_weights:d.total_weights,state:d.state}},i.next=32,r["a"].updateValues(d._id,v);case 32:e.notification="Tiedot päivitetty tietokantaan!",e.boat_number_input={},e.competition_boat=null,e.signees=d.signees,e.competition_fishes=e.$store.getters.getCompetitionFishes,e.calculated_total_weights=e.$store.getters.getCompetitionTotalWeights,e.result_signees=e.$store.getters.getResultSignees,e.still_on_water=e.$store.getters.getStillOnWaterSignees,i.next=45;break;case 42:i.prev=42,i.t0=i["catch"](26),console.log(i.t0.message);case 45:e.loading=!1,e.loading_fish=!1,e.searched=!1;case 48:case"end":return i.stop()}}),i,null,[[26,42]])})))()},calculateNormalResults:function(t){var e,i=t.cup_placement_points_array,a=i[0],s=t.cup_participation_points,n=null,o=0,r=1,l=[],c=[];this.signees=t.signees.filter((function(t){return 1==t.returned})),this.signees=this.signees.sort((function(t,e){return parseInt(e.total_points)-parseInt(t.total_points)})),this.signees.forEach((function(u){e=0,n?(u.total_points==n?(r-=1,o+=1):r+=o,0==u.total_points&&u.total_points===n&&(o+=1)):n=u.total_points;var m=i.find((function(t){return t.placement===r}));a=m&&0!==u.total_points?m.points*t.cup_points_multiplier:0,e=a+s,l.push({placement:r,boat_number:u.boat_number,captain_name:u.captain_name,temp_captain_name:u.temp_captain_name,locality:u.locality,total_points:u.total_points.toLocaleString(),cup_placement_points:a,cup_participation_points:s,cup_points_total:e});var d={};d.placement=r,d.boat_number=u.boat_number,d.captain_name=u.captain_name,u.weights.forEach((function(t){var e=t.name,i=t.weights;d[e]=i})),d.total_points=u.total_points,c.push(d),n=u.total_points,o>0?r+=o:r++}));var u={normal_points:l,normal_weights:c};return u},calculateTeamResults:function(){var t=this,e=[],i=[];return this.signees.forEach((function(t){"-"!==t.team&&null!==t.team&&e.push(t.team)})),e=Object(o["a"])(new Set(e)),e.forEach((function(e){var a=t.signees.filter((function(t){return t.team==e})),s=0,n=[];a.forEach((function(t){n.push(t.captain_name),s+=t.total_points})),1===n.length&&(n.push("-"),n.push("-")),2===n.length&&n.push("-"),i.push({name:e,captain_name_1:n[0],captain_name_2:n[1],captain_name_3:n[2],points:s.toLocaleString()})})),i},calculateTotalWeights:function(){for(var t=this.$store.getters.getFinishedSignees,e=this.$store.getters.getCompetitionFishes,i=0,a=0;a<e.length;a++)e[a].weights=0;return t.forEach((function(t){for(var a=function(a){var s=t.weights.find((function(t){return e[a].name==t.name})).weights;e[a].weights+=parseInt(s),i+=parseInt(s)},s=0;s<e.length;s++)a(s)})),{total_weights:i,competition_fishes:e}},clearInputs:function(){this.text="Pyyhitään inputit ja valinnat...",this.snackbar=!0,this.inputs.forEach((function(t){t.value=null})),this.competition_boat=null,this.boat_number_input={},this.selected_fish=null,this.biggest_fish=null,this.searched=!1}}},m=u,d=i("2877"),p=i("6544"),h=i.n(p),v=i("0798"),_=i("c6a6"),g=i("8336"),f=i("b0af"),b=i("99d9"),k=i("cc20"),x=i("62ad"),w=i("a523"),y=i("8fea"),T=i("169a"),C=i("ce7e"),$=i("132d"),S=i("8860"),V=i("da13"),P=i("5d23"),I=i("1baa"),j=i("34c3"),E=i("f774"),D=i("0fd9"),K=i("b974"),N=i("2db4"),L=i("2fa4"),B=i("71a3"),O=i("c671"),R=i("fe57"),F=i("aac8"),Y=i("9a96"),A=i("8654"),M=Object(d["a"])(m,a,s,!1,null,null,null);e["default"]=M.exports;h()(M,{VAlert:v["a"],VAutocomplete:_["a"],VBtn:g["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VChip:k["a"],VCol:x["a"],VContainer:w["a"],VDataTable:y["a"],VDialog:T["a"],VDivider:C["a"],VIcon:$["a"],VList:S["a"],VListItem:V["a"],VListItemContent:P["a"],VListItemGroup:I["a"],VListItemIcon:j["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VNavigationDrawer:E["a"],VRow:D["a"],VSelect:K["a"],VSnackbar:N["a"],VSpacer:L["a"],VTab:B["a"],VTabItem:O["a"],VTabs:R["a"],VTabsItems:F["a"],VTabsSlider:Y["a"],VTextField:A["a"]})},"73cf":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",[i("v-col",[i("v-card",{class:{"container-transparent":!t.$store.getters.getTheme,"container-transparent-dark":t.$store.getters.getTheme},staticStyle:{padding:"30px",margin:"auto"},attrs:{"max-width":"800px",dark:t.$store.getters.getTheme}},[t.errors.length?i("v-card",{attrs:{dark:t.$store.getters.getTheme,id:"errordiv",elevation:"20"}},[i("v-alert",{attrs:{type:"error"}},[t._v(" Korjaa seuraavat virheet: ")]),i("v-list",t._l(t.errors,(function(e,a){return i("v-list-item",{key:a},[i("v-list-item-icon",[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e))])],1)],1)})),1)],1):t._e(),i("v-row",[i("v-col",[i("h1",{staticStyle:{margin:"30px"}},[t._v("Register")])])],1),i("form",[i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"8","offset-md":"2"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Käyttäjänimi",id:"name",name:"name",type:"text",maxlength:"40",loading:t.loading,counter:40},on:{paste:function(t){t.preventDefault()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"8","offset-md":"2"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Sähköpostiosoite",id:"email",name:"email",type:"email",maxlength:"40",loading:t.loading,counter:40},on:{paste:function(t){t.preventDefault()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"8","offset-md":"2"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Salasana",id:"password",name:"password",type:"password",maxlength:"40",loading:t.loading,counter:40},on:{paste:function(t){t.preventDefault()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"8","offset-md":"2"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Salasanan vahvistus",id:"password_confirmation",name:"password_confirmation",type:"password",maxlength:"40",loading:t.loading,counter:40},on:{paste:function(t){t.preventDefault()}},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}})],1)],1),t.password&&t.password===t.password_confirmation?i("v-row",[i("v-col",[i("span",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v("Salasanat täsmäävät! "),i("v-icon",[t._v("mdi-check-outline")])],1)])],1):i("v-row",[t.password&&t.password_confirmation?i("v-col",[i("span",{staticClass:"flow-text red-text"},[t._v("Salasanat ei täsmää! "),i("v-icon",[t._v("mdi-alert-circle")])],1)]):t._e()],1),i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"8","offset-md":"2"}},[i("span",{staticClass:"col s6 flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v("Admin?")]),i("v-radio-group",{attrs:{row:""},model:{value:t.is_admin,callback:function(e){t.is_admin=e},expression:"is_admin"}},[i("v-radio",{attrs:{label:"Kyllä",value:"Yes"}}),i("v-radio",{attrs:{label:"Ei",value:"No"}})],1)],1)],1),t.loading?i("ProgressBarQuery",{staticStyle:{"margin-bottom":"20px"}}):i("v-row",[i("v-col",[i("v-btn",{staticClass:"white--text",attrs:{id:"sbtn",large:"",tile:"",color:"blue darken-4",disabled:0===t.password.length||t.password!==t.password_confirmation},on:{click:t.handleSubmit}},[i("v-icon",[t._v("mdi-account-plus")]),t._v("Rekisteröidy ")],1)],1)],1)],1)],1)],1)],1),i("v-snackbar",{attrs:{timeout:t.timeout},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[i("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},s=[],n=i("1da1"),o=(i("96cf"),i("b0c0"),i("3faa")),r=i("a822"),l={props:["nextUrl"],data:function(){return{errors:[],name:"",email:"",password:"",password_confirmation:"",is_admin:"No",loading:!1,snackbar:!1,text:"",timeout:5e3}},components:{ProgressBarQuery:r["default"]},mounted:function(){var t=document.getElementById("password_confirmation");t.addEventListener("keyup",(function(t){13===t.keyCode&&(t.preventDefault(),document.getElementById("sbtn").click())})),location.href="#",location.href="#app"},methods:{showError:function(t){this.errors.push(t),location.href="#",location.href="#app"},handleSubmit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.loading=!0,t.preventDefault(),e.errors=[],e.email||e.showError("Syötä sähköposti!"),e.password||e.showError("Syötä salasana!"),e.name||e.showError("Syötä nimi!"),!(e.password===e.password_confirmation&&e.password.length>0)){i.next=19;break}if(e.errors.length){i.next=16;break}return a={name:e.name,email:e.email,password:e.password,is_admin:"Yes"===e.is_admin},i.next=11,o["a"].insertUser(a);case 11:s=i.sent,e.loading=!1,s.success?e.showError("Käyttäjä rekisteröity!"):"Email is already in use!"===s.error.msg?e.showError("Sähköposti on jo käytössä!"):"Username is already taken!"===s.error.msg?e.showError("Käyttäjänimi on jo käytössä!"):(e.showError("Jokin meni pieleen... yritä uudelleen!"),console.log(s.error)),i.next=17;break;case 16:e.loading=!1;case 17:i.next=21;break;case 19:e.loading=!1,e.showError("Salasanat eivät vastaa toisiaan!");case 21:case"end":return i.stop()}}),i)})))()}}},c=l,u=i("2877"),m=i("6544"),d=i.n(m),p=i("0798"),h=i("8336"),v=i("b0af"),_=i("62ad"),g=i("a523"),f=i("132d"),b=i("8860"),k=i("da13"),x=i("5d23"),w=i("34c3"),y=i("67b6"),T=i("43a6"),C=i("0fd9"),$=i("2db4"),S=i("8654"),V=Object(u["a"])(c,a,s,!1,null,null,null);e["default"]=V.exports;d()(V,{VAlert:p["a"],VBtn:h["a"],VCard:v["a"],VCol:_["a"],VContainer:g["a"],VIcon:f["a"],VList:b["a"],VListItem:k["a"],VListItemContent:x["a"],VListItemIcon:w["a"],VListItemTitle:x["c"],VRadio:y["a"],VRadioGroup:T["a"],VRow:C["a"],VSnackbar:$["a"],VTextField:S["a"]})},"90ba":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-navigation-drawer",{attrs:{permanent:""}},[i("v-card",{staticClass:"mx-auto",staticStyle:{top:"0"},attrs:{"max-width":"400",tile:"",dark:t.$store.getters.getTheme}},[i("v-list",{attrs:{dense:""}},[i("p",[t._v("Navigointi")]),i("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[i("v-divider"),t._l(t.items,(function(e,a){return i("div",{key:a},[i("v-list-item",{attrs:{disabled:t.$router.currentRoute.path===e.path},on:{click:function(i){return t.changePage(e.path)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1),i("v-divider")],1)}))],2)],1)],1)],1),i("v-container",{staticStyle:{width:"70%"}},[t.errors.length?i("v-card",{attrs:{dark:t.$store.getters.getTheme,id:"errordiv",elevation:"20"}},[i("v-alert",{attrs:{type:"error"}},[t._v(" Korjaa seuraavat virheet: ")]),i("v-list",t._l(t.errors,(function(e,a){return i("v-list-item",{key:a},[i("v-list-item-icon",[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e))])],1)],1)})),1)],1):t._e(),i("div",{class:{"container-transparent":!t.$store.getters.getTheme,"container-transparent-dark":t.$store.getters.getTheme}},[i("v-card",{staticStyle:{"background-color":"rgba(0, 0, 0, 0)"},attrs:{dark:t.$store.getters.getTheme}},[i("v-row",[i("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"12"}},[i("v-row",[i("v-col",{attrs:{md:"7"}},[i("h1",{staticStyle:{margin:"30px"}},[t._v("Ilmoittautuminen")])]),i("v-col",{attrs:{md:"5"}},[i("div",{staticClass:"text-center"},[i("v-dialog",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("p",{class:{"black-text":!t.$store.getters.getTheme,"white-text":t.$store.getters.getTheme},staticStyle:{margin:"10px"}},[t._v(" Kello/Kilpailuaika ")]),i("v-btn",t._g(t._b({attrs:{text:"",outlined:"",color:"red darken-4",dark:""}},"v-btn",s,!1),a),[i("v-icon",[t._v("mdi-timer")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme,width:"600px"}},[i("Timedate"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Sulje ")])],1)],1)],1)],1)])],1)],1)],1)],1),i("v-tabs",{attrs:{"background-color":"blue lighten-2",color:"blue darken-4",grow:"","show-arrows":"","next-icon":"mdi-arrow-right-bold-box-outline","prev-icon":"mdi-arrow-left-bold-box-outline","center-active":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tabs-slider",{attrs:{color:"blue darken-4"}}),i("v-tab",{attrs:{href:"#signing"}},[t._v("Ilmoittautuminen")]),i("v-tab",{attrs:{href:"#signees"}},[t._v("Ilmoittautuneet")])],1),i("v-tabs-items",{staticStyle:{background:"rgba(0, 0, 0, 0.4)"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"signing"}},[t.loading_site?i("v-row",[i("v-col",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Haetaan veneitä... ")]),i("ProgressBarQuery")],1)],1):i("v-row",[i("v-col",[i("v-row",{staticStyle:{"margin-top":"20px"}},[i("v-col",{attrs:{md:"10","offset-md":"1"}},[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ilmoittautuminen ")])])],1),t.notification?i("v-row",[i("v-col",{attrs:{md:"8","offset-md":"2"}},[i("v-alert",{staticClass:"flow-text",attrs:{type:"info"}},[t._v(" "+t._s(t.notification)+" ")])],1)],1):t._e(),t.old_info?i("v-row",[i("v-col",{attrs:{md:"8","offset-md":"2"}},[i("h3",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Numeron ("+t._s(t.old_info.boat_number)+".) Vanhat tiedot ")]),i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Kippari:")]),t._v(" "+t._s(t.old_info.captain_name)+" ")]),i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Varakippari:")]),t._v(" "+t._s(t.old_info.temp_captain_name)+" ")]),i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Seura/Paikkakunta:")]),t._v(" "+t._s(t.old_info.locality)+" ")]),i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Lähtöpaikka:")]),t._v(" "+t._s(t.old_info.starting_place)+" ")]),t.isTeamCompetition?i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Joukkue:")]),t._v(" "+t._s(t.old_info.team)+" ")]):t._e()]),i("v-col",{attrs:{md:"8","offset-md":"2"}},[i("v-divider",{staticClass:"black"})],1),i("v-col",{attrs:{md:"8","offset-md":"2"}},[i("h3",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Numeron ("+t._s(t.boat_number)+".) Uudet tiedot ")]),i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Kippari:")]),t._v(" "+t._s(t.captain_name)+" ")]),i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Varakippari:")]),t._v(" "+t._s(t.temp_captain_name)+" ")]),i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Seura/Paikkakunta:")]),t._v(" "+t._s(t.locality)+" ")]),i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Lähtöpaikka:")]),t._v(" "+t._s(t.starting_place)+" ")]),t.isTeamCompetition?i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[i("b",[t._v("Joukkue:")]),t._v(" "+t._s(t.team)+" ")]):t._e()]),i("v-col",{staticStyle:{"margin-bottom":"50px"},attrs:{md:"8","offset-md":"2"}},[i("v-divider",{staticClass:"black"})],1),i("v-row",[i("v-col",{attrs:{order:"first"}},[i("v-btn",{attrs:{large:"",tile:"",color:"yellow"},on:{click:function(e){return t.overwriteSignee(t.old_info,!1)}}},[i("v-icon",[t._v("mdi-cancel")]),t._v("Peruuta")],1)],1),i("v-col",{attrs:{order:"last"}},[i("v-btn",{attrs:{large:"",tile:"",color:"green"},on:{click:function(e){return t.overwriteSignee(t.old_info,!0)}}},[i("v-icon",[t._v("mdi-check")]),t._v("Päällekirjoita")],1)],1)],1)],1):t._e(),t.old_info?t._e():i("v-row",{attrs:{id:"signing-inputs"}},[i("v-col",[i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"3","offset-md":"4"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Venekunnan numero","append-outer-icon":"add",maxlength:"6","prepend-icon":"remove",counter:6,rules:t.number_rules,loading:t.loading},on:{"click:append-outer":function(e){t.boat_number>0?t.boat_number++:t.boat_number=1},"click:prepend":function(e){t.boat_number>1?t.boat_number--:t.boat_number=1},paste:function(t){t.preventDefault()},keypress:function(e){return t.isNumber(e,!0)}},model:{value:t.boat_number,callback:function(e){t.boat_number=e},expression:"boat_number"}})],1)],1),i("v-row",[i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"2","offset-md":"2"}},[i("v-btn",{attrs:{large:"",block:"",color:"blue"},on:{click:t.searchFromCup}},[i("v-icon",[t._v("find_replace")]),t._v("Hae cupista")],1)],1),i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"2","offset-md":"2"}},[i("v-btn",{attrs:{large:"",block:"",color:"indigo"},on:{click:t.searchSelected}},[i("v-icon",[t._v("mdi-magnify")]),t._v("Hae ilmoittautuneista")],1)],1)],1),i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"5","offset-md":"3"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Kippari",maxlength:t.maxlength,loading:t.loading,counter:t.maxlength},model:{value:t.captain_name,callback:function(e){t.captain_name=e},expression:"captain_name"}})],1)],1),i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"5","offset-md":"3"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Varakippari",maxlength:t.maxlength,loading:t.loading,counter:t.maxlength},model:{value:t.temp_captain_name,callback:function(e){t.temp_captain_name=e},expression:"temp_captain_name"}})],1)],1),i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"5","offset-md":"3"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Seura/Paikkakunta",id:"locality",maxlength:t.maxlength,loading:t.loading,counter:t.maxlength},model:{value:t.locality,callback:function(e){t.locality=e},expression:"locality"}})],1)],1),i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"5","offset-md":"3"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Lähtöpaikka",id:"starting_place",maxlength:t.maxlength,loading:t.loading,counter:t.maxlength},model:{value:t.starting_place,callback:function(e){t.starting_place=e},expression:"starting_place"}})],1)],1),t.isTeamCompetition?i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"5","offset-md":"3"}},[i("v-combobox",{attrs:{items:t.teams,label:"Valitse, tai kirjoita tiimin nimi",chips:"",maxlength:"40"},scopedSlots:t._u([{key:"selection",fn:function(e){return[i("v-chip",t._b({key:JSON.stringify(e.item),attrs:{"input-value":e.selected,disabled:e.disabled},on:{"click:close":function(t){return e.parent.selectItem(e.item)}}},"v-chip",e.attrs,!1),[i("v-avatar",{staticClass:"accent white--text",attrs:{left:""},domProps:{textContent:t._s(e.item.slice(0,1).toUpperCase())}}),t._v(" "+t._s(e.item)+" ")],1)]}}],null,!1,3131936958),model:{value:t.team,callback:function(e){t.team=e},expression:"team"}})],1)],1):t._e(),t.old_info?t._e():i("v-row",[t.loading?i("v-row",[i("v-col",{attrs:{md:"12"}},[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Päivitetään tiedot tietokantaan... ")]),i("ProgressBarQuery")],1)],1):i("v-row",{staticStyle:{margin:"40px"}},[i("v-row",[i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"4"}},[i("v-btn",{attrs:{large:"",tile:"",color:"red",loading:t.refreshing},on:{click:function(e){return t.deleteSignee(!1,-1)}}},[i("v-icon",[t._v("mdi-delete")]),t._v("Poista Venekunta")],1)],1),i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"4"}},[i("v-btn",{attrs:{large:"",tile:"",color:"yellow",loading:t.refreshing},on:{click:t.clearInputs}},[i("v-icon",[t._v("backspace-reverse-outline")]),t._v("Pyyhi Kentät")],1)],1),i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"4"}},[i("v-btn",{attrs:{large:"",tile:"",color:"green",loading:t.refreshing,id:"sbtn"},on:{click:t.validateInfo}},[i("v-icon",[t._v("mdi-content-save")]),t._v("Tallenna")],1)],1)],1)],1)],1),i("v-row",[i("v-col",{attrs:{md:"6","offset-md":"3"}},[t.refreshing?i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Synkronoidaan tietokannan kanssa... ")]):t._e()])],1),i("v-row",{staticStyle:{"margin-bottom":"20px"}},[i("v-col",{attrs:{md:"4","offset-md":"4"}},[t.competition_id?i("v-btn",{staticClass:"white--text",attrs:{id:"updatebtn",large:"",block:"",color:"blue darken-4"},on:{click:function(e){return t.refreshCompetition(t.competition_id)}}},[i("v-icon",[t._v("mdi-update")]),t._v("Päivitä kilpailun tiedot ")],1):t._e()],1)],1)],1)],1)],1)],1)],1),i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"signees"}},[i("v-row",[i("v-col",[i("v-row",{staticStyle:{"margin-top":"20px"}},[i("v-col",{staticClass:"title",attrs:{"offset-md":"4",md:"4"}},[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ilmoittautuneita yhteensä: "),i("b",[t._v(t._s(t.signees.length))])])])],1),i("v-row",[i("v-col",{attrs:{md:"10","offset-md":"1"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-title",[i("p",{staticClass:"flow-text"},[t._v("Ilmoittautuneet")]),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Hae ilmoittautunutta","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),i("v-data-table",{attrs:{headers:t.headers,items:t.signees,search:t.search},on:{"click:row":t.rowClick}})],1)],1)],1),t.selected_id?i("v-row",[i("v-col",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[i("v-btn",{attrs:{large:"",tile:"",color:"blue"},on:{click:t.searchSelected}},[i("v-icon",[t._v("mdi-information")]),t._v("Näytä valitun ilmoittautumistiedot")],1)],1)],1):i("v-row",[i("v-col",{staticStyle:{margin:"20px 50px"}},[t.signees.length?i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Voit katsella venekunnan tietoja myös klikkaamalla haluamaasi riviä taulukosta ja painamalla ilmestyvää nappulaa ")]):i("h3",{staticClass:"center-align",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ei ilmoittautuneita! ")])])],1)],1)],1)],1)],1)],1)],1),i("v-snackbar",{attrs:{timeout:t.timeout},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[i("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},s=[],n=i("1da1"),o=(i("96cf"),i("d81d"),i("ac1f"),i("5319"),i("fb6a"),i("99af"),i("7db0"),i("d3b7"),i("c740"),i("159b"),i("b0c0"),i("7149")),r=i("51dd"),l=i("b3a7"),c=i("a822"),u={name:"Signing",components:{Timedate:l["a"],ProgressBarQuery:c["default"]},data:function(){return{dialog:!1,errors:[],tab:null,boat_number:null,starting_place:null,captain_name:null,temp_captain_name:null,locality:null,team:null,selected_id:null,selected_row:null,id:1,new_signee:null,notification:null,loading:!1,refreshing:!1,loading_site:!1,competition_id:null,old_info:null,signees:[],headers:[{text:"Kilp. Numero",value:"boat_number"},{text:"Kippari",value:"captain_name"},{text:"Varakippari",value:"temp_captain_name"},{text:"Seura/Paikkakunta",value:"locality"}],search:"",cup:[],teams:[],maxlength:40,isTeamCompetition:!1,number_rules:[function(t){return!isNaN(t||"")||"Ei ole numero!"},function(t){return(t||"")>=0||"Numeron pitää olla positiivinen!"}],timer_refresh:null,interval:6e4,selectedItem:2,items:[{text:"Yleisnäkymä",icon:"mdi-desktop-mac-dashboard",path:"/overview"},{text:"Määritykset",icon:"mdi-tune",path:"/comp-settings"},{text:"Ilmoittautuminen",icon:"mdi-draw",path:"/signing"},{text:"Punnitus",icon:"mdi-dumbbell",path:"/weighting"},{text:"Tulokset",icon:"mdi-seal",path:"/results"}],snackbar:!1,text:"",timeout:5e3}},mounted:function(){if(null!=localStorage.getItem("competition")){var t=JSON.parse(localStorage.getItem("competition"));this.competition_id=t["id"],this.loading_site=!0,this.refreshCompetition(this.competition_id)}location.href="#",location.href="#app"},beforeDestroy:function(){},methods:{changePage:function(t){this.$router.currentRoute.path!==t?(this.$router.push(t),this.drawer=!this.drawer):(this.text="Olet jo tällä sivulla!",this.snackbar=!0)},refreshCompetition:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.refreshing=!0,i.prev=1,i.next=4,o["a"].getCompetitions({_id:t});case 4:if(a=i.sent,!a){i.next=17;break}return e.$store.commit("refreshCompetition",a),e.isTeamCompetition=e.$store.getters.isTeamCompetition,e.signees=e.$store.getters.getSignees,e.teams=e.$store.getters.getTeams,e.signees.length?(e.boat_number=Math.max.apply(Math,e.signees.map((function(t){return t.boat_number})))+1,e.id=Math.max.apply(Math,e.signees.map((function(t){return t.id})))+1):(e.boat_number=1,e.id=1),i.next=13,r["a"].getCups({_id:a.cup_id});case 13:s=i.sent,s&&(e.cup=s),i.next=18;break;case 17:console.log("No competition found on database...");case 18:i.next=23;break;case 20:i.prev=20,i.t0=i["catch"](1),console.log(i.t0.message);case 23:e.loading_site=!1,e.refreshing=!1;case 25:case"end":return i.stop()}}),i,null,[[1,20]])})))()},isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(e>31&&(e<48||e>57)&&46!==e)t.preventDefault();else{if(46!=e)return!0;t.preventDefault()}},capitalize_words:function(t){return t.replace(/(?:^|\s|['`‘’.-])[^\x60^\x7B-\xDF](?!(\s|$))/g,(function(t){return t.toUpperCase()}))},clearInputs:function(){this.boat_number=null,this.starting_place=null,this.captain_name=null,this.temp_captain_name=null,this.locality=null,this.team=null,this.errors=[],this.old_info=null,this.notification=""},overwriteSignee:function(t,e){if(!0===e?console.log("Overwrite!"):console.log("Don't overwrite!"),e)if(this.$store.commit("removeSignee",t),t.boat_number=parseInt(this.boat_number),t.starting_place=this.starting_place,t.captain_name=this.capitalize_words(this.captain_name),t.temp_captain_name=this.capitalize_words(this.temp_captain_name),t.locality=this.capitalize_words(this.locality),t.team=this.team,this.team.length>40){var i=this.team;i=i.slice(0,40),this.team=i,this.showError("Valitse tiimin nimeksi alle 40 merkkiä pitkä nimi (nimi lyhennetty 40 merkkiin)!")}else-1==this.teams.indexOf(this.team)&&(this.teams.push(this.team),this.$store.commit("setTeams",this.teams)),this.saveToDatabase(t,!0),this.clearInputs(),this.boat_number=Math.max.apply(Math,this.signees.map((function(t){return t.boat_number})))+1,this.notification="Tiedot korvattu uusilla!";else this.notification="Veneen numero asetettu ensimmäiseen vapaaseen paikkaan!",this.boat_number=Math.max.apply(Math,this.signees.map((function(t){return t.boat_number})))+1,this.old_info=null},searchSelected:function(){if(this.notification=null,this.errors=[],"signing"===this.tab)if(this.boat_number){var t=this.searchBoatNumber(this.boat_number);if(t)this.notification="Venekunta löydetty!\n(".concat(t.boat_number,") : ").concat(t.captain_name,", ").concat(t.temp_captain_name),this.selected_id=t.id,this.boat_number=t.boat_number,this.starting_place=t.starting_place,this.captain_name=t.captain_name,this.temp_captain_name=t.temp_captain_name,this.locality=t.locality,this.team=t.team;else{var e=this.boat_number;this.clearInputs(),this.boat_number=e,this.notification="Tällä numerolla ei ole vielä ilmoitettu venekuntaa!",this.selected_id=null}}else this.notification="Syötä venekunnan numero ennen hakemista!";else if(this.selected_id){var i=this.selected_id;if(i){var a=this.$store.getters.getSigneeById(i);if(a)this.notification="Venekunnan tiedot:\n(".concat(a.boat_number,") : ").concat(a.captain_name,", ").concat(a.temp_captain_name),this.boat_number=a.boat_number,this.starting_place=a.starting_place,this.captain_name=a.captain_name,this.temp_captain_name=a.temp_captain_name,this.locality=a.locality,this.team=a.team,this.tab="signing";else{var s=this.boat_number;this.clearInputs(),this.boat_number=s,this.notification="Tällä numerolla ei ole vielä ilmoitettu venekuntaa!",this.selected_id=null}}else this.showError("Tätä venekuntaa ei ole olemassa!?")}else this.showError("Valitse ilmoittautuneideiden listalta venekunta ennen hakemista!")},searchFromCup:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.selected_id=null,t.boat_number?(i=t.cup.signees.find((function(e){return parseInt(t.boat_number)===parseInt(e.boat_number)})),i?(t.notification="Cupista löydetty seuraavat tiedot:",t.captain_name=i.captain_name,t.temp_captain_name=i.temp_captain_name,t.locality=i.locality,t.team=i.team,t.starting_place=i.starting_place):(a=t.boat_number,t.clearInputs(),t.boat_number=a,t.notification="Tällä numerolla ei löydy cupista venekuntaa!")):t.notification="Syötä venekunnan numero ennen hakemista!";case 2:case"end":return e.stop()}}),e)})))()},rowClick:function(t,e){t.id==this.selected_id?(this.selected_id=null,e.select(!1)):(this.selected_row&&this.selected_row.select(!1),this.selected_id=t.id,e.select(!0),this.selected_row=e)},searchBoatNumber:function(t){return this.$store.getters.getSigneeByBoatNumber(parseInt(t))},searchId:function(t){var e=parseInt(t);return this.$store.getters.getSigneeById(e)},showError:function(t){this.errors.push(t),location.href="#",location.href="#app"},saveToDatabase:function(t,e){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return!0===e?i.$store.commit("replaceSignee",t):i.$store.commit("addSignee",t),s=i.cup.signees.findIndex((function(e){return parseInt(t.boat_number)===parseInt(e.boat_number)})),-1===s&&i.cup.signees.push({boat_number:t.boat_number,captain_name:t.captain_name,temp_captain_name:t.temp_captain_name,locality:t.locality,starting_place:t.starting_place}),n=i.$store.getters.getCompetition,i.signees=i.$store.getters.getSignees,n.signees=i.signees,n.state="Ilmoittautuminen",i.$store.commit("refreshCompetition",n),a.prev=8,i.loading=!0,l={$set:{signees:n.signees,state:n.state}},a.next=13,o["a"].updateValues(n._id,l);case 13:return i.loading=!1,l={$set:{signees:i.cup.signees}},a.next=17,r["a"].updateValues(n.cup_id,l);case 17:a.next=22;break;case 19:a.prev=19,a.t0=a["catch"](8),console.error(a.t0.message);case 22:case"end":return a.stop()}}),a,null,[[8,19]])})))()},deleteSignee:function(t,e){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,n,r,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i.errors=[],t){a.next=6;break}i.boat_number||i.showError("Venekunnan kilpailunumero puuttuu!"),i.errors.length||(i.selected_id?(s=i.searchId(i.selected_id),s&&i.$confirm("Oletko varma että haluat poistaa kilpailijan: (".concat(s.boat_number,"), ").concat(s.captain_name,"?"),"Poista kilpailija","question").then((function(t){t&&i.deleteSignee(t,s.id)})).catch((function(t){t&&console.error(t)}))):(n=i.searchBoatNumber(i.boat_number),n&&i.$confirm("Oletko varma että haluat poistaa kilpailijan: (".concat(n.boat_number,"), ").concat(n.captain_name,"?"),"Poista kilpailija","question").then((function(t){t&&i.deleteSignee(t,n.id)})).catch((function(t){t&&console.error(t)})))),a.next=33;break;case 6:if(r=i.searchId(e),!r){a.next=32;break}return i.$store.commit("removeSignee",r),l=i.$store.getters.getCompetition,i.signees=i.$store.getters.getSignees,l.signees=i.signees,i.$store.commit("refreshCompetition",l),a.prev=13,i.loading=!0,c={$set:{signees:l.signees}},a.next=18,o["a"].updateValues(l._id,c);case 18:i.loading=!1,i.clearInputs(),i.boat_number=Math.max.apply(Math,i.signees.map((function(t){return t.boat_number})))+1,i.text="Poistettu (Nro: ".concat(r.boat_number,", Kippari: ").concat(r.captain_name,") Tiedot!"),i.snackbar=!0,location.href="#",location.href="#signing",a.next=30;break;case 27:a.prev=27,a.t0=a["catch"](13),console.log(a.t0.message);case 30:a.next=33;break;case 32:console.log("Tällä id:llä ei löytynyt kilpailijaa...");case 33:case"end":return a.stop()}}),a,null,[[13,27]])})))()},validateInfo:function(){if(this.notification=null,this.errors=[],this.boat_number||this.showError("Venekunnan kilpailunumero puuttuu!"),this.captain_name?this.captain_name=this.capitalize_words(this.captain_name):this.showError("Kipparin nimi puuttuu!"),this.temp_captain_name?this.temp_captain_name=this.capitalize_words(this.temp_captain_name):this.temp_captain_name="-",this.starting_place||(this.starting_place="-"),this.team||(this.team="-"),this.team.length>40){var t=this.team;t=t.slice(0,40),this.team=t,this.showError("Valitse tiimin nimeksi alle 40 merkkiä pitkä nimi (nimi lyhennetty 40 merkkiin, valittavissa pudotusvalikosta)!")}if(this.locality?this.locality=this.capitalize_words(this.locality):this.showError("Seura/Paikkakunta puuttuu!"),!this.errors.length)if(this.selected_id){var e=this.searchId(this.selected_id);if(e){var i=this.searchBoatNumber(this.boat_number);i&&i.id!=e.id?(console.log("Boat number already exists..."),this.old_info=i):(e.boat_number=parseInt(this.boat_number),e.starting_place=this.starting_place,e.captain_name=this.captain_name,e.temp_captain_name=this.temp_captain_name,e.locality=this.locality,e.team=this.team,this.new_signee=e,this.saveToDatabase(this.new_signee,!0),-1==this.teams.indexOf(this.team)&&(this.teams.push(this.team),this.$store.commit("setTeams",this.teams)),this.text="Päivitetty venekunnan (Nro: ".concat(this.new_signee.boat_number,", Kippari: ").concat(this.new_signee.captain_name,") Tiedot!"),this.snackbar=!0,this.clearInputs(),location.href="#",location.href="#signing",this.boat_number=Math.max.apply(Math,this.signees.map((function(t){return t.boat_number})))+1,this.id=Math.max.apply(Math,this.signees.map((function(t){return t.id})))+1,this.selected_id=null)}}else{var a=this.searchBoatNumber(this.boat_number);if(a&&a.id!=this.id)console.log("Boat number already exists..."),this.notification="Numerolla on jo olemassa venekunta, päällekirjoitetaanko?",this.old_info=a;else{var s=this.$store.getters.getCompetitionFishes,n=[];s.forEach((function(t){var e={name:t.name,weights:0,points:0};n.push(e)})),this.new_signee={id:this.id,boat_number:parseInt(this.boat_number),starting_place:this.starting_place,captain_name:this.captain_name,temp_captain_name:this.temp_captain_name,locality:this.locality,team:this.team,total_points:0,total_weights:0,returned:!1,weights:n},this.saveToDatabase(this.new_signee,!1),-1==this.teams.indexOf(this.team)&&(this.teams.push(this.team),this.$store.commit("setTeams",this.teams)),this.text="Venekunta ilmoitettu kisaan! (Nro: ".concat(this.new_signee.boat_number,", Kippari: ").concat(this.new_signee.captain_name,")"),this.snackbar=!0,this.clearInputs(),location.href="#",location.href="#signing",this.boat_number=Math.max.apply(Math,this.signees.map((function(t){return t.boat_number})))+1,this.id=Math.max.apply(Math,this.signees.map((function(t){return t.id})))+1,this.selected_id=null}}}}},m=u,d=(i("06e3"),i("2877")),p=i("6544"),h=i.n(p),v=i("0798"),_=i("8212"),g=i("8336"),f=i("b0af"),b=i("99d9"),k=i("cc20"),x=i("62ad"),w=i("2b5d"),y=i("a523"),T=i("8fea"),C=i("169a"),$=i("ce7e"),S=i("132d"),V=i("8860"),P=i("da13"),I=i("5d23"),j=i("1baa"),E=i("34c3"),D=i("f774"),K=i("0fd9"),N=i("2db4"),L=i("2fa4"),B=i("71a3"),O=i("c671"),R=i("fe57"),F=i("aac8"),Y=i("9a96"),A=i("8654"),M=Object(d["a"])(m,a,s,!1,null,null,null);e["default"]=M.exports;h()(M,{VAlert:v["a"],VAvatar:_["a"],VBtn:g["a"],VCard:f["a"],VCardActions:b["a"],VCardTitle:b["c"],VChip:k["a"],VCol:x["a"],VCombobox:w["a"],VContainer:y["a"],VDataTable:T["a"],VDialog:C["a"],VDivider:$["a"],VIcon:S["a"],VList:V["a"],VListItem:P["a"],VListItemContent:I["a"],VListItemGroup:j["a"],VListItemIcon:E["a"],VListItemTitle:I["c"],VNavigationDrawer:D["a"],VRow:K["a"],VSnackbar:N["a"],VSpacer:L["a"],VTab:B["a"],VTabItem:O["a"],VTabs:R["a"],VTabsItems:F["a"],VTabsSlider:Y["a"],VTextField:A["a"]})},b3c3:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-dialog",{attrs:{width:"500"},model:{value:t.pdfDialog,callback:function(e){t.pdfDialog=e},expression:"pdfDialog"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-title",[t._v(" Pdf Asetukset ")]),i("v-card-text",[i("v-checkbox",{attrs:{label:"Pfd Vaakatasossa"},model:{value:t.isLandscape,callback:function(e){t.isLandscape=e},expression:"isLandscape"}})],1),i("v-divider"),i("v-card-actions",[i("v-btn",{attrs:{color:"yellow",text:""},on:{click:function(e){t.pdfDialog=!1}}},[t._v(" Peruuta ")]),i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.pdfDialog=!1,t.pdfWrapper()}}},[t._v(" Lataa ")])],1)],1)],1),i("v-navigation-drawer",{attrs:{permanent:""}},[i("v-card",{staticClass:"mx-auto",staticStyle:{top:"0"},attrs:{"max-width":"400",tile:"",dark:t.$store.getters.getTheme}},[i("v-list",{attrs:{dense:""}},[i("p",[t._v("Navigointi")]),i("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[i("v-divider"),t._l(t.items,(function(e,a){return i("div",{key:a},[i("v-list-item",{attrs:{disabled:t.$router.currentRoute.path===e.path},on:{click:function(i){return t.changePage(e.path)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1),i("v-divider")],1)}))],2)],1)],1)],1),i("v-container",{staticStyle:{width:"70%"}},[i("div",{class:{"container-transparent":!t.$store.getters.getTheme,"container-transparent-dark":t.$store.getters.getTheme}},[i("v-row",[i("v-col",[i("v-card",{staticStyle:{"background-color":"rgba(0, 0, 0, 0)"},attrs:{dark:t.$store.getters.getTheme}},[i("v-row",[i("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"12"}},[i("v-row",[i("v-col",{attrs:{md:"7"}},[i("h1",{staticStyle:{margin:"30px"}},[t._v("Tulokset")])]),i("v-col",{attrs:{md:"5"}},[i("div",{staticClass:"text-center"},[i("v-dialog",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("p",{class:{"black-text":!t.$store.getters.getTheme,"white-text":t.$store.getters.getTheme},staticStyle:{margin:"10px"}},[t._v(" Kello/Kilpailuaika ")]),i("v-btn",t._g(t._b({attrs:{text:"",outlined:"",color:"red darken-4",dark:""}},"v-btn",s,!1),a),[i("v-icon",[t._v("mdi-timer")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme,width:"600px"}},[i("Timedate"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Sulje ")])],1)],1)],1)],1)])],1)],1)],1)],1)],1)],1),i("v-row",{staticStyle:{"margin-top":"30px"}},[i("v-col",{attrs:{md:"4","offset-md":"4"}},[i("v-switch",{attrs:{dark:t.$store.getters.getTheme,loading:t.loading,color:"orange darken-3",label:"Tulosten automaattinen päivitys 60s välein"},model:{value:t.intervalSwitch,callback:function(e){t.intervalSwitch=e},expression:"intervalSwitch"}})],1)],1),i("v-row",{staticStyle:{"margin-bottom":"20px"}},[t.normal_points.length||t.team_results.length||t.biggest_fishes_results.length||t.biggest_amounts_results.length?i("v-col",{staticStyle:{"margin-top":"20px"}},[i("v-dialog",{attrs:{scrollable:"","max-width":"300px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({attrs:{dark:t.$store.getters.getTheme,large:"",text:"",outlined:"",loading:t.loading,disabled:!t.biggest_amounts_results.length||!t.competition}},"v-btn",s,!1),a),[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-file-pdf-box")]),t._v(" Lataa kaikki tulokset ")],1)]}}],null,!1,887593534),model:{value:t.dialog_print,callback:function(e){t.dialog_print=e},expression:"dialog_print"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-text",{staticStyle:{"margin-top":"20px"}},[i("h1",[t._v("PDF Asetukset")]),i("v-checkbox",{attrs:{label:"Pfd Vaakatasossa"},model:{value:t.isLandscape,callback:function(e){t.isLandscape=e},expression:"isLandscape"}})],1),i("v-card-title",[t._v("Valitse mitä lataus sisältää")]),i("v-divider"),i("v-card-text",{staticStyle:{height:"300px",width:"100%"}},[i("v-checkbox",{attrs:{label:"Tilastoja",disabled:!t.biggest_amounts_results.length,color:"indigo darken-3",value:"stats"},model:{value:t.selected_print,callback:function(e){t.selected_print=e},expression:"selected_print"}}),i("v-checkbox",{attrs:{disabled:!t.biggest_amounts_results.length,label:"Normaalikilpailun tulokset",color:"indigo darken-3",value:"normal"},model:{value:t.selected_print,callback:function(e){t.selected_print=e},expression:"selected_print"}}),t.isTeamCompetition?i("v-checkbox",{attrs:{disabled:!t.team_results.length,label:"Tiimikilpailun tulokset",color:"indigo darken-3",value:"team"},model:{value:t.selected_print,callback:function(e){t.selected_print=e},expression:"selected_print"}}):t._e(),i("v-checkbox",{attrs:{disabled:!t.biggest_amounts_results.length,label:"Suurimmat kalat ja kalasaaliit (Kalalajit samassa taulukossa)",color:"indigo darken-3",value:"all_biggest"},model:{value:t.selected_print,callback:function(e){t.selected_print=e},expression:"selected_print"}}),i("v-checkbox",{attrs:{disabled:!t.biggest_fishes_results.length,label:"Suurimmat yksittäiset kalat (Kalalajeittain taulukossa)",color:"indigo darken-3",value:"biggest_fishes"},model:{value:t.selected_print,callback:function(e){t.selected_print=e},expression:"selected_print"}}),i("v-checkbox",{attrs:{disabled:!t.biggest_amounts_results.length,label:"Suurimmat kalasaaliit (Kalalajeittain taulukossa)",color:"indigo darken-3",value:"biggest_amounts"},model:{value:t.selected_print,callback:function(e){t.selected_print=e},expression:"selected_print"}}),i("v-checkbox",{attrs:{disabled:!t.biggest_amounts_results.length&&!t.biggest_amounts_results.length,label:"Suurimmat yksittäiset kalat / kalasaaliit (Voittajat eritelty)",color:"indigo darken-3",value:"biggest_winners"},model:{value:t.selected_print,callback:function(e){t.selected_print=e},expression:"selected_print"}})],1),i("v-divider"),i("v-card-actions",[i("v-col",[i("v-btn",{attrs:{outlined:"",color:"red darken-4",text:""},on:{click:function(e){t.dialog_print=!1}}},[t._v("Sulje")])],1),i("v-col",[i("v-btn",{attrs:{outlined:"",color:"green darken-4",text:""},on:{click:t.choosePrints}},[t._v("Lataa")])],1)],1)],1)],1)],1):t._e()],1),i("v-tabs",{attrs:{"background-color":"blue lighten-2",color:"blue darken-4",grow:"","show-arrows":"","next-icon":"mdi-arrow-right-bold-box-outline","prev-icon":"mdi-arrow-left-bold-box-outline","center-active":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tabs-slider",{attrs:{color:"blue darken-4"}}),i("v-tab",{attrs:{href:"#stats"}},[t._v("Tilastoja")]),i("v-tab",{attrs:{href:"#normal-competition"}},[t._v("Normaalikilpailu")]),t.isTeamCompetition?i("v-tab",{attrs:{href:"#team-competition"}},[t._v("Tiimikilpailu")]):i("v-tab",{attrs:{href:"#team-competition",disabled:""}},[t._v("Ei Tiimikilpailua")]),i("v-tab",{attrs:{href:"#biggest-fishes"}},[t._v("Suurimmat Kalat")]),i("v-tab",{attrs:{href:"#biggest-fish-amounts"}},[t._v("Suurimmat Kalasaaliit")])],1),i("v-tabs-items",{staticStyle:{background:"rgba(0, 0, 0, 0.4)"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"stats"}},[t.competition?i("v-row",{staticStyle:{"padding-top":"50px"}},[i("v-col",{attrs:{md:"3","offset-md":"8"}},[i("v-btn",{staticClass:"white--text",staticStyle:{"margin-bottom":"20px"},attrs:{dark:t.$store.getters.getTheme,large:"",text:"",outlined:"",loading:t.loading,disabled:!t.biggest_amounts_results.length},on:{click:function(e){t.pdf="Tilastoja",t.pdfDialog=!0}}},[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-file-pdf-box")]),t._v(" Lataa pdf")],1)],1)],1):t._e(),t.competition?i("v-row",[t.competition.normal_points.length?i("v-row",{staticStyle:{"min-height":"400px"}},[i("v-col",[t.competition.normal_points.length?i("v-row",{staticStyle:{"min-height":"400px"}},[i("v-col",{staticStyle:{"margin-bottom":"50px"},attrs:{sm:"12",md:"5","offset-md":"1"}},[t.fishes_chart_data?i("div",[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[i("v-card",{class:{"on-hover":a},staticStyle:{padding:"20px"},attrs:{dark:t.$store.getters.getTheme,elevation:a?20:5}},[i("v-card-title",[i("h4",{staticClass:"headline mb-1"},[t._v(" "+t._s(t.fishes_chart_title)+" ")])]),i("doughnut-chart",{attrs:{"chart-data":t.fishes_chart_data,"chart-id":"fishes_chart",title:t.fishes_chart_title}})],1)]}}],null,!1,1847150614)})],1):t._e()]),i("v-col",{attrs:{sm:"12",md:"5"}},[t.signee_chart_data?i("div",[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[i("v-card",{class:{"on-hover":a},staticStyle:{padding:"20px"},attrs:{dark:t.$store.getters.getTheme,elevation:a?20:5}},[i("v-card-title",[i("h4",{staticClass:"headline mb-1"},[t._v(" "+t._s(t.signee_chart_title)+" ")])]),i("pie-chart",{attrs:{"chart-data":t.signee_chart_data,"chart-id":"signee_chart",title:t.signee_chart_title}})],1)]}}],null,!1,4159745268)})],1):t._e()])],1):i("v-row",[i("v-col",{attrs:{md:"12"}},[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ei tuloksia, vielä... ")])])],1)],1)],1):i("v-row",[i("v-col",{attrs:{md:"12"}},[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ei tuloksia, vielä... ")])])],1)],1):t._e(),t.competition?i("v-row",[i("v-col",{attrs:{md:"10","offset-md":"1"}},[i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[i("v-card",{class:{"on-hover":a},staticStyle:{padding:"20px"},attrs:{dark:t.$store.getters.getTheme,elevation:a?20:5}},[i("v-row",[i("v-col",[i("v-card",{attrs:{dark:t.$store.getters.getTheme,elevation:"20",outlined:""}},[i("v-card-title",{staticClass:"text-center"},[i("p",{staticClass:"display-1"},[t._v(" Kalalajien määritykset ")])]),i("v-list",{attrs:{outlined:"",elevation:"10"}},[t._l(t.calculated_fish_weights,(function(e,a){return i("div",{key:a},[i("v-list-item",[i("v-list-item-title",[t._v(t._s(e.name))]),i("v-divider",{attrs:{vertical:""}}),i("v-list-item-subtitle",{staticClass:"green-text"},[i("b",[t._v(" x "+t._s(e.multiplier))])]),i("v-divider",{attrs:{vertical:""}}),i("v-list-item-subtitle",{staticClass:"blue-text"},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[i("span",t._g(t._b({},"span",n,!1),s),[i("b",[t._v(t._s(e.minsize)+" cm")])])]}}],null,!0)},[i("span",[t._v(t._s(e.minsize))])])],1),i("v-divider",{attrs:{vertical:""}}),i("v-list-item-subtitle",{staticClass:"green-text"},[t._v(" "+t._s(e.weights?Math.round(100*(e.weights/1e3+Number.EPSILON))/100:0)+" kg ")])],1),i("v-divider")],1)})),i("v-list-item",[i("v-list-item-title",[t._v(" Saalista yhteensä ")]),i("v-list-item-subtitle",[i("h4",{staticClass:"green-text"},[i("b",[t._v(t._s(Math.round(100*(t.calculated_total_weights/1e3+Number.EPSILON))/100)+" kg")])])])],1)],2)],1)],1)],1),i("v-row",[i("v-col",[i("v-card",{attrs:{dark:t.$store.getters.getTheme,elevation:"20",outlined:""}},[i("v-card-title",{staticClass:"text-center"},[i("p",{staticClass:"display-1"},[t._v(" Yleisiä tilastoja ")])]),i("v-list",{attrs:{outlined:"",elevation:"10"}},[i("v-list-item",[i("v-list-item-title",[t._v("Cup pistekerroin")]),i("v-divider",{attrs:{vertical:""}}),i("v-list-item-subtitle",{staticClass:"green-text"},[i("b",[t._v("x "+t._s(t.competition.cup_points_multiplier))])])],1),i("v-divider"),i("v-list-item",[i("v-list-item-title",[i("b",[t._v("Ilmoittautuneita yhteensä")])]),i("v-divider",{attrs:{vertical:""}}),i("v-list-item-subtitle",{staticClass:"green-text"},[i("b",[t._v(t._s(t.signees.length))]),t._v(" venettä ")])],1),i("v-divider"),i("v-list-item",[i("v-list-item-title",[i("b",[t._v("Saalista saaneita")])]),i("v-divider",{attrs:{vertical:""}}),t.$store.getters.getPointSignees.length?i("v-list-item-subtitle",{staticClass:"green-text"},[i("b",[t._v(t._s(Math.round(t.$store.getters.getPointSignees.length/t.competition.signees.length*100*100)/100)+"% ("+t._s(t.$store.getters.getPointSignees.length)+" / "+t._s(t.signees.length)+")")])]):i("v-list-item-subtitle",{staticClass:"red-text"},[i("b",[t._v("0% (0/0)")])])],1)],1)],1)],1)],1)],1)]}}],null,!1,3985178034)})],1)],1):i("v-row",[t.loading?i("v-col",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Päivitetään tuloksia tietokannasta... ")]),i("ProgressBarQuery")],1):i("v-col",[i("h2",{staticClass:"error"},[t._v(" Ei saatavilla kilpailun tietoja... (Connection timed out) ")])])],1)],1),i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"normal-competition"}},[i("v-row",[i("v-col",{staticStyle:{"padding-top":"50px","padding-bottom":"20px"},attrs:{md:"10","offset-md":"1"}},[i("v-row",[i("v-col",{attrs:{md:"4","offset-md":"4"}},[i("v-select",{attrs:{dark:t.$store.getters.getTheme,"menu-props":t.$store.getters.getTheme?"dark":"light",label:"Valitse näytettävät tulokset",outlined:"",items:t.normal_options},on:{input:t.switchNormalResults},model:{value:t.selected_normal,callback:function(e){t.selected_normal=e},expression:"selected_normal"}})],1),t.normal_points.length||t.signees.length&&"Ilmoittautuneet"===t.selected_normal?i("v-col",{attrs:{md:"3","offset-md":"1"}},[i("v-btn",{attrs:{dark:t.$store.getters.getTheme,large:"",text:"",outlined:"",loading:t.loading},on:{click:function(e){t.pdf="#normal-table",t.pdfDialog=!0}}},[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-file-pdf-box")]),t._v(" Lataa pdf ")],1)],1):t._e()],1),t.normal_points.length||t.signees.length&&"Ilmoittautuneet"===t.selected_normal?i("v-row",{staticClass:"row"},[i("v-col",{attrs:{md:"12"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-title",[i("p",{staticClass:"flow-text"},[t._v(" Normaalikilpailu ("+t._s(t.selected_normal)+") ")]),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Hae kilpailijaa","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),i("v-data-table",{attrs:{headers:t.headers,items:t.results,search:t.search,loading:t.loading},scopedSlots:t._u([{key:"item.placement",fn:function(e){var a=e.item;return[i("v-chip",{attrs:{outlined:t.$store.getters.getTheme,color:t.getColor(a.placement)}},[t._v(t._s(a.placement)+".")])]}},"Ilmoittautuneet"===t.selected_normal?{key:"item.boat_number",fn:function(e){var a=e.item;return[i("v-chip",[t._v(t._s(a.boat_number))])]}}:null,{key:"item.total_points",fn:function(e){var a=e.item;return[i("v-chip",[t._v(t._s(a.total_points.toLocaleString())+" p")])]}},{key:"item.cup_points_total",fn:function(e){var a=e.item;return[i("v-tooltip",{attrs:{bottom:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[i("v-chip",t._g(t._b({attrs:{color:t.getColorPoints(a.cup_points_total)}},"v-chip",n,!1),s),[t._v(t._s(a.cup_points_total)+" p")])]}}],null,!0)},[i("span",[i("b",[t._v("Sijoittumispisteet + Osallistumispisteet = Cup pisteet")]),i("br"),t._v(" "+t._s(a.cup_placement_points)+" + "+t._s(a.cup_participation_points)+" = "+t._s(a.cup_points_total)+" ")])])]}}],null,!0)})],1)],1)],1):i("v-row",[t.loading?i("v-col",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Päivitetään tuloksia tietokannasta... ")]),i("ProgressBarQuery")],1):i("v-col",[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ei tuloksia, vielä... ")])])],1)],1)],1)],1),t.isTeamCompetition?i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"team-competition"}},[t.team_results.length?i("v-row",[i("v-col",{staticStyle:{"padding-top":"50px"},attrs:{md:"3","offset-md":"8"}},[i("v-btn",{attrs:{dark:t.$store.getters.getTheme,large:"",text:"",outlined:"",loading:t.loading},on:{click:function(e){t.pdf="#team-table",t.pdfDialog=!0}}},[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-file-pdf-box")]),t._v(" Lataa pdf ")],1)],1)],1):t._e(),i("v-row",[t.team_results.length?i("v-col",{staticStyle:{"padding-bottom":"20px"},attrs:{md:"10","offset-md":"1"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-title",[i("p",{staticClass:"flow-text"},[t._v("Tiimikilpailu")]),i("v-spacer"),i("v-switch",{staticClass:"black--text",attrs:{color:"indigo darken-3","append-icon":"mdi-weather-night","prepend-icon":"mdi-weather-sunny"},model:{value:t.$store.getters.getTheme,callback:function(e){t.$set(t.$store.getters,"getTheme",e)},expression:"$store.getters.getTheme"}}),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Hae kilpailijaa","single-line":"","hide-details":""},model:{value:t.search_team,callback:function(e){t.search_team=e},expression:"search_team"}})],1),i("v-data-table",{attrs:{headers:t.team_headers,items:t.team_results,search:t.search_team,loading:t.loading},scopedSlots:t._u([{key:"item.placement",fn:function(e){var a=e.item;return[i("v-chip",{attrs:{outlined:t.$store.getters.getTheme,color:t.getColor(a.placement)}},[t._v(t._s(a.placement)+".")])]}},{key:"item.points",fn:function(e){var a=e.item;return[i("v-chip",[t._v(t._s(a.points.toLocaleString())+" p")])]}}],null,!0)})],1)],1):i("v-col",[t.loading?t._e():i("v-col"),t.loading?i("v-col",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Päivitetään tuloksia tietokannasta... ")]),i("ProgressBarQuery")],1):i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ei tuloksia, vielä... ")])],1)],1)],1):t._e(),i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"biggest-fishes"}},[i("v-row",{staticStyle:{"padding-top":"50px"}},[i("v-col",{attrs:{md:"3","offset-md":"4"}},[i("v-select",{attrs:{dark:t.$store.getters.getTheme,"menu-props":t.$store.getters.getTheme?"dark":"light",label:"Valitse näytettävät tulokset",outlined:"",items:t.fish_names},on:{input:t.calculateBiggestFishes},model:{value:t.selected_biggest_fish,callback:function(e){t.selected_biggest_fish=e},expression:"selected_biggest_fish"}})],1),t.biggest_fishes_results.length?i("v-col",{attrs:{md:"3","offset-md":"1"}},[i("v-btn",{attrs:{dark:t.$store.getters.getTheme,large:"",text:"",outlined:"",loading:t.loading},on:{click:function(e){t.pdf="#biggest-fishes-table",t.pdfDialog=!0}}},[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-file-pdf-box")]),t._v(" Lataa pdf ")],1)],1):t._e()],1),t.biggest_fishes_results.length?i("v-row",[i("v-col",{staticStyle:{"margin-bottom":"40px"},attrs:{md:"10","offset-md":"1"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-title",[t.results_found_fishes?i("p",{staticClass:"flow-text"},[t._v(" Suurimmat kalat ("+t._s(t.selected_biggest_fish)+" "+t._s(t.results_found_fishes)+") ")]):i("p",{staticClass:"flow-text"},[t._v(" Suurimmat kalat ("+t._s(t.selected_biggest_fish)+") ")]),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Hae kilpailijaa","single-line":"","hide-details":""},model:{value:t.search_fishes,callback:function(e){t.search_fishes=e},expression:"search_fishes"}})],1),i("v-data-table",{attrs:{headers:t.biggest_fishes_headers,items:t.biggest_fishes_results,search:t.search_fishes,loading:t.loading},scopedSlots:t._u([{key:"item.placement",fn:function(e){var a=e.item;return[i("v-chip",{attrs:{outlined:t.$store.getters.getTheme,color:t.getColor(a.placement)}},[t._v(t._s(a.placement)+".")])]}},{key:"item.name",fn:function(e){var a=e.item;return[i("v-chip",[t._v(t._s(a.name))])]}},{key:"item.weight",fn:function(e){var a=e.item;return[i("v-chip",[t._v(t._s(a.weight.toLocaleString())+" g")])]}}],null,!0)})],1)],1)],1):i("v-row",[t.loading?i("v-col",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Päivitetään tuloksia tietokannasta... ")]),i("ProgressBarQuery")],1):i("v-col",[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ei tuloksia, vielä... ")])])],1)],1),i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"biggest-fish-amounts"}},[i("v-row",{staticStyle:{"padding-top":"50px"}},[i("v-col",{attrs:{md:"3","offset-md":"4"}},[i("v-select",{attrs:{dark:t.$store.getters.getTheme,"menu-props":t.$store.getters.getTheme?"dark":"light",label:"Valitse näytettävät tulokset",outlined:"",items:t.fish_amount_names},on:{input:t.calculateBiggestAmounts},model:{value:t.selected_biggest_amount,callback:function(e){t.selected_biggest_amount=e},expression:"selected_biggest_amount"}})],1),t.biggest_amounts_results.length?i("v-col",{attrs:{md:"3","offset-md":"1"}},[i("v-btn",{attrs:{dark:t.$store.getters.getTheme,large:"",outlined:"",text:"",loading:t.loading,disabled:!t.biggest_amounts_results.length},on:{click:function(e){t.pdf="#biggest-amounts-table",t.pdfDialog=!0}}},[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-file-pdf-box")]),t._v(" Lataa pdf ")],1)],1):t._e()],1),t.biggest_amounts_results.length?i("v-row",[i("v-col",{staticStyle:{"margin-bottom":"40px"},attrs:{md:"10","offset-md":"1"}},[i("v-card",{attrs:{dark:t.$store.getters.getTheme}},[i("v-card-title",[t.results_found_amounts?i("p",{staticClass:"flow-text"},[t._v(" Suurimmat kalasaaliit ("+t._s(t.selected_biggest_amount)+" "+t._s(t.results_found_amounts)+") ")]):i("p",{staticClass:"flow-text"},[t._v(" Suurimmat kalasaaliit ("+t._s(t.selected_biggest_amount)+") ")]),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Hae kilpailijaa","single-line":"","hide-details":""},model:{value:t.search_amounts,callback:function(e){t.search_amounts=e},expression:"search_amounts"}})],1),i("v-data-table",{attrs:{headers:t.biggest_amounts_headers,items:t.biggest_amounts_results,search:t.search_amounts,loading:t.loading},scopedSlots:t._u([{key:"item.placement",fn:function(e){var a=e.item;return[i("v-chip",{attrs:{outlined:t.$store.getters.getTheme,color:t.getColor(a.placement)}},[t._v(t._s(a.placement)+".")])]}},{key:"item.name",fn:function(e){var a=e.item;return[i("v-chip",[t._v(t._s(a.name))])]}},{key:"item.weight",fn:function(e){var a=e.item;return[i("v-chip",[t._v(t._s(a.weight.toLocaleString())+" g")])]}}],null,!0)})],1)],1)],1):i("v-row",[t.loading?i("v-col",{attrs:{md:"8","offset-md":"2"}},[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Päivitetään tuloksia tietokannasta... ")]),i("ProgressBarQuery")],1):i("v-col",{attrs:{md:"8","offset-md":"2"}},[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Ei tuloksia, vielä... ")])])],1)],1)],1),t.competition?i("div",[t.loading?i("v-row",[i("v-col",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Päivitetään... ")])]),i("ProgressBarQuery")],1):i("v-row",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[i("v-col",[i("v-btn",{staticClass:"white--text",attrs:{large:"",rounded:"",color:t.competition.isPublic?"grey darken-4":"green darken-4",loading:t.updating},on:{click:function(e){return t.publishCompetition(t.competition.isPublic)}}},[t.competition.isPublic?i("div",[i("v-icon",[t._v("mdi-incognito")]),t._v(" Aseta kilpailu salaiseksi ")],1):i("div",[i("v-icon",{attrs:{color:"green"}},[t._v("mdi-publish")]),t._v(" Aseta kilpailu julkiseksi ")],1)])],1),i("v-col",[i("v-btn",{attrs:{large:"",rounded:"",color:t.competition.isFinished?"yellow":"green darken-3",loading:t.updating},on:{click:function(e){return t.endCompetition(t.competition.isFinished)}}},[t.competition.isFinished?i("div",[i("v-icon",{attrs:{color:"red darken-2"}},[t._v("mdi-cancel")]),t._v(" Aseta kilpailu keskeneräiseksi ")],1):i("div",[i("v-icon",{attrs:{color:"yellow"}},[t._v("mdi-trophy")]),t._v(" Aseta kilpailu päättyneeksi ")],1)])],1),i("v-col",[i("v-btn",{staticClass:"white--text",attrs:{id:"updatebtn",large:"",rounded:"",color:"blue darken-4",loading:t.updating},on:{click:function(e){return t.refreshCompetition(t.competition._id)}}},[i("v-icon",[t._v("mdi-update")]),t._v("Päivitä tulokset ")],1)],1)],1)],1):t._e()],1)]),i("v-snackbar",{attrs:{timeout:t.timeout},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[i("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},s=[],n=i("5530"),o=i("1da1"),r=(i("96cf"),i("ac1f"),i("5319"),i("5b81"),i("d3b7"),i("159b"),i("b0c0"),i("b64b"),i("4e827"),i("7db0"),i("4de4"),i("7149")),l=i("b3a7"),c=i("a822"),u=i("748a"),m=i("e5e9"),d=i("e0b1"),p={name:"Results",components:{Timedate:l["a"],ProgressBarQuery:c["default"],PieChart:u["a"],DoughnutChart:m["a"]},data:function(){return{dialog_clock:!1,dialog:!1,dialog_print:!1,loading:!1,updating:!1,tab:null,signees:[],fish_names:[],fish_amount_names:[],table_fish_names:[],results:[],normal_points:[],normal_weights:[],team_results:[],biggest_fishes:{},biggest_fishes_results:[],selected_biggest_fish:null,biggest_amounts:{},biggest_amounts_results:[],selected_biggest_amount:null,results_found_fishes:"",results_found_amounts:"",competition:null,isTeamCompetition:!0,calculated_total_weights:null,calculated_fish_weights:null,selected_normal:null,fishes_chart:null,signees_chart:null,timer_refresh:null,interval:6e4,normal_options:["Pisteet","Kalat","Ilmoittautuneet"],headers:[],biggest_fishes_headers:[],biggest_amounts_headers:[],normal_headers:[{text:"Sijoitus",value:"placement"},{text:"Kilp. numero",value:"boat_number"},{text:"Kippari",value:"captain_name"},{text:"Varakippari",value:"temp_captain_name"},{text:"Paikkakunta",value:"locality"},{text:"Tulos",value:"total_points"},{text:"Cup pisteet",value:"cup_points_total"}],signee_headers:[],team_headers:[{text:"Sijoitus",value:"placement"},{text:"Tiimi",value:"name"},{text:"Jäsen 1",value:"captain_name_1"},{text:"Jäsen 2",value:"captain_name_2"},{text:"Jäsen 3",value:"captain_name_3"},{text:"Pisteet",value:"points"}],winner_headers:[{text:"Kalalaji",value:"name"},{text:"Kilp. numero",value:"boat_number"},{text:"Kippari",value:"captain_name"},{text:"Paino",value:"weight"}],all_fishes_headers:[{text:"Sijoitus",value:"placement"},{text:"Kilp. numero",value:"boat_number"},{text:"Kippari",value:"captain_name"},{text:"Kala",value:"fish"},{text:"Paino",value:"weight"}],biggest_headers:[{text:"Sijoitus",value:"placement"},{text:"Kilp. numero",value:"boat_number"},{text:"Kippari",value:"captain_name"},{text:"Paino",value:"weight"}],search:"",search_team:"",search_fishes:"",search_amounts:"",selected_print:[],intervalSwitch:!1,signee_chart_data:null,fishes_chart_data:null,fishes_chart_title:null,signee_chart_title:null,selectedItem:4,items:[{text:"Yleisnäkymä",icon:"mdi-desktop-mac-dashboard",path:"/overview"},{text:"Määritykset",icon:"mdi-tune",path:"/comp-settings"},{text:"Ilmoittautuminen",icon:"mdi-draw",path:"/signing"},{text:"Punnitus",icon:"mdi-dumbbell",path:"/weighting"},{text:"Tulokset",icon:"mdi-seal",path:"/results"}],snackbar:!1,text:"",timeout:5e3,pdf:null,pdfDialog:!1,isLandscape:!1}},watch:{intervalSwitch:function(t){var e=this;if(t){var i=JSON.parse(localStorage.getItem("competition")),a=i["id"];this.timer_refresh=setInterval((function(){return e.refreshCompetition(a)}),this.interval),this.text="Automaattinen päivitys käytössä!",this.snackbar=!0}else clearInterval(this.timer_refresh),this.text="Automaattinen päivitys pois käytöstä!",this.snackbar=!0}},created:function(){this.saveAllAsPDF=d["default"].saveAllAsPDF,this.saveStatsAsPDF=d["default"].saveStatsAsPDF,this.saveAsPDF=d["default"].saveAsPDF,this.dictToArray=d["default"].dictToArray,this.capitalize_words=d["default"].capitalize_words,this.replaceAll=d["default"].replaceAll,this.formatDate=d["default"].formatDate,this.range=d["default"].range,this.getColorPoints=d["default"].getColorPoints,this.getColor=d["default"].getColor,this.drawCharts=d["default"].drawCharts,this.sortDict=d["default"].sortDict,this.onafterprint=d["default"].onafterprint,this.onBeforePrint=d["default"].onBeforePrint},mounted:function(){if(null!=localStorage.getItem("competition")){var t=JSON.parse(localStorage.getItem("competition")),e=t["id"];this.refreshCompetition(e)}location.href="#",location.href="#app"},beforeDestroy:function(){clearInterval(this.timer_refresh)},methods:{pdfWrapper:function(){"Tilastoja"===this.pdf&&this.saveStatsAsPDF(this.pdf,this.isLandscape?"landscape":"portrait"),"#normal-table"===this.pdf&&this.saveAsPDF("Normaalikilpailun tulokset (".concat(this.selected_normal,")"),this.pdf,this.isLandscape?"landscape":"portrait"),"#team-table"===this.pdf&&this.saveAsPDF("Tiimikilpailun tulokset","#team-table",this.isLandscape?"landscape":"portrait"),"#biggest-fishes-table"===this.pdf&&this.saveAsPDF("Suurimmat kalat (".concat(this.selected_biggest_fish,")"),"#biggest-fishes-table",this.isLandscape?"landscape":"portrait"),"#biggest-amounts-table"===this.pdf&&this.saveAsPDF("Suurimmat kalat (".concat(this.selected_biggest_amount,")"),"#biggest-amounts-table",this.isLandscape?"landscape":"portrait")},changePage:function(t){this.$router.currentRoute.path!==t?(this.$router.push(t),this.drawer=!this.drawer):(this.text="Olet jo tällä sivulla!",this.snackbar=!0)},choosePrints:function(){this.dialog=!1,this.selected_print.length&&this.saveAllAsPDF(this.tab,this.isLandscape?"landscape":"portrait")},refreshCompetition:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a,s,n,o,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.loading=!0,e.fish_names=[],e.fish_amount_names=[],e.table_fish_names=[],e.signee_headers=[{text:"Kilp. numero",value:"boat_number"},{text:"Kippari",value:"captain_name"},{text:"Varakippari",value:"temp_captain_name"},{text:"Paikkakunta",value:"locality"},{text:"Lähtöpaikka",value:"starting_place"}],a=1,i.prev=6,i.next=9,r["a"].getCompetitions({_id:t});case 9:s=i.sent,s?(e.competition=s,e.$store.commit("refreshCompetition",e.competition),e.isTeamCompetition=e.$store.getters.isTeamCompetition,e.signees=e.$store.getters.getResultSignees,e.selected_normal="Pisteet",e.normal_points=e.competition.normal_points,e.normal_weights=e.competition.normal_weights,e.isTeamCompetition&&(e.signee_headers.push({text:"Tiimi",value:"team"}),e.team_results=e.competition.team_results,n=-1,o=-1,e.team_results.forEach((function(t){n===t.points?t.placement=o:(t.placement=o=a,n=t.points),a++}))),e.biggest_fishes=e.$store.getters.getBiggestFishes,e.biggest_amounts=e.$store.getters.getBiggestAmounts,e.calculated_total_weights=e.$store.getters.getCompetitionTotalWeights,e.calculated_fish_weights=e.competition.fishes,l=e.$store.getters.getCompetitionFishes,e.fish_names.push("Voittajat"),e.fish_amount_names.push("Voittajat"),e.fish_names.push("Kaikki"),e.fish_amount_names.push("Kaikki"),l.forEach((function(t){e.fish_names.push(t.name),e.fish_amount_names.push(t.name),e.table_fish_names.push(t.name)})),e.calculateAll(),e.fishes_chart&&e.signees_chart&&(e.fishes_chart.destroy(),e.signees_chart.destroy()),e.$nextTick((function(){return e.drawCharts(e.tab)})),e.normal_points.length?(e.results=e.normal_points,e.headers=e.normal_headers):(e.results=e.$store.getters.getSignees,e.headers=e.signee_headers,e.selected_normal="Ilmoittautuneet"),e.text="Tiedot ajantasalla!",e.snackbar=!0):(e.signees=[],e.biggest_fishes=[],e.biggest_amounts=[],console.log("No competition found on database...")),i.next=16;break;case 13:i.prev=13,i.t0=i["catch"](6),console.error(i.t0.message);case 16:e.loading=!1;case 17:case"end":return i.stop()}}),i,null,[[6,13]])})))()},publishCompetition:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.competition.isPublic=!t,a={$set:{isPublic:e.competition.isPublic}},e.updateToDatabase(e.competition,a);case 3:case"end":return i.stop()}}),i)})))()},endCompetition:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.competition.isFinished=!t,e.competition.isFinished?e.competition.state="Päättynyt":e.competition.state="Kesken",a={$set:{isFinished:e.competition.isFinished}},e.updateToDatabase(e.competition,a);case 4:case"end":return i.stop()}}),i)})))()},updateToDatabase:function(t,e){var i=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i.$store.commit("refreshCompetition",i.competition),i.updating=!0,t.next=5,r["a"].updateValues(i.competition._id,e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0.message);case 10:i.updating=!1;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},calculateAll:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.calculateBiggestFishes(),t.calculateBiggestAmounts();case 2:case"end":return e.stop()}}),e)})))()},switchNormalResults:function(){var t=this;this.selected_normal||(this.selected_normal="Pisteet"),"Pisteet"===this.selected_normal&&(this.headers=this.normal_headers,this.results=this.normal_points),"Kalat"===this.selected_normal&&(this.headers=[{text:"Sijoitus",value:"placement"},{text:"Kilp. numero",value:"boat_number"},{text:"Kippari",value:"captain_name"}],this.results=this.normal_weights,this.table_fish_names.forEach((function(e){t.headers.push({text:e,value:e})})),this.headers.push({text:"Tulos",value:"total_points"})),"Ilmoittautuneet"===this.selected_normal&&(this.headers=this.signee_headers,this.results=this.$store.getters.getSignees)},calculateBiggestFishes:function(){var t=this,e=this.biggest_fishes,i=1;if(this.results_found_fishes=null,this.selected_biggest_fish||(this.selected_biggest_fish="Voittajat"),"Voittajat"===this.selected_biggest_fish)this.biggest_fishes_headers=this.winner_headers,this.biggest_fishes,this.biggest_fishes_results=this.sortDict(e);else if("Kaikki"===this.selected_biggest_fish)(function(){t.biggest_fishes_headers=t.all_fishes_headers;for(var a=[],s=function(){var t=o[n];e[t].forEach((function(e){e.fish=t,a.push(e)}))},n=0,o=Object.keys(e);n<o.length;n++)s();a.length?(a.sort((function(t,e){return parseInt(e.weight)-parseInt(t.weight)})),t.results_found_amounts=""):t.results_found_fishes="- Ei tuloksia";var r=-1,l=-1;t.biggest_fishes_results=a,t.biggest_fishes_results.forEach((function(t){r===t.weight?t.placement=l:(t.placement=l=i,r=t.weight),i++}))})();else{this.biggest_fishes_headers=this.biggest_headers;var a=[];e[this.selected_biggest_fish]?(a=e[this.selected_biggest_fish].sort((function(t,e){return parseInt(e.weight)-parseInt(t.weight)})),this.results_found_amounts=""):this.results_found_fishes="- Ei tuloksia";var s=-1,n=-1;this.biggest_fishes_results=a,this.biggest_fishes_results.forEach((function(t){s===t.weight?t.placement=n:(t.placement=n=i,s=t.weight),i++}))}},calculateBiggestAmounts:function(){var t=this,e=this.biggest_amounts,i=1;if(this.results_found_amount="",this.selected_biggest_amount||(this.selected_biggest_amount="Voittajat"),"Voittajat"===this.selected_biggest_amount)this.biggest_amounts_headers=this.winner_headers,this.biggest_amounts,this.biggest_amounts_results=this.sortDict(e);else if("Kaikki"===this.selected_biggest_amount)(function(){t.biggest_amounts_headers=t.all_fishes_headers;for(var a=[],s=function(){var t=r[o];e[t].forEach((function(e){e.fish=t;var i=a.find((function(t){return t.boat_number===e.boat_number}));i?i.weight<e.weight&&(i=Object(n["a"])(Object(n["a"])({},e),{},{fish:t})):a.push(e)}))},o=0,r=Object.keys(e);o<r.length;o++)s();a.length?(a.sort((function(t,e){return parseInt(e.weight)-parseInt(t.weight)})),t.results_found_amounts=""):t.results_found_amount="- Ei tuloksia";var l=-1,c=-1;t.biggest_amounts_results=a,t.biggest_amounts_results.forEach((function(t){l===t.weight?t.placement=c:(t.placement=c=i,l=t.weight),i++}))})();else{this.biggest_amounts_headers=this.biggest_headers;var a=[];e[this.selected_biggest_amount]?(a=e[this.selected_biggest_amount].sort((function(t,e){return parseInt(e.weight)-parseInt(t.weight)})),a=a.filter((function(t){return parseInt(t.weight)>0})),this.results_found_amounts=""):this.results_found_amount="- Ei tuloksia";var s=-1,o=-1;this.biggest_amounts_results=a,this.biggest_amounts_results.forEach((function(t){s===t.weight?t.placement=o:(t.placement=o=i,s=t.weight),i++}))}}}},h=p,v=i("2877"),_=i("6544"),g=i.n(_),f=i("8336"),b=i("b0af"),k=i("99d9"),x=i("ac7c"),w=i("cc20"),y=i("62ad"),T=i("a523"),C=i("8fea"),$=i("169a"),S=i("ce7e"),V=i("ce87"),P=i("132d"),I=i("8860"),j=i("da13"),E=i("5d23"),D=i("1baa"),K=i("34c3"),N=i("f774"),L=i("0fd9"),B=i("b974"),O=i("2db4"),R=i("2fa4"),F=i("b73d"),Y=i("71a3"),A=i("c671"),M=i("fe57"),J=i("aac8"),H=i("9a96"),Q=i("8654"),z=i("3a2f"),W=Object(v["a"])(h,a,s,!1,null,"44aa5758",null);e["default"]=W.exports;g()(W,{VBtn:f["a"],VCard:b["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCheckbox:x["a"],VChip:w["a"],VCol:y["a"],VContainer:T["a"],VDataTable:C["a"],VDialog:$["a"],VDivider:S["a"],VHover:V["a"],VIcon:P["a"],VList:I["a"],VListItem:j["a"],VListItemContent:E["a"],VListItemGroup:D["a"],VListItemIcon:K["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VNavigationDrawer:N["a"],VRow:L["a"],VSelect:B["a"],VSnackbar:O["a"],VSpacer:R["a"],VSwitch:F["a"],VTab:Y["a"],VTabItem:A["a"],VTabs:M["a"],VTabsItems:J["a"],VTabsSlider:H["a"],VTextField:Q["a"],VTooltip:z["a"]})},f52d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[t.errors.length?i("v-card",{attrs:{dark:t.$store.getters.getTheme,id:"errordiv",elevation:"20"}},[i("v-alert",{attrs:{type:"error"}},[t._v(" Korjaa seuraavat virheet: ")]),i("v-list",t._l(t.errors,(function(e,a){return i("v-list-item",{key:a},[i("v-list-item-icon",[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e))])],1)],1)})),1)],1):t._e(),i("v-card",{class:{"container-transparent":!t.$store.getters.getTheme,"container-transparent-dark":t.$store.getters.getTheme},attrs:{dark:t.$store.getters.getTheme}},[i("h1",{staticStyle:{margin:"30px"}},[t._v("Kilpailun luonti")]),i("v-tabs",{attrs:{"background-color":"blue lighten-2",color:"blue darken-4",grow:"","show-arrows":"","next-icon":"mdi-arrow-right-bold-box-outline","prev-icon":"mdi-arrow-left-bold-box-outline","center-active":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tabs-slider",{attrs:{color:"blue darken-4"}}),i("v-tab",{attrs:{href:"#basic-info"}},[t._v("1. Perustiedot")]),i("v-tab",{attrs:{href:"#fishes",disabled:!t.basic_info_validated}},[t._v("2. Kilpailun kalalajit")]),i("v-tab",{attrs:{href:"#points",disabled:!t.fish_species_validated}},[t._v("3. Pistekertoimet ja alamitat")]),i("v-tab",{attrs:{href:"#summary",disabled:!t.fish_specs_validated}},[t._v("4. Yhteenveto")])],1),i("v-tabs-items",{staticStyle:{background:"rgba(1, 1, 1, 0.4)"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"basic-info"}},[t.loading?i("v-container",[i("v-row",[i("v-col",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Valmistellaan kilpailun luontia... ")]),i("ProgressBarQuery")],1)],1)],1):i("v-container",[i("v-row",[i("v-col",[i("h4",[t._v("Kilpailun perustiedot")]),t.basic_info_validated?i("p",{staticClass:"yellow lighten-1 black--text"},[t._v(' Tiedot lukittuna, paina "Muuta tietoja" jos haluat vielä muokata tietoja ')]):t._e()])],1),i("v-row",[i("v-col",{attrs:{md:"12"}},[t.cup.name?i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"6","offset-md":"3"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Kilpailun nimi",maxlength:t.max_input,disabled:t.basic_info_validated,rules:t.rules,counter:t.max_input},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1):t._e(),t.cup.name?i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"6","offset-md":"3"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Paikkakunta",maxlength:t.max_input,disabled:t.basic_info_validated,rules:t.rules,counter:t.max_input},model:{value:t.locality,callback:function(e){t.locality=e},expression:"locality"}})],1)],1):t._e(),t.cup.name?i("v-row",[i("v-col",{attrs:{md:"3"}},[i("p",{staticClass:"center-align flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Valitse Cup ")])]),i("v-col",{staticClass:"d-flex",attrs:{md:"6"}},[i("v-select",{attrs:{"menu-props":t.$store.getters.getTheme?"dark":"light",dark:t.$store.getters.getTheme,items:t.cups,"item-text":"select","item-value":"_id",hint:t.cup.name+" ("+t.cup.year+")",disabled:t.basic_info_validated,outlined:"","return-object":"","single-line":""},model:{value:t.cup,callback:function(e){t.cup=e},expression:"cup"}})],1),i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"3"}},[i("v-btn",{attrs:{tile:"",color:"green lighten-1"},on:{click:function(e){return t.$router.push({path:"/continue",query:{tab:"create"}})}}},[i("v-icon",[t._v("mdi-plus-circle")]),t._v("Luo uusi cup!")],1)],1)],1):i("v-row",{staticClass:"valign-wrapper"},[i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"6","offset-md":"2"}},[i("p",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v(' Ei luotuja cuppeja, Luo cup ensin "Jatka Kilpailuja sivulla" (Voit myös luoda cupin kilpailuille, jotka ei ole missään cupissa") ')])]),i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"2"}},[i("router-link",{attrs:{to:"/continue"}},[i("v-btn",{attrs:{tile:"",color:"blue lighten-1"}},[i("v-icon",[t._v("mdi-plus-circle")]),t._v("Luo cup!")],1)],1)],1)],1),t.cup.name?i("v-row",{attrs:{justify:"center"}},[i("v-col",{attrs:{md:"3"}},[i("h2",[t._v("Kilpailun sijoittumispisteet")]),i("v-list",{staticStyle:{"max-height":"400px","overflow-y":"auto"},attrs:{dark:t.$store.getters.getTheme,elevation:"20",outlined:""}},t._l(t.placement_points_array,(function(e,a){return i("div",{key:a,staticStyle:{"margin-top":"20px"}},[i("v-list-item",[i("v-row",{attrs:{align:"center"}},[i("v-col",[i("h3",[t._v("#"+t._s(e.placement))])]),i("v-col",[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Pisteet",rules:t.number_rules,disabled:t.basic_info_validated||!t.editPoints},on:{blur:t.sortPlacements},model:{value:e.points,callback:function(i){t.$set(e,"points",i)},expression:"p.points"}})],1),t.editPoints?i("v-col",[i("v-btn",{attrs:{color:"red"},on:{click:function(e){return t.removePlacement(a)}}},[i("v-icon",[t._v("mdi-delete")])],1)],1):t._e()],1)],1),i("v-divider")],1)})),0),t.editPoints?i("v-row",[i("v-col",[i("v-btn",{attrs:{color:"green"},on:{click:t.addPlacement}},[i("v-icon",[t._v("mdi-plus")]),t._v("Lisää pistesija")],1)],1)],1):t._e(),i("v-row",[t.editPoints?i("v-col",[i("v-btn",{attrs:{block:"",color:"yellow"},on:{click:t.cancelPoints}},[i("v-icon",[t._v("mdi-cancel")]),t._v("Peruuta")],1)],1):t._e(),i("v-col",[i("v-btn",{attrs:{block:"",color:t.editPoints?"green darken-2":"grey"},on:{click:t.confirmPoints}},[i("v-icon",[t._v("mdi-check")]),t._v(t._s(t.editPoints?"Valmis":"Muokkaa"))],1)],1)],1)],1),t.editPoints?i("v-col",{attrs:{cols:"2"}},[i("div",{staticStyle:{"margin-top":"200px"}},[i("p",[t._v(" Palauta alkuperäiset pisteet:"),i("br"),t._v("#1 = 30, #2 = 28, #3 = 26... ")]),i("v-btn",{attrs:{color:"red"},on:{click:t.resetPoints}},[t._v("Palauta")])],1)]):t._e()],1):t._e(),t.cup.name?i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"6","offset-md":"3"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Kilpailun cup osallistumispisteet","append-outer-icon":"add",maxlength:"6","prepend-icon":"remove",counter:6,rules:t.number_rules,disabled:t.basic_info_validated},on:{"click:append-outer":function(e){t.cup_participation_points>=0?t.cup_participation_points++:t.cup_participation_points=1},"click:prepend":function(e){t.cup_participation_points>=1?t.cup_participation_points--:t.cup_participation_points=0},paste:function(t){t.preventDefault()},keypress:function(e){return t.isNumber(e,!0)}},model:{value:t.cup_participation_points,callback:function(e){t.cup_participation_points=e},expression:"cup_participation_points"}})],1)],1):t._e(),t.cup.name?i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"6","offset-md":"3"}},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Cup pistekerroin","append-outer-icon":"add",maxlength:"3","prepend-icon":"remove",counter:3,rules:t.number_rules,disabled:t.basic_info_validated},on:{"click:append-outer":function(e){t.cup_points_multiplier>=1?t.cup_points_multiplier+=.5:t.cup_points_multiplier=1},"click:prepend":function(e){t.cup_points_multiplier>=1.5?t.cup_points_multiplier-=.5:t.cup_points_multiplier=1},paste:function(t){t.preventDefault()},keypress:function(e){return t.isNumber(e,!0)}},model:{value:t.cup_points_multiplier,callback:function(e){t.cup_points_multiplier=e},expression:"cup_points_multiplier"}})],1)],1):t._e(),t.cup.name?i("v-row",[i("v-col",{staticClass:"input-fields",attrs:{md:"6","offset-md":"3"}},[i("v-col",[i("span",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v("Onko Tiimikilpailua?")])]),i("v-col",{attrs:{"offset-md":"4"}},[i("v-radio-group",{attrs:{row:"",disabled:t.basic_info_validated},model:{value:t.team_competition,callback:function(e){t.team_competition=e},expression:"team_competition"}},[i("v-radio",{attrs:{label:"Kyllä",value:"Kyllä"}}),i("v-radio",{attrs:{label:"Ei",value:"Ei"}})],1)],1)],1)],1):t._e(),t.cup.name?i("v-row",{staticStyle:{padding:"10px","margin-bottom":"50px"}},[i("v-col",{attrs:{cols:"12",md:"5"}},[i("v-row",{attrs:{align:"center"}},[i("span",{staticClass:"flow-text col s6",class:{"white--text":t.$store.getters.getTheme}},[t._v("Kilpailun Aloituspäivä")])]),i("v-row",{attrs:{align:"center"}},[i("v-date-picker",{staticClass:"mt-4",staticStyle:{height:"480px"},attrs:{dark:t.$store.getters.getTheme,"full-width":"",elevation:"15",locale:"fi",disabled:t.basic_info_validated},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),i("v-col",{attrs:{cols:"12",md:"5","offset-md":"2"}},[i("v-row",{attrs:{align:"center"}},[i("span",{staticClass:"flow-text col s6",class:{"white--text":t.$store.getters.getTheme}},[t._v("Kilpailun Lopetuspäivä")])]),i("v-row",[i("v-date-picker",{staticClass:"mt-4",staticStyle:{height:"480px"},attrs:{dark:t.$store.getters.getTheme,"full-width":"",elevation:"15",locale:"fi",disabled:t.basic_info_validated},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1):t._e(),t.cup.name?i("v-row",[i("v-col",{attrs:{cols:"12",md:"5"}},[i("v-row",{attrs:{align:"center"}},[i("v-col",[i("span",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v("Kilpailun alkamismisaika")])])],1),i("v-row",{attrs:{align:"center"}},[i("v-col",[i("v-time-picker",{attrs:{dark:t.$store.getters.getTheme,format:"24hr","full-width":"",scrollable:"",elevation:"15",disabled:t.basic_info_validated},model:{value:t.start_time,callback:function(e){t.start_time=e},expression:"start_time"}})],1)],1)],1),i("v-col",{attrs:{cols:"12",md:"5","offset-md":"1"}},[i("v-row",{attrs:{align:"center"}},[i("v-col",{attrs:{md:"12","offset-md":"2"}},[i("span",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme}},[t._v("Kilpailun loppumisaika")])])],1),i("v-row",{attrs:{align:"center"}},[i("v-col",{attrs:{md:"12","offset-md":"2"}},[i("v-time-picker",{attrs:{dark:t.$store.getters.getTheme,format:"24hr","full-width":"",scrollable:"",elevation:"15",disabled:t.basic_info_validated},model:{value:t.end_time,callback:function(e){t.end_time=e},expression:"end_time"}})],1)],1)],1)],1):t._e(),t.basic_info_validated?t._e():i("v-row",[t.cup.name?i("v-col",{attrs:{md:"6","offset-md":"3"}},[i("v-btn",{attrs:{large:"",block:"",color:"green"},on:{click:t.checkBasicInformation}},[i("v-icon",[t._v("mdi-check")]),t._v("Jatka")],1)],1):t._e()],1)],1),t.basic_info_validated?i("v-row",{staticStyle:{"margin-bottom":"20px","margin-top":"20px"}},[i("v-col",{attrs:{md:"6"}},[i("v-btn",{attrs:{large:"",tile:"",color:"grey"},on:{click:function(e){return t.disableInputs(!1)}}},[i("v-icon",[t._v("mdi-pencil")]),t._v("Muuta tietoja")],1)],1),i("v-col",{attrs:{md:"6"}},[i("v-btn",{attrs:{large:"",tile:"",color:"green"},on:{click:function(e){return t.changeTab("fishes")}}},[i("v-icon",[t._v("mdi-check")]),t._v("Jatka")],1)],1)],1):t._e()],1)],1)],1),i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"fishes"}},[i("v-container",{staticStyle:{width:"70%"}},[i("v-row",[i("v-col",[t.fish_species_validated?i("p",{staticClass:"yellow lighten-1 black--text"},[t._v(' Tiedot lukittuna, paina "Muuta tietoja" jos haluat vielä muokata tietoja ')]):t._e()])],1),i("v-row",[i("v-col",[i("v-row",[i("v-col",[i("h3",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Kalalajien valinta ")]),i("p",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" (Yli 40 merkkiä pitkät nimet lyhennetään 40 merkkiin) ")])])],1),i("v-row",[i("v-col",{attrs:{md:"10","offset-md":"1"}},[i("v-combobox",{attrs:{filter:t.filter,"hide-no-data":!t.search,items:t.options,"return-object":"","search-input":t.search,disabled:t.fish_species_validated,"hide-selected":"",label:"Valitse kalalaji, tai luo oma kirjoittamalla",multiple:"",solo:"",clearable:"",rules:t.rules,maxlength:40,dark:t.$store.getters.getTheme,"menu-props":t.$store.getters.getTheme?"dark":"light"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},scopedSlots:t._u([{key:"no-data",fn:function(){return[i("v-list-item",[i("span",{staticClass:"subheading"},[t._v("Luo uusi kalalaji painamalla Enter: ")]),i("v-chip",{attrs:{color:""+t.colors[t.nonce-1],label:"",small:""}},[t._v(" "+t._s(t.search)+" ")])],1)]},proxy:!0},{key:"selection",fn:function(e){var a=e.attrs,s=e.item,n=e.parent,o=e.selected;return[s===Object(s)?i("v-chip",t._b({attrs:{color:s.color,"input-value":o,label:""}},"v-chip",a,!1),[i("span",{staticClass:"pr-2"},[t._v(" "+t._s(s.text)+" ")]),i("v-icon",{attrs:{small:""},on:{click:function(t){return n.selectItem(s)}}},[t._v(" $delete ")])],1):t._e()]}},{key:"item",fn:function(e){var a=e.index,s=e.item;return[t.editing===s?i("v-text-field",{attrs:{autofocus:"",flat:"","background-color":"transparent",solo:"",maxlength:40,rules:t.rules},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.edit(a,s)}},model:{value:t.editing.text,callback:function(e){t.$set(t.editing,"text",e)},expression:"editing.text"}}):i("v-chip",{attrs:{color:s.color,dark:"",label:""}},[t._v(" "+t._s(s.text)+" ")]),i("v-spacer"),i("v-list-item-action",{on:{click:function(t){t.stopPropagation()}}},[i("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.edit(a,s)}}},[i("v-icon",[t._v(t._s(t.editing!==s?"mdi-pencil":"mdi-check"))])],1)],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)],1),i("v-row",{staticStyle:{"margin-top":"50px","margin-bottom":"20px"}},[t.fish_species_validated?i("v-row",{staticStyle:{"margin-bottom":"20px","margin-top":"20px"}},[i("v-col",[i("v-btn",{attrs:{large:"",tile:"",color:"blue lighten-2"},on:{click:function(e){return t.changeTab("basic-info")}}},[i("v-icon",[t._v("mdi-keyboard-return")]),t._v("Takaisin")],1)],1),i("v-col",[i("v-btn",{attrs:{large:"",tile:"",color:"grey"},on:{click:function(e){return t.disableInputs(!1)}}},[i("v-icon",[t._v("mdi-pencil")]),t._v("Muuta tietoja")],1)],1),i("v-col",[i("v-btn",{attrs:{large:"",tile:"",color:"green"},on:{click:function(e){return t.changeTab("points")}}},[i("v-icon",[t._v("mdi-check")]),t._v("Jatka")],1)],1)],1):i("v-row",[i("v-col",{attrs:{md:"6"}},[i("v-btn",{attrs:{large:"",tile:"",color:"blue lighten-2"},on:{click:function(e){return t.changeTab("basic-info")}}},[i("v-icon",[t._v("mdi-keyboard-return")]),t._v("Takaisin")],1)],1),i("v-col",{attrs:{md:"6"}},[i("v-btn",{attrs:{large:"",tile:"",color:"green"},on:{click:t.checkFishSpecies}},[i("v-icon",[t._v("mdi-check")]),t._v("Jatka")],1)],1)],1)],1)],1)],1),i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"points"}},[i("v-container",{staticStyle:{width:"70%"}},[i("v-row",[i("v-col",[i("p",{staticClass:"flow-text center-align",class:{"white--text":t.$store.getters.getTheme}},[t._v(" Syötä kaloille pistekertoimet ja alamitat ")]),t.fish_specs_validated?i("p",{staticClass:"yellow lighten-1 black--text"},[t._v(' Tiedot lukittuna, paina "Muuta tietoja" jos haluat vielä muokata tietoja ')]):t._e()])],1),i("v-row",[i("v-col",{staticClass:"specs",attrs:{id:"select_specs"}},[t.selected.length?i("ul",t._l(t.selected,(function(e,a){return i("li",{key:a,staticClass:"row",attrs:{id:"fish_spec"}},[i("v-row",[i("v-col",[i("span",{staticClass:"flow-text",class:{"white--text":t.$store.getters.getTheme},attrs:{id:"fish_"+(a+1)+"_name"}},[t._v(t._s(a+1)+". "+t._s(e.text))])]),i("v-col",{staticClass:"input-fields"},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Pistekerroin",id:"fish_"+(a+1)+"_multiplier",maxlength:"4",value:"1",type:"number",counter:4,rules:t.number_rules,disabled:t.fish_specs_validated},on:{paste:function(t){t.preventDefault()},keypress:function(e){return t.isNumber(e,!0)}}})],1),i("v-col",{staticClass:"input-fields"},[i("v-text-field",{attrs:{dark:t.$store.getters.getTheme,label:"Alamitta",id:"fish_"+(a+1)+"_minsize",maxlength:40,value:"0",counter:40,rules:t.rules,disabled:t.fish_specs_validated},on:{paste:function(t){t.preventDefault()}}})],1)],1)],1)})),0):i("p",{staticClass:"flow-text center-align"},[t._v(" Yhtään kalaa ei ole valittu! ")])])],1),i("v-row",{staticStyle:{"margin-bottom":"20px"}},[t.selected.length&&!t.validated?i("v-row",[i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"6"}},[i("v-btn",{attrs:{large:"",tile:"",color:"blue lighten-2"},on:{click:function(e){return t.changeTab("fishes")}}},[i("v-icon",[t._v("mdi-keyboard-return")]),t._v("Takaisin")],1)],1),i("v-col",{staticStyle:{"margin-top":"20px"},attrs:{md:"6"}},[i("v-btn",{attrs:{large:"",tile:"",color:"green"},on:{click:t.checkFishSpecs}},[i("v-icon",[t._v("mdi-check")]),t._v("Jatka")],1)],1)],1):i("v-row",{staticStyle:{"margin-bottom":"20px","margin-top":"20px"}},[i("v-col",{attrs:{md:"4"}},[i("v-btn",{attrs:{large:"",tile:"",color:"blue lighten-2"},on:{click:function(e){return t.changeTab("fishes")}}},[i("v-icon",[t._v("mdi-keyboard-return")]),t._v("Takaisin")],1)],1),i("v-col",{attrs:{md:"4"}},[i("v-btn",{attrs:{large:"",tile:"",color:"grey"},on:{click:function(e){return t.disableInputs(!1)}}},[i("v-icon",[t._v("mdi-pencil")]),t._v("Muuta tietoja")],1)],1),i("v-col",{attrs:{md:"4"}},[i("v-btn",{attrs:{large:"",tile:"",color:"green"},on:{click:function(e){return t.changeTab("summary")}}},[i("v-icon",[t._v("mdi-check")]),t._v("Jatka")],1)],1)],1)],1)],1)],1),i("v-tab-item",{class:{inputarea:!t.$store.getters.getTheme,"inputarea-dark":t.$store.getters.getTheme},attrs:{value:"summary"}},[t.loading?i("v-container",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Tallennetaan kilpailua tietokantaan... ")]),i("ProgressBarQuery")],1):i("v-container",[i("v-row",[i("v-col",[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Perustiedot ")])])],1),i("v-row",{staticClass:"basic_summary"},[i("v-col",[i("v-list",{attrs:{outlined:"",elevation:"20",dark:t.$store.getters.getTheme}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-ferry")])],1),i("v-list-item-title",[t._v("Kilpailu")]),i("v-list-item-subtitle",{staticClass:"blue-text"},[i("b",[t._v(t._s(t.name)+" ("+t._s(t.locality)+")")])])],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"yellow darken-1"}},[t._v("mdi-medal")])],1),i("v-list-item-title",[t._v("Cup")]),i("v-list-item-subtitle",{staticClass:"blue-text"},[i("b",[t._v(t._s(t.cup.name))])])],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"green"}},[t._v("mdi-clipboard-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Kilpailun sijoittumispisteet")]),i("v-list",{staticStyle:{"max-height":"400px","overflow-y":"auto"},attrs:{dark:t.$store.getters.getTheme,elevation:"20",outlined:""}},t._l(t.placement_points_array,(function(e,a){return i("div",{key:a,staticStyle:{"margin-top":"20px"}},[i("v-list-item",[i("v-row",{attrs:{align:"center"}},[i("v-col",[i("h3",[t._v("#"+t._s(e.placement))])]),i("v-col",[i("p",[t._v(t._s(e.points)+"p")])])],1)],1),i("v-divider")],1)})),0)],1)],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"green darken-1"}},[t._v("mdi-scoreboard")])],1),i("v-list-item-title",[t._v("Kilpailijoiden Cup osallistumispisteet ")]),i("v-list-item-subtitle",{staticClass:"blue-text"},[i("b",[t._v(t._s(t.cup_participation_points))])])],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-close-outline")])],1),i("v-list-item-title",[t._v("Kilpailun Cup pistekerroin")]),i("v-list-item-subtitle",{staticClass:"blue-text"},[i("b",[t._v(t._s(t.cup_points_multiplier))])])],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-account-multiple-outline")])],1),i("v-list-item-title",[t._v("Onko Tiimikilpailua?")]),i("v-list-item-subtitle",{staticClass:"blue-text"},[t._v(t._s(t.team_competition)+" ")])],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-calendar-today")])],1),i("v-list-item-title",[t._v("Päivämäärä")]),i("v-list-item-subtitle",{staticClass:"blue-text"},[i("b",[t._v(t._s(t.start_date)+" - "+t._s(t.end_date))])])],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-clock-time-four")])],1),i("v-list-item-title",[t._v("Kilpailuaika")]),i("v-list-item-subtitle",{staticClass:"blue-text"},[i("b",[t._v(t._s(t.start_time)+" - "+t._s(t.end_time))])])],1)],1)],1)],1),i("v-row",[i("v-col",{attrs:{md:"12"}},[i("h2",{class:{"white--text":t.$store.getters.getTheme}},[t._v(" Kalojen määritykset ")])])],1),i("v-row",{staticClass:"fishes_summary"},[i("v-col",{attrs:{md:"12"}},[i("v-list",{attrs:{outlined:"",elevation:"20",dark:t.$store.getters.getTheme}},t._l(t.completed_fish_specs,(function(e,a){return i("div",{key:a},[i("v-list-item",[i("v-list-item-title",[t._v(t._s(e.name))]),i("v-divider",{attrs:{vertical:""}}),i("v-list-item-subtitle",{staticClass:"green-text"},[i("b",[t._v(" x "+t._s(e.multiplier))])]),i("v-divider",{attrs:{vertical:""}}),i("v-list-item-subtitle",{staticClass:"blue-text"},[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[i("span",t._g(t._b({},"span",n,!1),s),[i("b",[t._v(t._s(e.minsize)+" cm")])])]}}],null,!0)},[i("span",[t._v(t._s(e.minsize))])])],1)],1)],1)})),0)],1)],1),i("v-row",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[i("v-col",{attrs:{md:"5","offset-md":"1"}},[i("v-btn",{attrs:{large:"",tile:"",color:"blue lighten-2"},on:{click:function(e){return t.changeTab("points")}}},[i("v-icon",[t._v("mdi-keyboard-return")]),t._v("Takaisin")],1)],1),t.validated?i("v-col",{attrs:{md:"5"}},[i("v-btn",{attrs:{large:"",tile:"",color:"green"},on:{click:t.submitCompetition}},[i("v-icon",[t._v("mdi-plus-circle")]),t._v("Luo kilpailu näillä tiedoilla")],1)],1):t._e()],1)],1)],1)],1)],1),i("v-snackbar",{attrs:{timeout:t.timeout},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[i("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},s=[],n=i("2909"),o=i("1da1"),r=(i("96cf"),i("e9c4"),i("d81d"),i("a434"),i("4e827"),i("d3b7"),i("159b"),i("25f0"),i("b0c0"),i("99af"),i("7db0"),i("a9e3"),i("fb6a"),i("ac1f"),i("5319"),i("7149")),l=i("51dd"),c=i("a822"),u=i("e0b1"),m=i("5fb0"),d={name:"RegisterComp",components:{ProgressBarQuery:c["default"]},data:function(){var t=this;return{tab:null,errors:[],selected:[],days_options:[1,2,3,4,5,6,7],name:null,locality:null,cups:[],cup:{},cup_participation_points:5,cup_points_multiplier:1,team_competition:"Ei",start_date:(new Date).toISOString().substr(0,10),end_date:(new Date).toISOString().substr(0,10),start_time:null,end_time:null,basic_info:null,completed_fish_specs:[],basic_info_validated:!1,fish_species_validated:!1,fish_specs_validated:!1,validated:!1,loading:!1,max_input:40,tabs:null,rules:[function(t){return!!t||"Kenttä ei voi jäädä tyhjäksi!"},function(e){return(e||"").length<=t.max_input||"Enintään 40 merkkiä"}],number_rules:[function(t){return!!t||"Kenttä ei voi jäädä tyhjäksi!"},function(t){return!isNaN(t||"")||"Ei ole numero!"},function(t){return(t||"")>=0||"Numeron pitää olla positiivinen!"}],placement_points_array:[],temp_placement_points_array:[],activator:null,attach:null,colors:["green lighten-2","purple lighten-2","indigo lighten-2","cyan lighten-2","teal lighten-2","orange lighten-2"],options:[{text:"Ahven",color:"blue lighten-1",index:0},{text:"Hauki",color:"red lighten-1",index:1},{text:"Kuha",color:"green lighten-1",index:2},{text:"Lohi",color:"purple lighten-1",index:3},{text:"Taimen",color:"indigo lighten-1",index:4}],editing:null,editingIndex:-1,nonce:1,menu:!1,x:0,search:null,y:0,snackbar:!1,text:"",timeout:5e3,editPoints:!1}},mounted:function(){this.getCups(),location.href="#",location.href="#app",this.placement_points_array=JSON.parse(JSON.stringify(m["a"].placement_points))},watch:{selected:function(t,e){var i=this;t.length!==e.length&&(this.selected=t.map((function(t,e){if("string"===typeof t){var a=0;i.nonce>=1&&(a=i.nonce-1),t={text:t,color:i.colors[a],index:e},i.options.push(t),i.nonce++}return t})))}},methods:{addPlacement:function(){var t=this.placement_points_array[this.placement_points_array.length-1];this.placement_points_array.push({points:t.points>1?t.points-1:1,placement:t.placement+1})},removePlacement:function(t){this.placement_points_array.splice(t,1)},sortPlacements:function(){this.placement_points_array.sort((function(t,e){return e.points-t.points})),this.savePlacements()},savePlacements:function(){this.placement_points_array.forEach((function(t,e){t.placement=e+1}))},cancelPoints:function(){this.editPoints=!this.editPoints,this.placement_points_array=JSON.parse(JSON.stringify(this.temp_placement_points_array))},confirmPoints:function(){this.savePlacements(),this.editPoints=!this.editPoints,this.temp_placement_points_array=JSON.parse(JSON.stringify(this.placement_points_array))},resetPoints:function(){this.placement_points_array=JSON.parse(JSON.stringify(m["a"].placement_points)),this.editPoints=!this.editPoints},changeTab:function(t){this.tab=t},edit:function(t,e){this.editing?(this.editing=null,this.editingIndex=-1):(this.editing=e,this.editingIndex=t)},filter:function(t,e,i){if(t.header)return!1;var a=function(t){return null!=t?t:""},s=a(i),n=a(e);return s.toString().toLowerCase().indexOf(n.toString().toLowerCase())>-1},getCups:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=JSON.parse(localStorage.getItem("user")),a=i["_id"],t.loading=!0,e.prev=3,e.next=6,l["a"].getCups({user_id:a});case 6:t.cups=e.sent,t.cups.length&&(t.cups.sort((function(t,e){return t.name-e.name})),t.cups.forEach((function(t){t.select="".concat(t.name," (").concat(t.year,")")})),t.$route.query.cup?t.cup=t.cups.find((function(e){return e.id===t.$route.query.cup})):t.cup=t.cups[t.cups.length-1]),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),t.error=e.t0.message;case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()},isNumber:function(t,e){var i=46,a=".";e||(i=58,a=":"),t=t||window.event;var s=t.which?t.which:t.keyCode;if(s>31&&(s<48||s>57)&&s!==i)t.preventDefault();else{if(s!=i)return!0;if(!(t.target.value.indexOf(a)>=0))return!0;t.preventDefault()}},showError:function(t){this.errors.push(t),location.href="#",location.href="#app"},checkBasicInformation:function(){var t=this;this.errors=[],this.basic_info_validated=!1,this.validated=!1;var e=this.$moment(this.start_date,"YYYY-M-D",!0).isValid(),i=this.$moment(this.end_date,"YYYY-M-D",!0).isValid(),a=this.$moment(this.start_time,"H:mm",!0).isValid(),s=this.$moment(this.end_time,"H:mm",!0).isValid();if(this.name||this.showError("Kilpailun nimi puuttuu!"),this.locality||this.showError("Kilpailun paikkakunta puuttuu!"),this.cup.id||this.showError("Cuppia ei valittuna!"),this.cup_participation_points||this.showError("Määritä kilpailun Cup osallistumispisteet!"),this.cup_points_multiplier||this.showError("Kilpailun pistekerroin puuttuu!"),this.cup_points_multiplier<.1&&this.showError("Kilpailun pistekerroin pitää olla vähintään 0.1!"),this.start_time&&a||(1==!this.start_time?this.showError("Kilpailun alkamisnaika puuttuu!"):this.showError('Syötä aika muodossa "hh:mm" (esim: 13:00). Syötetty aika oli: '+this.start_time)),this.end_time&&s||(1==!this.end_time?this.showError("Kilpailun loppumisaika puuttuu!"):this.showError('Syötä aika muodossa "hh:mm" (esim: 13:00). Syötetty aika oli: '+this.end_time)),this.start_date&&e||(1==!this.start_date?this.showError("Päivämäärää ei ole valittu!"):this.showError('Syötä päivämäärä muodossa "PP.KK.VVVV (esim: 06.02.2020)')),this.end_date&&i){var o=this.$moment(this.start_date).format("DD.MM.YYYY"),r=this.$moment(this.end_date).format("DD.MM.YYYY"),l=this.$moment("".concat(o," ").concat(this.start_time),"DD.MM.YYYY HH:mm"),c=this.$moment("".concat(r," ").concat(this.end_time),"DD.MM.YYYY HH:mm");c.isBefore(l,"minutes")&&this.showError("Kilpailun päättymispäivämäärä ja kellonaika ei voi olla ennen alkamispäivämäärää!")}else 1==!this.end_date?this.showError("Päivämäärää ei ole valittu!"):this.showError('Syötä päivämäärä muodossa "PP.KK.VVVV (esim: 06.02.2020)');if(!this.errors.length){var u=this.$moment(this.start_date).format("DD.MM.YYYY"),m=this.$moment(this.end_date).format("DD.MM.YYYY"),d=this.$moment("".concat(u," ").concat(this.start_time),"DD.MM.YYYY HH:mm"),p=this.$moment("".concat(m," ").concat(this.end_time),"DD.MM.YYYY HH:mm"),h=[];if(1!==this.cup_points_multiplier){var v=1;this.placement_points_array.forEach((function(e){h.push({placement:v,points:e.points*t.cup_points_multiplier}),v++}))}else h=Object(n["a"])(this.placement_points_array);this.basic_info={name:this.name,locality:this.locality,cup_name:this.cup.name,cup_participation_points:Number(this.cup_participation_points),cup_placement_points_array:h,cup_points_multiplier:Number(this.cup_points_multiplier),team_competition:"Ei"!==this.team_competition,start_date:d,end_date:p,start_time:this.start_time,end_time:this.end_time},this.disableInputs(!0),this.tab="fishes"}},checkFishSpecies:function(){this.errors=[],this.fish_species_validated=!1,this.validated=!1,this.selected.length?(this.selected.forEach((function(t){t.text.length>40&&(t.text=t.text.slice(0,40))})),this.disableInputs(!0),this.tab="points"):(this.fish_species_validated=!1,this.showError("Yhtään kalalajia ei ole valittu!"))},checkFishSpecs:function(){this.completed_fish_specs=[];var t=u["default"].getRandomColors(this.selected.length);this.errors=[];for(var e=1;e<this.selected.length+1;e++){var i={name:document.getElementById("fish_".concat(e,"_name")).innerHTML.replace("".concat(e,". "),""),multiplier:Number(document.getElementById("fish_".concat(e,"_multiplier")).value),minsize:document.getElementById("fish_".concat(e,"_minsize")).value,weights:0,color:t[e-1]};!i.multiplier||!i.minsize||parseInt(i.multiplier)<1||parseInt(i.minsize)<0?this.showError("Syötä kalan '".concat(i.name,"' kaikki tiedot oikein! (Pistekerroin > 0, Alamitta >= 0 )")):this.completed_fish_specs.push(i)}!this.errors.length&&this.completed_fish_specs.length==this.selected.length&&this.completed_fish_specs.length>0?(this.fish_specs_validated=!0,this.basic_info_validated&&this.fish_species_validated&&this.fish_specs_validated?(this.disableInputs(!0),this.tab="summary"):(this.validated=!1,0==this.basic_info_validated?this.showError("Tarkista kilpailun perustiedot!"):console.log("Perustiedot kunnossa!"),0==this.fish_species_validated?this.showError("Tarkista kalojen tiedot!"):console.log("Kalojen tiedot kunnossa!"),0==this.fish_specs_validated?this.showError("Tarkista kalojen pistekertoimet ja alamitat!"):console.log("Kalojen pistekertoimet ja alamitat kunnossa!"))):this.showError("Joitain tietoja puuttuu vielä!")},disableInputs:function(t){"basic-info"===this.tab&&(t?this.basic_info_validated=!0:(this.basic_info_validated=!1,this.validated=!1)),"fishes"===this.tab&&(t?this.fish_species_validated=!0:(this.fish_species_validated=!1,this.validated=!1)),"points"===this.tab&&(t?(this.fish_specs_validated=!0,this.validated=!0):(this.fish_specs_validated=!1,this.validated=!1))},submitCompetition:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.validated){e.next=19;break}return t.loading=!0,i=JSON.parse(localStorage.getItem("user")),a=i["_id"],s=t.cup.id,n={cup_id:s,user_id:a,name:t.basic_info.name,locality:t.basic_info.locality,cup_name:t.basic_info.cup_name,cup_placement_points_array:t.basic_info.cup_placement_points_array,cup_participation_points:t.basic_info.cup_participation_points,cup_points_multiplier:t.basic_info.cup_points_multiplier,team_competition:t.basic_info.team_competition,start_date:t.basic_info.start_date,end_date:t.basic_info.end_date,duration:t.basic_info.duration,start_time:t.basic_info.start_time,end_time:t.basic_info.end_time,fishes:t.completed_fish_specs,state:"Rekisteröity",total_weights:0,signees:[],results:[],teams:[],biggest_fishes:{},biggest_amounts:{}},e.prev=6,e.next=9,r["a"].insertCompetition(n);case 9:t.text="Kilpailu lisätty tietokantaan!",t.snackbar=!0,t.$router.push({path:"/continue"}),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](6),t.errors.push(e.t0.message);case 17:e.next=20;break;case 19:t.errors.push("Not validated somehow?");case 20:case"end":return e.stop()}}),e,null,[[6,14]])})))()}}},p=d,h=i("2877"),v=i("6544"),_=i.n(v),g=i("0798"),f=i("8336"),b=i("b0af"),k=i("cc20"),x=i("62ad"),w=i("2b5d"),y=i("a523"),T=i("2e4b"),C=i("ce7e"),$=i("132d"),S=i("8860"),V=i("da13"),P=i("1800"),I=i("5d23"),j=i("34c3"),E=i("67b6"),D=i("43a6"),K=i("0fd9"),N=i("b974"),L=i("2db4"),B=i("2fa4"),O=i("71a3"),R=i("c671"),F=i("fe57"),Y=i("aac8"),A=i("9a96"),M=i("8654"),J=i("c964"),H=i("3a2f"),Q=Object(h["a"])(p,a,s,!1,null,null,null);e["default"]=Q.exports;_()(Q,{VAlert:g["a"],VBtn:f["a"],VCard:b["a"],VChip:k["a"],VCol:x["a"],VCombobox:w["a"],VContainer:y["a"],VDatePicker:T["a"],VDivider:C["a"],VIcon:$["a"],VList:S["a"],VListItem:V["a"],VListItemAction:P["a"],VListItemContent:I["a"],VListItemIcon:j["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"],VRadio:E["a"],VRadioGroup:D["a"],VRow:K["a"],VSelect:N["a"],VSnackbar:L["a"],VSpacer:B["a"],VTab:O["a"],VTabItem:R["a"],VTabs:F["a"],VTabsItems:Y["a"],VTabsSlider:A["a"],VTextField:M["a"],VTimePicker:J["a"],VTooltip:H["a"]})}}]);
//# sourceMappingURL=about~7c5ad5f5.aec9356c.js.map